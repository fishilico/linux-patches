From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Nicolas Iooss <nicolas.iooss_linux@m4x.org>
Date: Sat, 18 Nov 2017 15:14:12 +0100
Subject: [PATCH] {BUG in 4.15-rc1} drivers/net/ethernet/mellanox/mlx5: remove
 buggy &

Found with pointer deref checker plugin
---
 drivers/net/ethernet/mellanox/mlx5/core/ipoib/ipoib.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/mellanox/mlx5/core/ipoib/ipoib.c b/drivers/net/ethernet/mellanox/mlx5/core/ipoib/ipoib.c
index 6bfaaab362dc..dd501c5f2b42 100644
--- a/drivers/net/ethernet/mellanox/mlx5/core/ipoib/ipoib.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/ipoib/ipoib.c
@@ -199,7 +199,7 @@ int mlx5i_init_underlay_qp(struct mlx5e_priv *priv)
 	return 0;
 
 err_qp_modify_to_err:
-	mlx5_core_qp_modify(mdev, MLX5_CMD_OP_2ERR_QP, 0, &context, qp);
+	mlx5_core_qp_modify(mdev, MLX5_CMD_OP_2ERR_QP, 0, context, qp);
 	kfree(context);
 	return ret;
 }
-- 
