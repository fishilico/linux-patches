From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Nicolas Iooss <nicolas.iooss_linux@m4x.org>
Date: Sat, 8 Jul 2017 15:50:54 +0200
Subject: [PATCH] {BUG in 4.13-rc1} netfilter/nf_conntrack_proto: BUG? in
 nf_ct_iterate_destroy

---
 net/netfilter/nf_conntrack_proto.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/net/netfilter/nf_conntrack_proto.c b/net/netfilter/nf_conntrack_proto.c
index 1dcad229c3cc..e575151f1fe8 100644
--- a/net/netfilter/nf_conntrack_proto.c
+++ b/net/netfilter/nf_conntrack_proto.c
@@ -509,7 +509,7 @@ void nf_ct_l4proto_unregister(struct nf_conntrack_l4proto *l4proto[],
 
 	synchronize_net();
 	/* Remove all contrack entries for this protocol */
-	nf_ct_iterate_destroy(kill_l4proto, l4proto);
+	nf_ct_iterate_destroy(kill_l4proto, l4proto[0]); /* BUG? kill_l4proto expects "struct nf_conntrack_l4proto *". Found with pointer deref checker */
 }
 EXPORT_SYMBOL_GPL(nf_ct_l4proto_unregister);
 
-- 
