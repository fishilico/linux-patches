From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Nicolas Iooss <nicolas.iooss_linux@m4x.org>
Date: Sat, 28 Feb 2015 12:12:01 +0800
Subject: [PATCH] {BUG?} drivers/usb/gadget/udc/pxa27x_udc.c: fix
 unused-but-set-parameter warning

---
 drivers/usb/gadget/udc/pxa27x_udc.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/drivers/usb/gadget/udc/pxa27x_udc.c b/drivers/usb/gadget/udc/pxa27x_udc.c
index 001a3b74a993..c9adedb636d7 100644
--- a/drivers/usb/gadget/udc/pxa27x_udc.c
+++ b/drivers/usb/gadget/udc/pxa27x_udc.c
@@ -1825,13 +1825,17 @@ fail:
  * Disables all udc endpoints (even control endpoint), report disconnect to
  * the gadget user.
  */
-static void stop_activity(struct pxa_udc *udc, struct usb_gadget_driver *driver)
+static void stop_activity(struct pxa_udc *udc, struct usb_gadget_driver *driver __attribute__ ((unused)))
 {
 	int i;
 
 	/* don't disconnect drivers more than once */
+	/* error: parameter ‘driver’ set but not used [-Werror=unused-but-set-parameter]
+	 * XXX: BUG??? */
+	/*
 	if (udc->gadget.speed == USB_SPEED_UNKNOWN)
 		driver = NULL;
+	*/
 	udc->gadget.speed = USB_SPEED_UNKNOWN;
 
 	for (i = 0; i < NR_USB_ENDPOINTS; i++)
-- 
