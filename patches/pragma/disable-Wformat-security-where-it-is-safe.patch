From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Nicolas Iooss <nicolas.iooss_linux@m4x.org>
Date: Wed, 18 Mar 2015 23:20:16 +0800
Subject: [PATCH] {PRAGMA} disable -Wformat-security where it is safe

---
 arch/arm/kernel/traps.c                            |  7 +++++--
 arch/arm/mach-omap2/clkt2xxx_virt_prcm_set.c       |  3 +++
 arch/x86/kernel/cpu/mcheck/mce.c                   |  3 +++
 arch/x86/kernel/cpu/mcheck/mce_amd.c               | 16 +++++++++++++++
 arch/x86/kernel/e820.c                             |  4 ++++
 arch/x86/xen/smp.c                                 |  5 ++++-
 crypto/pcrypt.c                                    |  3 +++
 crypto/tcrypt.c                                    |  3 +++
 drivers/acpi/acpi_apd.c                            |  3 +++
 drivers/acpi/acpi_lpss.c                           |  3 +++
 drivers/ata/sata_mv.c                              |  3 +++
 drivers/atm/eni.c                                  |  3 +++
 drivers/atm/zatm.c                                 |  3 +++
 drivers/base/power/sysfs.c                         |  3 +++
 drivers/bcma/scan.c                                |  3 +++
 drivers/block/DAC960.c                             |  3 +++
 drivers/block/aoe/aoechr.c                         |  6 +++++-
 drivers/cdrom/cdrom.c                              |  3 +++
 drivers/char/mem.c                                 |  3 +++
 drivers/clk/clk-qoriq.c                            |  3 +++
 drivers/clk/clkdev.c                               | 15 ++++++++++++--
 drivers/clk/ti/adpll.c                             |  3 +++
 drivers/clocksource/tcb_clksrc.c                   |  4 ++++
 drivers/crypto/qat/qat_common/adf_transport.c      |  3 +++
 drivers/fmc/fmc-dump.c                             |  3 +++
 drivers/gpio/gpiolib-sysfs.c                       |  3 +++
 drivers/gpu/drm/amd/amdgpu/dce_v10_0.c             | 12 +++++++++++
 drivers/gpu/drm/amd/amdgpu/dce_v11_0.c             | 12 +++++++++++
 drivers/gpu/drm/amd/amdgpu/dce_v6_0.c              | 12 +++++++++++
 drivers/gpu/drm/amd/amdgpu/dce_v8_0.c              | 12 +++++++++++
 drivers/gpu/drm/amd/amdgpu/dce_virtual.c           |  4 ++++
 drivers/gpu/drm/amd/amdkfd/kfd_chardev.c           |  3 +++
 drivers/gpu/drm/arc/arcpgu_crtc.c                  |  8 ++++++++
 drivers/gpu/drm/arc/arcpgu_hdmi.c                  |  4 ++++
 drivers/gpu/drm/arc/arcpgu_sim.c                   |  4 ++++
 drivers/gpu/drm/arm/hdlcd_crtc.c                   |  6 ++++++
 drivers/gpu/drm/arm/malidp_crtc.c                  |  3 +++
 drivers/gpu/drm/arm/malidp_planes.c                |  3 +++
 drivers/gpu/drm/armada/armada_crtc.c               |  6 ++++++
 drivers/gpu/drm/armada/armada_overlay.c            |  3 +++
 drivers/gpu/drm/ast/ast_mode.c                     |  4 ++++
 drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_crtc.c     |  3 +++
 drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_output.c   |  3 +++
 drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_plane.c    |  3 +++
 drivers/gpu/drm/bochs/bochs_kms.c                  |  4 ++++
 drivers/gpu/drm/cirrus/cirrus_mode.c               |  4 ++++
 drivers/gpu/drm/drm_modeset_helper.c               |  8 ++++++++
 drivers/gpu/drm/drm_plane.c                        |  4 ++++
 drivers/gpu/drm/drm_simple_kms_helper.c            |  4 ++++
 drivers/gpu/drm/drm_sysfs.c                        |  7 +++++++
 drivers/gpu/drm/exynos/exynos_dp.c                 |  4 ++++
 drivers/gpu/drm/exynos/exynos_drm_crtc.c           |  3 +++
 drivers/gpu/drm/exynos/exynos_drm_dpi.c            |  3 +++
 drivers/gpu/drm/exynos/exynos_drm_dsi.c            |  4 ++++
 drivers/gpu/drm/exynos/exynos_drm_plane.c          |  3 +++
 drivers/gpu/drm/exynos/exynos_drm_vidi.c           |  4 ++++
 drivers/gpu/drm/exynos/exynos_hdmi.c               |  4 ++++
 drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_crtc.c         |  3 +++
 drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_plane.c        |  3 +++
 drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_rgb.c          |  4 ++++
 drivers/gpu/drm/gma500/cdv_intel_crt.c             |  4 ++++
 drivers/gpu/drm/gma500/cdv_intel_dp.c              |  4 ++++
 drivers/gpu/drm/gma500/cdv_intel_hdmi.c            |  4 ++++
 drivers/gpu/drm/gma500/cdv_intel_lvds.c            |  4 ++++
 drivers/gpu/drm/gma500/mdfld_dsi_dpi.c             |  4 ++++
 drivers/gpu/drm/gma500/oaktrail_hdmi.c             |  4 ++++
 drivers/gpu/drm/gma500/oaktrail_lvds.c             |  4 ++++
 drivers/gpu/drm/gma500/psb_intel_lvds.c            |  4 ++++
 drivers/gpu/drm/gma500/psb_intel_sdvo.c            |  4 ++++
 drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_de.c     |  8 ++++++++
 drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_vdac.c   |  4 ++++
 drivers/gpu/drm/i2c/tda998x_drv.c                  |  4 ++++
 drivers/gpu/drm/imx/dw_hdmi-imx.c                  |  4 ++++
 drivers/gpu/drm/imx/imx-drm-core.c                 |  3 +++
 drivers/gpu/drm/imx/imx-ldb.c                      |  4 ++++
 drivers/gpu/drm/imx/imx-tve.c                      |  4 ++++
 drivers/gpu/drm/imx/ipuv3-plane.c                  |  3 +++
 drivers/gpu/drm/imx/parallel-display.c             |  4 ++++
 drivers/gpu/drm/mediatek/mtk_dpi.c                 |  4 ++++
 drivers/gpu/drm/mediatek/mtk_drm_crtc.c            |  3 +++
 drivers/gpu/drm/mediatek/mtk_drm_plane.c           |  3 +++
 drivers/gpu/drm/mediatek/mtk_dsi.c                 |  4 ++++
 drivers/gpu/drm/mgag200/mgag200_mode.c             |  4 ++++
 drivers/gpu/drm/msm/mdp/mdp4/mdp4_crtc.c           |  3 +++
 drivers/gpu/drm/msm/mdp/mdp4/mdp4_dsi_encoder.c    |  4 ++++
 drivers/gpu/drm/msm/mdp/mdp4/mdp4_dtv_encoder.c    |  4 ++++
 drivers/gpu/drm/msm/mdp/mdp4/mdp4_lcdc_encoder.c   |  4 ++++
 drivers/gpu/drm/msm/mdp/mdp4/mdp4_plane.c          |  3 +++
 drivers/gpu/drm/msm/mdp/mdp5/mdp5_crtc.c           |  3 +++
 drivers/gpu/drm/msm/mdp/mdp5/mdp5_encoder.c        |  4 ++++
 drivers/gpu/drm/msm/mdp/mdp5/mdp5_plane.c          |  3 +++
 drivers/gpu/drm/nouveau/dispnv04/dac.c             |  4 ++++
 drivers/gpu/drm/nouveau/dispnv04/dfp.c             |  4 ++++
 drivers/gpu/drm/nouveau/dispnv04/tvnv04.c          |  4 ++++
 drivers/gpu/drm/nouveau/dispnv04/tvnv17.c          |  4 ++++
 drivers/gpu/drm/omapdrm/omap_crtc.c                |  3 +++
 drivers/gpu/drm/omapdrm/omap_encoder.c             |  4 ++++
 drivers/gpu/drm/omapdrm/omap_plane.c               |  3 +++
 drivers/gpu/drm/qxl/qxl_display.c                  |  4 ++++
 drivers/gpu/drm/radeon/atombios_encoders.c         | 20 ++++++++++++++++++
 drivers/gpu/drm/radeon/radeon_dp_mst.c             |  4 ++++
 drivers/gpu/drm/radeon/radeon_legacy_encoders.c    | 20 ++++++++++++++++++
 drivers/gpu/drm/rcar-du/rcar_du_crtc.c             |  3 +++
 drivers/gpu/drm/rcar-du/rcar_du_encoder.c          |  4 ++++
 drivers/gpu/drm/rcar-du/rcar_du_hdmienc.c          |  4 ++++
 drivers/gpu/drm/rcar-du/rcar_du_plane.c            |  3 +++
 drivers/gpu/drm/rcar-du/rcar_du_vsp.c              |  3 +++
 drivers/gpu/drm/rockchip/analogix_dp-rockchip.c    |  4 ++++
 drivers/gpu/drm/rockchip/dw-mipi-dsi.c             |  4 ++++
 drivers/gpu/drm/rockchip/dw_hdmi-rockchip.c        |  4 ++++
 drivers/gpu/drm/rockchip/inno_hdmi.c               |  4 ++++
 drivers/gpu/drm/rockchip/rockchip_drm_vop.c        |  9 ++++++++
 drivers/gpu/drm/shmobile/shmob_drm_crtc.c          |  4 ++++
 drivers/gpu/drm/sti/sti_crtc.c                     |  3 +++
 drivers/gpu/drm/sti/sti_cursor.c                   |  3 +++
 drivers/gpu/drm/sti/sti_gdp.c                      |  3 +++
 drivers/gpu/drm/sti/sti_hqvdp.c                    |  3 +++
 drivers/gpu/drm/sti/sti_tvout.c                    | 12 +++++++++++
 drivers/gpu/drm/sun4i/sun4i_crtc.c                 |  3 +++
 drivers/gpu/drm/sun4i/sun4i_layer.c                |  3 +++
 drivers/gpu/drm/sun4i/sun4i_rgb.c                  |  4 ++++
 drivers/gpu/drm/sun4i/sun4i_tv.c                   |  4 ++++
 drivers/gpu/drm/tegra/dc.c                         | 12 +++++++++++
 drivers/gpu/drm/tegra/dsi.c                        |  4 ++++
 drivers/gpu/drm/tegra/hdmi.c                       |  4 ++++
 drivers/gpu/drm/tegra/rgb.c                        |  4 ++++
 drivers/gpu/drm/tegra/sor.c                        |  4 ++++
 drivers/gpu/drm/tilcdc/tilcdc_external.c           |  4 ++++
 drivers/gpu/drm/tilcdc/tilcdc_panel.c              |  4 ++++
 drivers/gpu/drm/tilcdc/tilcdc_tfp410.c             |  4 ++++
 drivers/gpu/drm/ttm/ttm_memory.c                   |  6 ++++++
 drivers/gpu/drm/udl/udl_encoder.c                  |  4 ++++
 drivers/gpu/drm/vc4/vc4_crtc.c                     |  4 ++++
 drivers/gpu/drm/vc4/vc4_dpi.c                      |  4 ++++
 drivers/gpu/drm/vc4/vc4_hdmi.c                     |  4 ++++
 drivers/gpu/drm/vc4/vc4_plane.c                    |  4 ++++
 drivers/gpu/drm/vc4/vc4_vec.c                      |  4 ++++
 drivers/gpu/drm/virtio/virtgpu_display.c           |  4 ++++
 drivers/gpu/drm/virtio/virtgpu_plane.c             |  4 ++++
 drivers/gpu/drm/vmwgfx/vmwgfx_ldu.c                |  4 ++++
 drivers/gpu/drm/vmwgfx/vmwgfx_scrn.c               |  4 ++++
 drivers/gpu/drm/vmwgfx/vmwgfx_stdu.c               |  4 ++++
 drivers/gpu/drm/zte/zx_hdmi.c                      |  4 ++++
 drivers/gpu/drm/zte/zx_plane.c                     |  3 +++
 drivers/gpu/drm/zte/zx_vou.c                       |  3 +++
 drivers/hid/hid-sony.c                             |  6 ++++++
 drivers/hwmon/abituguru.c                          |  9 ++++++++
 drivers/hwmon/abituguru3.c                         |  3 +++
 drivers/hwmon/applesmc.c                           | 10 +++++++++
 drivers/hwmon/hwmon.c                              |  3 +++
 drivers/hwmon/lm63.c                               |  3 +++
 drivers/hwmon/lm95234.c                            |  3 +++
 drivers/hwmon/nct6683.c                            |  3 +++
 drivers/hwmon/nct6775.c                            |  3 +++
 drivers/iio/accel/bma180.c                         |  3 +++
 drivers/iio/accel/bmc150-accel-core.c              | 11 ++++++++++
 drivers/infiniband/core/device.c                   |  7 +++++++
 drivers/infiniband/hw/hfi1/debugfs.c               |  4 ++++
 drivers/infiniband/hw/qib/qib_file_ops.c           |  4 ++++
 drivers/input/joystick/adi.c                       |  3 +++
 drivers/input/joystick/tmdc.c                      |  3 +++
 drivers/input/tablet/aiptek.c                      |  3 +++
 drivers/iommu/irq_remapping.c                      |  3 +++
 drivers/isdn/gigaset/ev-layer.c                    |  3 +++
 drivers/isdn/hisax/callc.c                         |  3 +++
 drivers/isdn/hisax/config.c                        |  3 +++
 drivers/isdn/hisax/hfc_pci.c                       |  3 +++
 drivers/isdn/hisax/hfc_sx.c                        |  3 +++
 drivers/isdn/hisax/q931.c                          |  9 ++++++++
 drivers/md/bcache/util.c                           |  3 +++
 drivers/md/bcache/util.h                           | 22 ++++++++++++++++++++
 drivers/media/dvb-frontends/tda10021.c             |  3 +++
 drivers/media/dvb-frontends/tda10023.c             |  3 +++
 drivers/media/dvb-frontends/ves1820.c              |  3 +++
 drivers/media/pci/cx23885/cx23885-dvb.c            |  3 +++
 drivers/media/radio/radio-shark.c                  |  3 +++
 drivers/media/radio/radio-shark2.c                 |  3 +++
 drivers/media/usb/cx231xx/cx231xx-dvb.c            |  6 ++++++
 drivers/media/usb/pvrusb2/pvrusb2-std.c            |  4 ++++
 drivers/mfd/mc13xxx-core.c                         |  3 +++
 drivers/misc/altera-stapl/altera.c                 |  4 ++++
 drivers/misc/cb710/debug.c                         |  3 +++
 drivers/misc/mic/scif/scif_main.c                  |  3 +++
 drivers/misc/mic/scif/scif_nodeqp.c                |  3 +++
 drivers/mmc/core/mmc.c                             |  4 ++++
 drivers/net/ethernet/8390/ne2k-pci.c               |  3 +++
 drivers/net/ethernet/8390/smc-ultra.c              |  3 +++
 drivers/net/ethernet/8390/wd.c                     |  3 +++
 drivers/net/ethernet/adaptec/starfire.c            |  3 +++
 drivers/net/ethernet/amd/lance.c                   |  3 +++
 .../net/ethernet/broadcom/bnx2x/bnx2x_ethtool.c    |  3 +++
 drivers/net/ethernet/chelsio/cxgb4/cxgb4_debugfs.c |  3 +++
 drivers/net/ethernet/chelsio/cxgb4/l2t.c           |  6 +++++-
 drivers/net/ethernet/dec/tulip/de4x5.c             |  3 +++
 drivers/net/ethernet/dec/tulip/winbond-840.c       |  3 +++
 drivers/net/ethernet/dlink/sundance.c              |  3 +++
 drivers/net/ethernet/fealnx.c                      |  3 +++
 .../net/ethernet/hisilicon/hns/hns_dsaf_xgmac.c    |  4 ++++
 drivers/net/ethernet/intel/fm10k/fm10k_debugfs.c   |  6 ++++++
 .../net/ethernet/mellanox/mlx5/core/en_ethtool.c   |  3 +++
 drivers/net/ethernet/natsemi/natsemi.c             |  3 +++
 .../net/ethernet/netronome/nfp/nfp_net_common.c    |  3 +++
 drivers/net/ethernet/packetengines/hamachi.c       |  3 +++
 drivers/net/ethernet/packetengines/yellowfin.c     |  6 ++++++
 drivers/net/ethernet/qlogic/qed/qed_debug.c        |  3 +++
 drivers/net/ethernet/qlogic/qlcnic/qlcnic_ctx.c    |  3 +++
 drivers/net/ethernet/qualcomm/emac/emac-mac.c      |  3 +++
 drivers/net/ethernet/sfc/ethtool.c                 | 10 +++++++--
 drivers/net/ethernet/sfc/falcon/ethtool.c          |  3 +++
 drivers/net/ethernet/sis/sis900.c                  |  3 +++
 drivers/net/ethernet/sun/niu.c                     |  6 ++++++
 drivers/net/fddi/defxx.c                           |  3 +++
 drivers/net/hamradio/baycom_epp.c                  |  3 +++
 drivers/net/hamradio/baycom_par.c                  |  3 +++
 drivers/net/hamradio/baycom_ser_fdx.c              |  3 +++
 drivers/net/hamradio/baycom_ser_hdx.c              |  3 +++
 drivers/net/hamradio/bpqether.c                    |  3 +++
 drivers/net/hamradio/scc.c                         |  3 +++
 drivers/net/hamradio/yam.c                         |  3 +++
 drivers/net/hippi/rrunner.c                        |  3 +++
 drivers/net/ipvlan/ipvtap.c                        |  2 +-
 drivers/net/macvtap.c                              |  4 ++++
 drivers/net/phy/phy_device.c                       |  3 +++
 drivers/net/wan/lapbether.c                        |  3 +++
 drivers/net/wireless/broadcom/b43/main.c           |  6 ++++++
 .../wireless/broadcom/brcm80211/brcmfmac/chip.c    |  3 +++
 drivers/net/wireless/intel/iwlegacy/4965-debug.c   |  9 ++++++++
 drivers/net/wireless/intel/iwlwifi/dvm/debugfs.c   |  9 ++++++++
 drivers/net/wireless/intel/iwlwifi/mvm/debugfs.c   |  3 +++
 drivers/net/wireless/intel/iwlwifi/mvm/fw-dbg.h    |  3 +++
 drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c  |  3 +++
 drivers/net/wireless/intel/iwlwifi/mvm/rx.c        |  6 ++++++
 drivers/net/wireless/intel/iwlwifi/mvm/rxmq.c      |  3 +++
 drivers/net/wireless/marvell/mwifiex/sta_ioctl.c   |  3 +++
 drivers/parport/share.c                            |  3 +++
 drivers/pci/probe.c                                |  6 ++++++
 drivers/pnp/interface.c                            |  4 ++++
 drivers/remoteproc/remoteproc_core.c               |  3 +++
 drivers/scsi/aacraid/linit.c                       |  3 +++
 drivers/scsi/aic7xxx/aic79xx_pci.c                 |  7 ++++++-
 drivers/scsi/gdth.c                                |  4 ++++
 drivers/scsi/iscsi_boot_sysfs.c                    |  3 +++
 drivers/scsi/lpfc/lpfc_debugfs.c                   | 18 ++++++++++++++++
 drivers/scsi/scsi_logging.c                        |  3 +++
 drivers/scsi/smartpqi/smartpqi_init.c              |  3 +++
 drivers/scsi/st.c                                  |  3 +++
 drivers/staging/lustre/lnet/libcfs/tracefile.c     |  4 ++++
 drivers/staging/lustre/lnet/lnet/peer.c            |  3 +++
 drivers/staging/lustre/lustre/ptlrpc/pinger.c      |  4 ++++
 drivers/staging/most/hdm-dim2/dim2_hdm.c           |  3 +++
 drivers/staging/most/mostcore/core.c               |  4 ++++
 drivers/staging/speakup/keyhelp.c                  |  6 ++++++
 drivers/staging/speakup/kobjects.c                 |  6 ++++++
 drivers/staging/speakup/main.c                     | 21 +++++++++++++++++++
 drivers/staging/speakup/speakup_soft.c             |  6 +++++-
 drivers/staging/speakup/synth.c                    |  3 +++
 drivers/staging/speakup/varhandlers.c              |  3 +++
 drivers/staging/vme/devices/vme_user.c             |  3 +++
 drivers/tty/serial/pch_uart.c                      |  3 +++
 drivers/usb/core/devices.c                         | 24 ++++++++++++++++++++++
 drivers/usb/core/file.c                            |  3 +++
 drivers/usb/host/ehci-dbg.c                        | 12 +++++++++++
 drivers/usb/host/fotg210-hcd.c                     |  9 ++++++++
 drivers/video/fbdev/matrox/i2c-matroxfb.c          |  4 ++++
 fs/btrfs/check-integrity.c                         |  6 ++++++
 fs/btrfs/ctree.c                                   | 12 +++++++++++
 fs/btrfs/extent-tree.c                             |  7 ++++++-
 fs/btrfs/inode-item.c                              |  3 +++
 fs/btrfs/relocation.c                              |  4 ++++
 fs/btrfs/super.c                                   |  4 ++++
 fs/btrfs/sysfs.c                                   |  3 +++
 fs/btrfs/volumes.c                                 |  6 ++++++
 fs/libfs.c                                         |  4 ++++
 fs/ocfs2/ocfs2_fs.h                                |  7 ++++++-
 fs/proc/version.c                                  |  3 +++
 fs/reiserfs/prints.c                               |  4 ++--
 include/linux/kernel.h                             | 16 +++++++++++++--
 init/do_mounts_initrd.c                            |  4 ++++
 kernel/debug/kdb/kdb_io.c                          | 18 ++++++++++++++++
 kernel/debug/kdb/kdb_main.c                        |  7 +++++++
 kernel/irq/irqdomain.c                             |  4 ++++
 kernel/kallsyms.c                                  |  3 +++
 kernel/kthread.c                                   |  4 ++++
 kernel/trace/bpf_trace.c                           |  3 +++
 lib/globtest.c                                     |  4 ++++
 lib/test_printf.c                                  |  3 +++
 mm/kasan/report.c                                  |  3 +++
 mm/shmem.c                                         |  3 +++
 mm/slub.c                                          |  4 ++++
 net/8021q/vlanproc.c                               |  3 +++
 net/can/proc.c                                     |  3 +++
 net/core/dev.c                                     | 12 +++++++++++
 net/netfilter/ipvs/ip_vs_sync.c                    |  4 ++++
 net/netfilter/nf_tables_api.c                      |  4 ++++
 net/netfilter/nft_compat.c                         |  4 ++++
 net/tipc/netlink_compat.c                          |  3 +++
 security/integrity/ima/ima_policy.c                |  6 ++++++
 sound/core/ctljack.c                               |  3 +++
 sound/core/misc.c                                  |  3 +++
 sound/core/seq/seq_clientmgr.c                     |  3 +++
 sound/drivers/dummy.c                              |  3 +++
 sound/drivers/opl3/opl3_seq.c                      |  3 +++
 sound/pci/korg1212/korg1212.c                      |  3 +++
 sound/pci/rme32.c                                  |  3 +++
 sound/pci/rme96.c                                  |  3 +++
 sound/soc/omap/mcbsp.c                             |  3 +++
 sound/usb/midi.c                                   |  3 +++
 sound/usb/mixer_quirks.c                           |  3 +++
 308 files changed, 1403 insertions(+), 18 deletions(-)

diff --git a/arch/arm/kernel/traps.c b/arch/arm/kernel/traps.c
index 948c648fea00..1b524c576c4b 100644
--- a/arch/arm/kernel/traps.c
+++ b/arch/arm/kernel/traps.c
@@ -179,10 +179,13 @@ static void dump_instr(const char *lvl, struct pt_regs *regs)
 		else
 			bad = __get_user(val, &((u32 *)addr)[i]);
 
-		if (!bad)
+		if (!bad) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			p += sprintf(p, i == 0 ? "(%0*x) " : "%0*x ",
 					width, val);
-		else {
+#pragma GCC diagnostic pop
+		} else {
 			p += sprintf(p, "bad PC value");
 			break;
 		}
diff --git a/arch/arm/mach-omap2/clkt2xxx_virt_prcm_set.c b/arch/arm/mach-omap2/clkt2xxx_virt_prcm_set.c
index b64d717bfab6..5b87df39c2ae 100644
--- a/arch/arm/mach-omap2/clkt2xxx_virt_prcm_set.c
+++ b/arch/arm/mach-omap2/clkt2xxx_virt_prcm_set.c
@@ -247,7 +247,10 @@ void omap2xxx_clkt_vps_init(void)
 	hw->hw.init = &init;
 
 	clk = clk_register(NULL, &hw->hw);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	clkdev_create(clk, "cpufreq_ck", NULL);
+#pragma GCC diagnostic pop
 	return;
 cleanup:
 	kfree(hw);
diff --git a/arch/x86/kernel/cpu/mcheck/mce.c b/arch/x86/kernel/cpu/mcheck/mce.c
index 8e9725c607ea..eddb80a28b2a 100644
--- a/arch/x86/kernel/cpu/mcheck/mce.c
+++ b/arch/x86/kernel/cpu/mcheck/mce.c
@@ -409,7 +409,10 @@ static void mce_panic(const char *msg, struct mce *final, char *exp)
 	if (!fake_panic) {
 		if (panic_timeout == 0)
 			panic_timeout = mca_cfg.panic_timeout;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		panic(msg);
+#pragma GCC diagnostic pop
 	} else
 		pr_emerg(HW_ERR "Fake kernel panic: %s\n", msg);
 }
diff --git a/arch/x86/kernel/cpu/mcheck/mce_amd.c b/arch/x86/kernel/cpu/mcheck/mce_amd.c
index 524cc5780a77..1ce55f90f28f 100644
--- a/arch/x86/kernel/cpu/mcheck/mce_amd.c
+++ b/arch/x86/kernel/cpu/mcheck/mce_amd.c
@@ -1127,9 +1127,13 @@ static int allocate_threshold_blocks(unsigned int cpu, unsigned int bank,
 		per_cpu(threshold_banks, cpu)[bank]->blocks = b;
 	}
 
+/* bank4_names(b) and th_names[bank] are well-defined constant string */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	err = kobject_init_and_add(&b->kobj, &threshold_ktype,
 				   per_cpu(threshold_banks, cpu)[bank]->kobj,
 				   get_name(bank, b));
+#pragma GCC diagnostic pop
 	if (err)
 		goto out_free;
 recurse:
@@ -1162,13 +1166,21 @@ static int __threshold_add_blocks(struct threshold_bank *b)
 	struct threshold_block *tmp = NULL;
 	int err = 0;
 
+/* b->blocks->kobj.name comes from allocate_threshold_blocks */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	err = kobject_add(&b->blocks->kobj, b->kobj, b->blocks->kobj.name);
+#pragma GCC diagnostic pop
 	if (err)
 		return err;
 
 	list_for_each_entry_safe(pos, tmp, head, miscj) {
 
+/* pos->kobj.name comes from allocate_threshold_blocks */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		err = kobject_add(&pos->kobj, b->kobj, pos->kobj.name);
+#pragma GCC diagnostic pop
 		if (err) {
 			list_for_each_entry_safe_reverse(pos, tmp, head, miscj)
 				kobject_del(&pos->kobj);
@@ -1197,7 +1209,11 @@ static int threshold_create_bank(unsigned int cpu, unsigned int bank)
 		if (nb && nb->bank4) {
 			/* yes, use it */
 			b = nb->bank4;
+/* name is a constant string */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			err = kobject_add(b->kobj, &dev->kobj, name);
+#pragma GCC diagnostic pop
 			if (err)
 				goto out;
 
diff --git a/arch/x86/kernel/e820.c b/arch/x86/kernel/e820.c
index b2bbad6ebe4d..9182935e1330 100644
--- a/arch/x86/kernel/e820.c
+++ b/arch/x86/kernel/e820.c
@@ -825,8 +825,12 @@ unsigned long __init e820_end_of_low_ram_pfn(void)
 
 static void __init early_panic(char *msg)
 {
+/* format is safe here */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	early_printk(msg);
 	panic(msg);
+#pragma GCC diagnostic pop
 }
 
 static int userdef __initdata;
diff --git a/arch/x86/xen/smp.c b/arch/x86/xen/smp.c
index 7ff2f1bfb7ec..9c3a15cbfcf3 100644
--- a/arch/x86/xen/smp.c
+++ b/arch/x86/xen/smp.c
@@ -335,13 +335,16 @@ static void __init xen_smp_prepare_cpus(unsigned int max_cpus)
 	unsigned int i;
 
 	if (skip_ioapic_setup) {
-		char *m = (max_cpus == 0) ?
+		const char *m = (max_cpus == 0) ?
 			"The nosmp parameter is incompatible with Xen; " \
 			"use Xen dom0_max_vcpus=1 parameter" :
 			"The noapic parameter is incompatible with Xen";
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		xen_raw_printk(m);
 		panic(m);
+#pragma GCC diagnostic pop
 	}
 	xen_init_lock_cpu(0);
 
diff --git a/crypto/pcrypt.c b/crypto/pcrypt.c
index ee9cfb99fe25..32b30972d32a 100644
--- a/crypto/pcrypt.c
+++ b/crypto/pcrypt.c
@@ -392,7 +392,10 @@ static int pcrypt_sysfs_add(struct padata_instance *pinst, const char *name)
 	int ret;
 
 	pinst->kobj.kset = pcrypt_kset;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = kobject_add(&pinst->kobj, NULL, name);
+#pragma GCC diagnostic pop
 	if (!ret)
 		kobject_uevent(&pinst->kobj, KOBJ_ADD);
 
diff --git a/crypto/tcrypt.c b/crypto/tcrypt.c
index 9a11f3c2bf98..2bc58aab26de 100644
--- a/crypto/tcrypt.c
+++ b/crypto/tcrypt.c
@@ -1002,8 +1002,11 @@ static void test_available(void)
 
 	while (*name) {
 		printk("alg %s ", *name);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(crypto_has_alg(*name, 0, 0) ?
 		       "found\n" : "not found\n");
+#pragma GCC diagnostic pop
 		name++;
 	}
 }
diff --git a/drivers/acpi/acpi_apd.c b/drivers/acpi/acpi_apd.c
index 26696b693e63..e6e5827038e2 100644
--- a/drivers/acpi/acpi_apd.c
+++ b/drivers/acpi/acpi_apd.c
@@ -64,7 +64,10 @@ static int acpi_apd_setup(struct apd_private_data *pdata)
 		clk = clk_register_fixed_rate(&pdata->adev->dev,
 					dev_name(&pdata->adev->dev),
 					NULL, 0, dev_desc->fixed_clk_rate);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		clk_register_clkdev(clk, NULL, dev_name(&pdata->adev->dev));
+#pragma GCC diagnostic pop
 		pdata->clk = clk;
 	}
 
diff --git a/drivers/acpi/acpi_lpss.c b/drivers/acpi/acpi_lpss.c
index 5edfd9c49044..55a1eb7af567 100644
--- a/drivers/acpi/acpi_lpss.c
+++ b/drivers/acpi/acpi_lpss.c
@@ -393,7 +393,10 @@ static int register_device_clock(struct acpi_device *adev,
 		return PTR_ERR(clk);
 
 	pdata->clk = clk;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	clk_register_clkdev(clk, dev_desc->clk_con_id, devname);
+#pragma GCC diagnostic pop
 	return 0;
 }
 
diff --git a/drivers/ata/sata_mv.c b/drivers/ata/sata_mv.c
index 00ce26d0c047..d12bd6ca7227 100644
--- a/drivers/ata/sata_mv.c
+++ b/drivers/ata/sata_mv.c
@@ -2715,8 +2715,11 @@ static void mv_err_intr(struct ata_port *ap)
 	}
 	if (edma_err_cause & (EDMA_ERR_DEV_DCON | EDMA_ERR_DEV_CON)) {
 		ata_ehi_hotplugged(ehi);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		ata_ehi_push_desc(ehi, edma_err_cause & EDMA_ERR_DEV_DCON ?
 			"dev disconnect" : "dev connect");
+#pragma GCC diagnostic pop
 		action |= ATA_EH_RESET;
 	}
 
diff --git a/drivers/atm/eni.c b/drivers/atm/eni.c
index b042ec458544..282c31c3682c 100644
--- a/drivers/atm/eni.c
+++ b/drivers/atm/eni.c
@@ -126,7 +126,10 @@ static void event_dump(void)
 	for (n = 0; n < EV; n++) {
 		i = (ec+n) % EV;
 		printk(KERN_NOTICE);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(ev[i] ? ev[i] : "(null)",ev_a[i],ev_b[i]);
+#pragma GCC diagnostic pop
 	}
 }
 
diff --git a/drivers/atm/zatm.c b/drivers/atm/zatm.c
index 292dec18ffb8..6e43c1c94ac5 100644
--- a/drivers/atm/zatm.c
+++ b/drivers/atm/zatm.c
@@ -106,7 +106,10 @@ static void event_dump(void)
 	for (n = 0; n < EV; n++) {
 		i = (ec+n) % EV;
 		printk(KERN_NOTICE);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(ev[i] ? ev[i] : "(null)",ev_a[i],ev_b[i]);
+#pragma GCC diagnostic pop
 	}
 	printk(KERN_NOTICE "----- event dump ends here -----\n");
 }
diff --git a/drivers/base/power/sysfs.c b/drivers/base/power/sysfs.c
index 33b4b902741a..9f8dd96dbd29 100644
--- a/drivers/base/power/sysfs.c
+++ b/drivers/base/power/sysfs.c
@@ -181,7 +181,10 @@ static ssize_t rtpm_status_show(struct device *dev,
 			return -EIO;
 		}
 	}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	return sprintf(buf, p);
+#pragma GCC diagnostic pop
 }
 
 static DEVICE_ATTR(runtime_status, 0444, rtpm_status_show, NULL);
diff --git a/drivers/bcma/scan.c b/drivers/bcma/scan.c
index 4a2d1b235fb5..c15ebc31a7ba 100644
--- a/drivers/bcma/scan.c
+++ b/drivers/bcma/scan.c
@@ -453,8 +453,11 @@ void bcma_detect_chip(struct bcma_bus *bus)
 	chipinfo->rev = (tmp & BCMA_CC_ID_REV) >> BCMA_CC_ID_REV_SHIFT;
 	chipinfo->pkg = (tmp & BCMA_CC_ID_PKG) >> BCMA_CC_ID_PKG_SHIFT;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(chip_id, ARRAY_SIZE(chip_id),
 		 (chipinfo->id > 0x9999) ? "%d" : "0x%04X", chipinfo->id);
+#pragma GCC diagnostic pop
 	bcma_info(bus, "Found chip with id %s, rev 0x%02X and package 0x%02X\n",
 		  chip_id, chipinfo->rev, chipinfo->pkg);
 }
diff --git a/drivers/block/DAC960.c b/drivers/block/DAC960.c
index 26a51be77227..fd9cd92739cc 100644
--- a/drivers/block/DAC960.c
+++ b/drivers/block/DAC960.c
@@ -4580,7 +4580,10 @@ static void DAC960_V2_ReportEvent(DAC960_Controller_T *Controller,
       break;
     case 'E':
       if (Controller->SuppressEnclosureMessages) break;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
       sprintf(MessageBuffer, EventMessage, Event->LogicalUnit);
+#pragma GCC diagnostic pop
       DAC960_Critical("Enclosure %d %s\n", Controller,
 		      Event->TargetID, MessageBuffer);
       break;
diff --git a/drivers/block/aoe/aoechr.c b/drivers/block/aoe/aoechr.c
index ab41be625a53..ece88bcd2e00 100644
--- a/drivers/block/aoe/aoechr.c
+++ b/drivers/block/aoe/aoechr.c
@@ -299,10 +299,14 @@ aoechr_init(void)
 	}
 	aoe_class->devnode = aoe_devnode;
 
-	for (i = 0; i < ARRAY_SIZE(chardevs); ++i)
+	for (i = 0; i < ARRAY_SIZE(chardevs); ++i) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		device_create(aoe_class, NULL,
 			      MKDEV(AOE_MAJOR, chardevs[i].minor), NULL,
 			      chardevs[i].name);
+#pragma GCC diagnostic pop
+	}
 
 	return 0;
 }
diff --git a/drivers/cdrom/cdrom.c b/drivers/cdrom/cdrom.c
index 87739649eac2..8cca71f7c263 100644
--- a/drivers/cdrom/cdrom.c
+++ b/drivers/cdrom/cdrom.c
@@ -3441,7 +3441,10 @@ static int cdrom_print_info(const char *header, int val, char *info,
 	struct cdrom_device_info *cdi;
 	int ret;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = scnprintf(info + *pos, max_size - *pos, header);
+#pragma GCC diagnostic pop
 	if (!ret)
 		return 1;
 
diff --git a/drivers/char/mem.c b/drivers/char/mem.c
index 6d9cc2d39d22..aeaedcaa5d03 100644
--- a/drivers/char/mem.c
+++ b/drivers/char/mem.c
@@ -886,8 +886,11 @@ static int __init chr_dev_init(void)
 		if ((minor == DEVPORT_MINOR) && !arch_has_dev_port())
 			continue;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		device_create(mem_class, NULL, MKDEV(MEM_MAJOR, minor),
 			      NULL, devlist[minor].name);
+#pragma GCC diagnostic pop
 	}
 
 	return tty_init();
diff --git a/drivers/clk/clk-qoriq.c b/drivers/clk/clk-qoriq.c
index d0bf8b1c67de..46cc1fa15402 100644
--- a/drivers/clk/clk-qoriq.c
+++ b/drivers/clk/clk-qoriq.c
@@ -769,7 +769,10 @@ static struct clk * __init create_mux_common(struct clockgen *cg,
 	char name[32];
 	int i, j;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(name, sizeof(name), fmt, idx);
+#pragma GCC diagnostic pop
 
 	for (i = 0, j = 0; i < NUM_MUX_PARENTS; i++) {
 		unsigned long rate;
diff --git a/drivers/clk/clkdev.c b/drivers/clk/clkdev.c
index c74b9f9e6c57..2c06a5944e03 100644
--- a/drivers/clk/clkdev.c
+++ b/drivers/clk/clkdev.c
@@ -370,8 +370,11 @@ int clk_add_alias(const char *alias, const char *alias_dev_name,
 	if (IS_ERR(r))
 		return PTR_ERR(r);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	l = clkdev_create(r, alias, alias_dev_name ? "%s" : NULL,
 			  alias_dev_name);
+#pragma GCC diagnostic pop
 	clk_put(r);
 
 	return l ? 0 : -ENODEV;
@@ -434,8 +437,12 @@ int clk_register_clkdev(struct clk *clk, const char *con_id,
 	if (dev_id)
 		cl = __clk_register_clkdev(__clk_get_hw(clk), con_id, "%s",
 					   dev_id);
-	else
+	else {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		cl = __clk_register_clkdev(__clk_get_hw(clk), con_id, NULL);
+#pragma GCC diagnostic pop
+	}
 
 	return cl ? 0 : -ENOMEM;
 }
@@ -469,8 +476,12 @@ int clk_hw_register_clkdev(struct clk_hw *hw, const char *con_id,
 	 */
 	if (dev_id)
 		cl = __clk_register_clkdev(hw, con_id, "%s", dev_id);
-	else
+	else {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		cl = __clk_register_clkdev(hw, con_id, NULL);
+#pragma GCC diagnostic pop
+	}
 
 	return cl ? 0 : -ENOMEM;
 }
diff --git a/drivers/clk/ti/adpll.c b/drivers/clk/ti/adpll.c
index 255cafb18336..4c337457591d 100644
--- a/drivers/clk/ti/adpll.c
+++ b/drivers/clk/ti/adpll.c
@@ -227,7 +227,10 @@ static int ti_adpll_setup_clock(struct ti_adpll_data *d, struct clk *clock,
 			dev_warn(d->dev, "clock %s con_id lookup may fail\n",
 				 name);
 		snprintf(con_id, 16, "pll%03lx%s", d->pa & 0xfff, postfix + 1);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		cl = clkdev_create(clock, con_id, NULL);
+#pragma GCC diagnostic pop
 		if (!cl)
 			return -ENOMEM;
 		d->clocks[index].cl = cl;
diff --git a/drivers/clocksource/tcb_clksrc.c b/drivers/clocksource/tcb_clksrc.c
index 745844ee973e..b20993c35882 100644
--- a/drivers/clocksource/tcb_clksrc.c
+++ b/drivers/clocksource/tcb_clksrc.c
@@ -341,9 +341,13 @@ static int __init tcb_clksrc_init(void)
 	}
 
 
+/* clksrc.name is under kernel control */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(bootinfo, clksrc.name, CONFIG_ATMEL_TCB_CLKSRC_BLOCK,
 			divided_rate / 1000000,
 			((divided_rate + 500000) % 1000000) / 1000);
+#pragma GCC diagnostic pop
 
 	if (tc->tcb_config && tc->tcb_config->counter_width == 32) {
 		/* use apropriate function to read 32 bit counter */
diff --git a/drivers/crypto/qat/qat_common/adf_transport.c b/drivers/crypto/qat/qat_common/adf_transport.c
index 57d2622728a5..1d478ce6a032 100644
--- a/drivers/crypto/qat/qat_common/adf_transport.c
+++ b/drivers/crypto/qat/qat_common/adf_transport.c
@@ -358,7 +358,10 @@ static inline int adf_get_cfg_int(struct adf_accel_dev *accel_dev,
 	char key_buf[ADF_CFG_MAX_KEY_LEN_IN_BYTES];
 	char val_buf[ADF_CFG_MAX_VAL_LEN_IN_BYTES];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(key_buf, ADF_CFG_MAX_KEY_LEN_IN_BYTES, format, key);
+#pragma GCC diagnostic pop
 
 	if (adf_cfg_get_param_value(accel_dev, section, key_buf, val_buf))
 		return -EFAULT;
diff --git a/drivers/fmc/fmc-dump.c b/drivers/fmc/fmc-dump.c
index c91afd6388f6..b577e2601987 100644
--- a/drivers/fmc/fmc-dump.c
+++ b/drivers/fmc/fmc-dump.c
@@ -31,7 +31,10 @@ static const uint8_t *dump_line(int addr, const uint8_t *line,
 		for (i = 0; i < LINELEN; ) {
 			printk(KERN_CONT "%02x", line[i]);
 			i++;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			printk(i & 3 ? " " : i & (LINELEN - 1) ? "  " : "\n");
+#pragma GCC diagnostic pop
 		}
 		return line;
 	}
diff --git a/drivers/gpio/gpiolib-sysfs.c b/drivers/gpio/gpiolib-sysfs.c
index 4b44dd97c07f..ff7cbe4a85cb 100644
--- a/drivers/gpio/gpiolib-sysfs.c
+++ b/drivers/gpio/gpiolib-sysfs.c
@@ -607,10 +607,13 @@ int gpiod_export(struct gpio_desc *desc, bool direction_may_change)
 	if (chip->names && chip->names[offset])
 		ioname = chip->names[offset];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	dev = device_create_with_groups(&gpio_class, &gdev->dev,
 					MKDEV(0, 0), data, gpio_groups,
 					ioname ? ioname : "gpio%u",
 					desc_to_gpio(desc));
+#pragma GCC diagnostic pop
 	if (IS_ERR(dev)) {
 		status = PTR_ERR(dev);
 		goto err_free_data;
diff --git a/drivers/gpu/drm/amd/amdgpu/dce_v10_0.c b/drivers/gpu/drm/amd/amdgpu/dce_v10_0.c
index d4452d8f76ca..e33c5a9c9757 100644
--- a/drivers/gpu/drm/amd/amdgpu/dce_v10_0.c
+++ b/drivers/gpu/drm/amd/amdgpu/dce_v10_0.c
@@ -3695,8 +3695,12 @@ static void dce_v10_0_encoder_add(struct amdgpu_device *adev,
 	switch (amdgpu_encoder->encoder_id) {
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC1:
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC2:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &dce_v10_0_encoder_funcs,
 				 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v10_0_dac_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DVO1:
@@ -3704,6 +3708,9 @@ static void dce_v10_0_encoder_add(struct amdgpu_device *adev,
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY1:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY2:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY3:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (amdgpu_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT)) {
 			amdgpu_encoder->rmx_type = RMX_FULL;
 			drm_encoder_init(dev, encoder, &dce_v10_0_encoder_funcs,
@@ -3718,6 +3725,7 @@ static void dce_v10_0_encoder_add(struct amdgpu_device *adev,
 					 DRM_MODE_ENCODER_TMDS, NULL);
 			amdgpu_encoder->enc_priv = amdgpu_atombios_encoder_get_dig_info(amdgpu_encoder);
 		}
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v10_0_dig_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_SI170B:
@@ -3730,6 +3738,9 @@ static void dce_v10_0_encoder_add(struct amdgpu_device *adev,
 	case ENCODER_OBJECT_ID_TRAVIS:
 	case ENCODER_OBJECT_ID_NUTMEG:
 		/* these are handled by the primary encoders */
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		amdgpu_encoder->is_ext_encoder = true;
 		if (amdgpu_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT))
 			drm_encoder_init(dev, encoder, &dce_v10_0_encoder_funcs,
@@ -3740,6 +3751,7 @@ static void dce_v10_0_encoder_add(struct amdgpu_device *adev,
 		else
 			drm_encoder_init(dev, encoder, &dce_v10_0_encoder_funcs,
 					 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v10_0_ext_helper_funcs);
 		break;
 	}
diff --git a/drivers/gpu/drm/amd/amdgpu/dce_v11_0.c b/drivers/gpu/drm/amd/amdgpu/dce_v11_0.c
index 5b24e89552ec..5413cf5050fd 100644
--- a/drivers/gpu/drm/amd/amdgpu/dce_v11_0.c
+++ b/drivers/gpu/drm/amd/amdgpu/dce_v11_0.c
@@ -3764,8 +3764,12 @@ static void dce_v11_0_encoder_add(struct amdgpu_device *adev,
 	switch (amdgpu_encoder->encoder_id) {
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC1:
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC2:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &dce_v11_0_encoder_funcs,
 				 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v11_0_dac_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DVO1:
@@ -3773,6 +3777,9 @@ static void dce_v11_0_encoder_add(struct amdgpu_device *adev,
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY1:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY2:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY3:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (amdgpu_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT)) {
 			amdgpu_encoder->rmx_type = RMX_FULL;
 			drm_encoder_init(dev, encoder, &dce_v11_0_encoder_funcs,
@@ -3787,6 +3794,7 @@ static void dce_v11_0_encoder_add(struct amdgpu_device *adev,
 					 DRM_MODE_ENCODER_TMDS, NULL);
 			amdgpu_encoder->enc_priv = amdgpu_atombios_encoder_get_dig_info(amdgpu_encoder);
 		}
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v11_0_dig_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_SI170B:
@@ -3800,6 +3808,9 @@ static void dce_v11_0_encoder_add(struct amdgpu_device *adev,
 	case ENCODER_OBJECT_ID_NUTMEG:
 		/* these are handled by the primary encoders */
 		amdgpu_encoder->is_ext_encoder = true;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (amdgpu_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT))
 			drm_encoder_init(dev, encoder, &dce_v11_0_encoder_funcs,
 					 DRM_MODE_ENCODER_LVDS, NULL);
@@ -3809,6 +3820,7 @@ static void dce_v11_0_encoder_add(struct amdgpu_device *adev,
 		else
 			drm_encoder_init(dev, encoder, &dce_v11_0_encoder_funcs,
 					 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v11_0_ext_helper_funcs);
 		break;
 	}
diff --git a/drivers/gpu/drm/amd/amdgpu/dce_v6_0.c b/drivers/gpu/drm/amd/amdgpu/dce_v6_0.c
index 809aa94a0cc1..69e569ff7eda 100644
--- a/drivers/gpu/drm/amd/amdgpu/dce_v6_0.c
+++ b/drivers/gpu/drm/amd/amdgpu/dce_v6_0.c
@@ -2976,8 +2976,12 @@ static void dce_v6_0_encoder_add(struct amdgpu_device *adev,
 	switch (amdgpu_encoder->encoder_id) {
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC1:
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC2:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &dce_v6_0_encoder_funcs,
 				 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v6_0_dac_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DVO1:
@@ -2985,6 +2989,9 @@ static void dce_v6_0_encoder_add(struct amdgpu_device *adev,
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY1:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY2:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY3:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (amdgpu_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT)) {
 			amdgpu_encoder->rmx_type = RMX_FULL;
 			drm_encoder_init(dev, encoder, &dce_v6_0_encoder_funcs,
@@ -2999,6 +3006,7 @@ static void dce_v6_0_encoder_add(struct amdgpu_device *adev,
 					 DRM_MODE_ENCODER_TMDS, NULL);
 			amdgpu_encoder->enc_priv = amdgpu_atombios_encoder_get_dig_info(amdgpu_encoder);
 		}
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v6_0_dig_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_SI170B:
@@ -3012,6 +3020,9 @@ static void dce_v6_0_encoder_add(struct amdgpu_device *adev,
 	case ENCODER_OBJECT_ID_NUTMEG:
 		/* these are handled by the primary encoders */
 		amdgpu_encoder->is_ext_encoder = true;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (amdgpu_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT))
 			drm_encoder_init(dev, encoder, &dce_v6_0_encoder_funcs,
 					 DRM_MODE_ENCODER_LVDS, NULL);
@@ -3021,6 +3032,7 @@ static void dce_v6_0_encoder_add(struct amdgpu_device *adev,
 		else
 			drm_encoder_init(dev, encoder, &dce_v6_0_encoder_funcs,
 					 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v6_0_ext_helper_funcs);
 		break;
 	}
diff --git a/drivers/gpu/drm/amd/amdgpu/dce_v8_0.c b/drivers/gpu/drm/amd/amdgpu/dce_v8_0.c
index d2590d75aa11..48942cb82688 100644
--- a/drivers/gpu/drm/amd/amdgpu/dce_v8_0.c
+++ b/drivers/gpu/drm/amd/amdgpu/dce_v8_0.c
@@ -3532,8 +3532,12 @@ static void dce_v8_0_encoder_add(struct amdgpu_device *adev,
 	switch (amdgpu_encoder->encoder_id) {
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC1:
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC2:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &dce_v8_0_encoder_funcs,
 				 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v8_0_dac_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DVO1:
@@ -3541,6 +3545,9 @@ static void dce_v8_0_encoder_add(struct amdgpu_device *adev,
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY1:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY2:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY3:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (amdgpu_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT)) {
 			amdgpu_encoder->rmx_type = RMX_FULL;
 			drm_encoder_init(dev, encoder, &dce_v8_0_encoder_funcs,
@@ -3555,6 +3562,7 @@ static void dce_v8_0_encoder_add(struct amdgpu_device *adev,
 					 DRM_MODE_ENCODER_TMDS, NULL);
 			amdgpu_encoder->enc_priv = amdgpu_atombios_encoder_get_dig_info(amdgpu_encoder);
 		}
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v8_0_dig_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_SI170B:
@@ -3566,6 +3574,9 @@ static void dce_v8_0_encoder_add(struct amdgpu_device *adev,
 	case ENCODER_OBJECT_ID_HDMI_SI1930:
 	case ENCODER_OBJECT_ID_TRAVIS:
 	case ENCODER_OBJECT_ID_NUTMEG:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		/* these are handled by the primary encoders */
 		amdgpu_encoder->is_ext_encoder = true;
 		if (amdgpu_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT))
@@ -3577,6 +3588,7 @@ static void dce_v8_0_encoder_add(struct amdgpu_device *adev,
 		else
 			drm_encoder_init(dev, encoder, &dce_v8_0_encoder_funcs,
 					 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &dce_v8_0_ext_helper_funcs);
 		break;
 	}
diff --git a/drivers/gpu/drm/amd/amdgpu/dce_virtual.c b/drivers/gpu/drm/amd/amdgpu/dce_virtual.c
index e9a176891e13..62cc61edb575 100644
--- a/drivers/gpu/drm/amd/amdgpu/dce_virtual.c
+++ b/drivers/gpu/drm/amd/amdgpu/dce_virtual.c
@@ -646,8 +646,12 @@ static int dce_virtual_connector_encoder_init(struct amdgpu_device *adev,
 	if (!encoder)
 		return -ENOMEM;
 	encoder->possible_crtcs = 1 << index;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(adev->ddev, encoder, &dce_virtual_encoder_funcs,
 			 DRM_MODE_ENCODER_VIRTUAL, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &dce_virtual_encoder_helper_funcs);
 
 	connector = kzalloc(sizeof(struct drm_connector), GFP_KERNEL);
diff --git a/drivers/gpu/drm/amd/amdkfd/kfd_chardev.c b/drivers/gpu/drm/amd/amdkfd/kfd_chardev.c
index 6316aad43a73..db29e0b8eaad 100644
--- a/drivers/gpu/drm/amd/amdkfd/kfd_chardev.c
+++ b/drivers/gpu/drm/amd/amdkfd/kfd_chardev.c
@@ -69,9 +69,12 @@ int kfd_chardev_init(void)
 	if (IS_ERR(kfd_class))
 		goto err_class_create;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	kfd_device = device_create(kfd_class, NULL,
 					MKDEV(kfd_char_dev_major, 0),
 					NULL, kfd_dev_name);
+#pragma GCC diagnostic pop
 	err = PTR_ERR(kfd_device);
 	if (IS_ERR(kfd_device))
 		goto err_device_create;
diff --git a/drivers/gpu/drm/arc/arcpgu_crtc.c b/drivers/gpu/drm/arc/arcpgu_crtc.c
index ad9a95916f1f..968187c28ffd 100644
--- a/drivers/gpu/drm/arc/arcpgu_crtc.c
+++ b/drivers/gpu/drm/arc/arcpgu_crtc.c
@@ -216,9 +216,13 @@ static struct drm_plane *arc_pgu_plane_init(struct drm_device *drm)
 	for (i = 0; i < ARRAY_SIZE(supported_formats); i++)
 		formats[i] = supported_formats[i].fourcc;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(drm, plane, 0xff, &arc_pgu_plane_funcs,
 				       formats, ARRAY_SIZE(formats),
 				       DRM_PLANE_TYPE_PRIMARY, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		return ERR_PTR(ret);
 
@@ -238,8 +242,12 @@ int arc_pgu_setup_crtc(struct drm_device *drm)
 	if (IS_ERR(primary))
 		return PTR_ERR(primary);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm, &arcpgu->crtc, primary, NULL,
 					&arc_pgu_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		arc_pgu_plane_destroy(primary);
 		return ret;
diff --git a/drivers/gpu/drm/arc/arcpgu_hdmi.c b/drivers/gpu/drm/arc/arcpgu_hdmi.c
index 0ce7f398bcff..dff4672c1c78 100644
--- a/drivers/gpu/drm/arc/arcpgu_hdmi.c
+++ b/drivers/gpu/drm/arc/arcpgu_hdmi.c
@@ -41,8 +41,12 @@ int arcpgu_drm_hdmi_init(struct drm_device *drm, struct device_node *np)
 
 	encoder->possible_crtcs = 1;
 	encoder->possible_clones = 0;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm, encoder, &arcpgu_drm_encoder_funcs,
 			       DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		return ret;
 
diff --git a/drivers/gpu/drm/arc/arcpgu_sim.c b/drivers/gpu/drm/arc/arcpgu_sim.c
index bca3a678c955..fbca26d34407 100644
--- a/drivers/gpu/drm/arc/arcpgu_sim.c
+++ b/drivers/gpu/drm/arc/arcpgu_sim.c
@@ -79,8 +79,12 @@ int arcpgu_drm_sim_init(struct drm_device *drm, struct device_node *np)
 	encoder->base.possible_crtcs = 1;
 	encoder->base.possible_clones = 0;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm, &encoder->base, &arcpgu_drm_encoder_funcs,
 			       DRM_MODE_ENCODER_VIRTUAL, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		return ret;
 
diff --git a/drivers/gpu/drm/arm/hdlcd_crtc.c b/drivers/gpu/drm/arm/hdlcd_crtc.c
index 20ebfb4fbdfa..7e5baf5b8f06 100644
--- a/drivers/gpu/drm/arm/hdlcd_crtc.c
+++ b/drivers/gpu/drm/arm/hdlcd_crtc.c
@@ -281,9 +281,12 @@ static struct drm_plane *hdlcd_plane_init(struct drm_device *drm)
 	for (i = 0; i < ARRAY_SIZE(supported_formats); i++)
 		formats[i] = supported_formats[i].fourcc;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(drm, plane, 0xff, &hdlcd_plane_funcs,
 				       formats, ARRAY_SIZE(formats),
 				       DRM_PLANE_TYPE_PRIMARY, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		devm_kfree(drm->dev, plane);
 		return ERR_PTR(ret);
@@ -305,8 +308,11 @@ int hdlcd_setup_crtc(struct drm_device *drm)
 	if (IS_ERR(primary))
 		return PTR_ERR(primary);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm, &hdlcd->crtc, primary, NULL,
 					&hdlcd_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		hdlcd_plane_destroy(primary);
 		devm_kfree(drm->dev, primary);
diff --git a/drivers/gpu/drm/arm/malidp_crtc.c b/drivers/gpu/drm/arm/malidp_crtc.c
index 08e6a71f5d05..4f6278aae952 100644
--- a/drivers/gpu/drm/arm/malidp_crtc.c
+++ b/drivers/gpu/drm/arm/malidp_crtc.c
@@ -201,8 +201,11 @@ int malidp_crtc_init(struct drm_device *drm)
 		goto crtc_cleanup_planes;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm, &malidp->crtc, primary, NULL,
 					&malidp_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 
 	if (!ret) {
 		drm_crtc_helper_add(&malidp->crtc, &malidp_crtc_helper_funcs);
diff --git a/drivers/gpu/drm/arm/malidp_planes.c b/drivers/gpu/drm/arm/malidp_planes.c
index 414aada10fe5..2c676fac1853 100644
--- a/drivers/gpu/drm/arm/malidp_planes.c
+++ b/drivers/gpu/drm/arm/malidp_planes.c
@@ -319,9 +319,12 @@ int malidp_de_planes_init(struct drm_device *drm)
 
 		plane_type = (i == 0) ? DRM_PLANE_TYPE_PRIMARY :
 					DRM_PLANE_TYPE_OVERLAY;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		ret = drm_universal_plane_init(drm, &plane->base, crtcs,
 					       &malidp_de_plane_funcs, formats,
 					       n, plane_type, NULL);
+#pragma GCC diagnostic pop
 		if (ret < 0)
 			goto cleanup;
 
diff --git a/drivers/gpu/drm/armada/armada_crtc.c b/drivers/gpu/drm/armada/armada_crtc.c
index e62ee4498ce4..070291512add 100644
--- a/drivers/gpu/drm/armada/armada_crtc.c
+++ b/drivers/gpu/drm/armada/armada_crtc.c
@@ -1246,18 +1246,24 @@ static int armada_drm_crtc_create(struct drm_device *drm, struct device *dev,
 		return ret;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(drm, &primary->base, 0,
 				       &armada_primary_plane_funcs,
 				       armada_primary_formats,
 				       ARRAY_SIZE(armada_primary_formats),
 				       DRM_PLANE_TYPE_PRIMARY, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		kfree(primary);
 		return ret;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm, &dcrtc->crtc, &primary->base, NULL,
 					&armada_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		goto err_crtc_init;
 
diff --git a/drivers/gpu/drm/armada/armada_overlay.c b/drivers/gpu/drm/armada/armada_overlay.c
index 34cb73d0db77..b2683bdd1dcf 100644
--- a/drivers/gpu/drm/armada/armada_overlay.c
+++ b/drivers/gpu/drm/armada/armada_overlay.c
@@ -454,11 +454,14 @@ int armada_overlay_plane_create(struct drm_device *dev, unsigned long crtcs)
 
 	dplane->vbl.work.fn = armada_ovl_plane_work;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, &dplane->base.base, crtcs,
 				       &armada_ovl_plane_funcs,
 				       armada_ovl_formats,
 				       ARRAY_SIZE(armada_ovl_formats),
 				       DRM_PLANE_TYPE_OVERLAY, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		kfree(dplane);
 		return ret;
diff --git a/drivers/gpu/drm/ast/ast_mode.c b/drivers/gpu/drm/ast/ast_mode.c
index 47b78e52691c..3bbb109693c9 100644
--- a/drivers/gpu/drm/ast/ast_mode.c
+++ b/drivers/gpu/drm/ast/ast_mode.c
@@ -756,8 +756,12 @@ static int ast_encoder_init(struct drm_device *dev)
 	if (!ast_encoder)
 		return -ENOMEM;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, &ast_encoder->base, &ast_enc_funcs,
 			 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(&ast_encoder->base, &ast_enc_helper_funcs);
 
 	ast_encoder->base.possible_crtcs = 1;
diff --git a/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_crtc.c b/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_crtc.c
index 9b17a66cf0e1..aa2b29964486 100644
--- a/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_crtc.c
+++ b/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_crtc.c
@@ -457,10 +457,13 @@ int atmel_hlcdc_crtc_create(struct drm_device *dev)
 
 	crtc->dc = dc;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(dev, &crtc->base,
 				&planes->primary->base,
 				planes->cursor ? &planes->cursor->base : NULL,
 				&atmel_hlcdc_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		goto fail;
 
diff --git a/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_output.c b/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_output.c
index e7799b6ee829..914cb2b13c33 100644
--- a/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_output.c
+++ b/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_output.c
@@ -187,9 +187,12 @@ static int atmel_hlcdc_attach_endpoint(struct drm_device *dev,
 
 	drm_encoder_helper_add(&output->encoder,
 			       &atmel_hlcdc_panel_encoder_helper_funcs);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(dev, &output->encoder,
 			       &atmel_hlcdc_panel_encoder_funcs,
 			       DRM_MODE_ENCODER_NONE, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		return ret;
 
diff --git a/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_plane.c b/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_plane.c
index bd2791c4b002..c347e37e1808 100644
--- a/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_plane.c
+++ b/drivers/gpu/drm/atmel-hlcdc/atmel_hlcdc_plane.c
@@ -1035,10 +1035,13 @@ atmel_hlcdc_plane_create(struct drm_device *dev,
 	else
 		type = DRM_PLANE_TYPE_OVERLAY;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, &plane->base, 0,
 				       &layer_plane_funcs,
 				       desc->formats->formats,
 				       desc->formats->nformats, type, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		return ERR_PTR(ret);
 
diff --git a/drivers/gpu/drm/bochs/bochs_kms.c b/drivers/gpu/drm/bochs/bochs_kms.c
index d5e63eff357b..e2fe8953ba1f 100644
--- a/drivers/gpu/drm/bochs/bochs_kms.c
+++ b/drivers/gpu/drm/bochs/bochs_kms.c
@@ -172,8 +172,12 @@ static void bochs_encoder_init(struct drm_device *dev)
 	struct drm_encoder *encoder = &bochs->encoder;
 
 	encoder->possible_crtcs = 0x1;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &bochs_encoder_encoder_funcs,
 			 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &bochs_encoder_helper_funcs);
 }
 
diff --git a/drivers/gpu/drm/cirrus/cirrus_mode.c b/drivers/gpu/drm/cirrus/cirrus_mode.c
index ed43ab10ac99..c5425b739913 100644
--- a/drivers/gpu/drm/cirrus/cirrus_mode.c
+++ b/drivers/gpu/drm/cirrus/cirrus_mode.c
@@ -466,8 +466,12 @@ static struct drm_encoder *cirrus_encoder_init(struct drm_device *dev)
 	encoder = &cirrus_encoder->base;
 	encoder->possible_crtcs = 0x1;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &cirrus_encoder_encoder_funcs,
 			 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &cirrus_encoder_helper_funcs);
 
 	return encoder;
diff --git a/drivers/gpu/drm/drm_modeset_helper.c b/drivers/gpu/drm/drm_modeset_helper.c
index cc44a9a4b004..dd54fe794f81 100644
--- a/drivers/gpu/drm/drm_modeset_helper.c
+++ b/drivers/gpu/drm/drm_modeset_helper.c
@@ -120,11 +120,15 @@ static struct drm_plane *create_primary_plane(struct drm_device *dev)
 	primary->format_default = true;
 
 	/* possible_crtc's will be filled in later by crtc_init */
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, primary, 0,
 				       &drm_primary_helper_funcs,
 				       safe_modeset_formats,
 				       ARRAY_SIZE(safe_modeset_formats),
 				       DRM_PLANE_TYPE_PRIMARY, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		kfree(primary);
 		primary = NULL;
@@ -151,7 +155,11 @@ int drm_crtc_init(struct drm_device *dev, struct drm_crtc *crtc,
 	struct drm_plane *primary;
 
 	primary = create_primary_plane(dev);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	return drm_crtc_init_with_planes(dev, crtc, primary, NULL, funcs,
 					 NULL);
+#pragma GCC diagnostic pop
 }
 EXPORT_SYMBOL(drm_crtc_init);
diff --git a/drivers/gpu/drm/drm_plane.c b/drivers/gpu/drm/drm_plane.c
index c464fc4a874d..6cd0b8f41b3f 100644
--- a/drivers/gpu/drm/drm_plane.c
+++ b/drivers/gpu/drm/drm_plane.c
@@ -204,8 +204,12 @@ int drm_plane_init(struct drm_device *dev, struct drm_plane *plane,
 	enum drm_plane_type type;
 
 	type = is_primary ? DRM_PLANE_TYPE_PRIMARY : DRM_PLANE_TYPE_OVERLAY;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	return drm_universal_plane_init(dev, plane, possible_crtcs, funcs,
 					formats, format_count, type, NULL);
+#pragma GCC diagnostic pop
 }
 EXPORT_SYMBOL(drm_plane_init);
 
diff --git a/drivers/gpu/drm/drm_simple_kms_helper.c b/drivers/gpu/drm/drm_simple_kms_helper.c
index 35c5d99296b9..af04077c0770 100644
--- a/drivers/gpu/drm/drm_simple_kms_helper.c
+++ b/drivers/gpu/drm/drm_simple_kms_helper.c
@@ -224,6 +224,9 @@ int drm_simple_display_pipe_init(struct drm_device *dev,
 	pipe->funcs = funcs;
 
 	drm_plane_helper_add(plane, &drm_simple_kms_plane_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, plane, 0,
 				       &drm_simple_kms_plane_funcs,
 				       formats, format_count,
@@ -240,6 +243,7 @@ int drm_simple_display_pipe_init(struct drm_device *dev,
 	encoder->possible_crtcs = 1 << drm_crtc_index(crtc);
 	ret = drm_encoder_init(dev, encoder, &drm_simple_kms_encoder_funcs,
 			       DRM_MODE_ENCODER_NONE, NULL);
+#pragma GCC diagnostic pop
 	if (ret || !connector)
 		return ret;
 
diff --git a/drivers/gpu/drm/drm_sysfs.c b/drivers/gpu/drm/drm_sysfs.c
index 513288b5c2f6..7e4726994f73 100644
--- a/drivers/gpu/drm/drm_sysfs.c
+++ b/drivers/gpu/drm/drm_sysfs.c
@@ -161,7 +161,10 @@ static ssize_t enabled_show(struct device *device,
 
 	enabled = READ_ONCE(connector->encoder);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	return snprintf(buf, PAGE_SIZE, enabled ? "enabled\n" : "disabled\n");
+#pragma GCC diagnostic pop
 }
 
 static ssize_t edid_show(struct file *filp, struct kobject *kobj,
@@ -372,7 +375,11 @@ struct device *drm_sysfs_minor_alloc(struct drm_minor *minor)
 	kdev->release = drm_sysfs_release;
 	dev_set_drvdata(kdev, minor);
 
+/* minor_str is a constant string defined above */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	r = dev_set_name(kdev, minor_str, minor->index);
+#pragma GCC diagnostic pop
 	if (r < 0)
 		goto err_free;
 
diff --git a/drivers/gpu/drm/exynos/exynos_dp.c b/drivers/gpu/drm/exynos/exynos_dp.c
index 1ef0be338b85..f8d4ffe45fb3 100644
--- a/drivers/gpu/drm/exynos/exynos_dp.c
+++ b/drivers/gpu/drm/exynos/exynos_dp.c
@@ -188,8 +188,12 @@ static int exynos_dp_bind(struct device *dev, struct device *master, void *data)
 
 	DRM_DEBUG_KMS("possible_crtcs = 0x%x\n", encoder->possible_crtcs);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm_dev, encoder, &exynos_dp_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(encoder, &exynos_dp_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/exynos/exynos_drm_crtc.c b/drivers/gpu/drm/exynos/exynos_drm_crtc.c
index 5367b6664fe3..8f7b3bd7826d 100644
--- a/drivers/gpu/drm/exynos/exynos_drm_crtc.c
+++ b/drivers/gpu/drm/exynos/exynos_drm_crtc.c
@@ -153,8 +153,11 @@ struct exynos_drm_crtc *exynos_drm_crtc_create(struct drm_device *drm_dev,
 
 	crtc = &exynos_crtc->base;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm_dev, crtc, plane, NULL,
 					&exynos_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		goto err_crtc;
 
diff --git a/drivers/gpu/drm/exynos/exynos_drm_dpi.c b/drivers/gpu/drm/exynos/exynos_drm_dpi.c
index ad6b73c7fc59..a1fec4b3ce3b 100644
--- a/drivers/gpu/drm/exynos/exynos_drm_dpi.c
+++ b/drivers/gpu/drm/exynos/exynos_drm_dpi.c
@@ -226,8 +226,11 @@ int exynos_dpi_bind(struct drm_device *dev, struct drm_encoder *encoder)
 
 	DRM_DEBUG_KMS("possible_crtcs = 0x%x\n", encoder->possible_crtcs);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &exynos_dpi_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(encoder, &exynos_dpi_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/exynos/exynos_drm_dsi.c b/drivers/gpu/drm/exynos/exynos_drm_dsi.c
index 812e2ec0761d..595d5a899a71 100644
--- a/drivers/gpu/drm/exynos/exynos_drm_dsi.c
+++ b/drivers/gpu/drm/exynos/exynos_drm_dsi.c
@@ -1705,8 +1705,12 @@ static int exynos_dsi_bind(struct device *dev, struct device *master,
 
 	DRM_DEBUG_KMS("possible_crtcs = 0x%x\n", encoder->possible_crtcs);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm_dev, encoder, &exynos_dsi_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(encoder, &exynos_dsi_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/exynos/exynos_drm_plane.c b/drivers/gpu/drm/exynos/exynos_drm_plane.c
index c2f17f30afab..2a6594ae9f19 100644
--- a/drivers/gpu/drm/exynos/exynos_drm_plane.c
+++ b/drivers/gpu/drm/exynos/exynos_drm_plane.c
@@ -279,12 +279,15 @@ int exynos_plane_init(struct drm_device *dev,
 {
 	int err;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	err = drm_universal_plane_init(dev, &exynos_plane->base,
 				       possible_crtcs,
 				       &exynos_plane_funcs,
 				       config->pixel_formats,
 				       config->num_pixel_formats,
 				       config->type, NULL);
+#pragma GCC diagnostic pop
 	if (err) {
 		DRM_ERROR("failed to initialize plane\n");
 		return err;
diff --git a/drivers/gpu/drm/exynos/exynos_drm_vidi.c b/drivers/gpu/drm/exynos/exynos_drm_vidi.c
index 57fe514d5c5b..fa5dd5dafaa3 100644
--- a/drivers/gpu/drm/exynos/exynos_drm_vidi.c
+++ b/drivers/gpu/drm/exynos/exynos_drm_vidi.c
@@ -432,8 +432,12 @@ static int vidi_bind(struct device *dev, struct device *master, void *data)
 
 	DRM_DEBUG_KMS("possible_crtcs = 0x%x\n", encoder->possible_crtcs);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm_dev, encoder, &exynos_vidi_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(encoder, &exynos_vidi_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/exynos/exynos_hdmi.c b/drivers/gpu/drm/exynos/exynos_hdmi.c
index 88ccc0469316..9260c5a397b7 100644
--- a/drivers/gpu/drm/exynos/exynos_hdmi.c
+++ b/drivers/gpu/drm/exynos/exynos_hdmi.c
@@ -1720,8 +1720,12 @@ static int hdmi_bind(struct device *dev, struct device *master, void *data)
 
 	DRM_DEBUG_KMS("possible_crtcs = 0x%x\n", encoder->possible_crtcs);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm_dev, encoder, &exynos_hdmi_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(encoder, &exynos_hdmi_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_crtc.c b/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_crtc.c
index deb57435cc89..212170aa620f 100644
--- a/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_crtc.c
+++ b/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_crtc.c
@@ -158,8 +158,11 @@ int fsl_dcu_drm_crtc_create(struct fsl_dcu_drm_device *fsl_dev)
 	if (!primary)
 		return -ENOMEM;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(fsl_dev->drm, crtc, primary, NULL,
 					&fsl_dcu_drm_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		primary->funcs->destroy(primary);
 		return ret;
diff --git a/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_plane.c b/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_plane.c
index 0a20723aa6e1..ddbb4e4dff97 100644
--- a/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_plane.c
+++ b/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_plane.c
@@ -220,11 +220,14 @@ struct drm_plane *fsl_dcu_drm_primary_create_plane(struct drm_device *dev)
 	}
 
 	/* possible_crtc's will be filled in later by crtc_init */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, primary, 0,
 				       &fsl_dcu_drm_plane_funcs,
 				       fsl_dcu_drm_plane_formats,
 				       ARRAY_SIZE(fsl_dcu_drm_plane_formats),
 				       DRM_PLANE_TYPE_PRIMARY, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		kfree(primary);
 		primary = NULL;
diff --git a/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_rgb.c b/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_rgb.c
index c3651456c963..d1b083e6b096 100644
--- a/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_rgb.c
+++ b/drivers/gpu/drm/fsl-dcu/fsl_dcu_drm_rgb.c
@@ -41,8 +41,12 @@ int fsl_dcu_drm_encoder_create(struct fsl_dcu_drm_device *fsl_dev,
 	if (fsl_dev->tcon)
 		fsl_tcon_bypass_enable(fsl_dev->tcon);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(fsl_dev->drm, encoder, &encoder_funcs,
 			       DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		return ret;
 
diff --git a/drivers/gpu/drm/gma500/cdv_intel_crt.c b/drivers/gpu/drm/gma500/cdv_intel_crt.c
index b837e7a92196..80399018bb92 100644
--- a/drivers/gpu/drm/gma500/cdv_intel_crt.c
+++ b/drivers/gpu/drm/gma500/cdv_intel_crt.c
@@ -271,8 +271,12 @@ void cdv_intel_crt_init(struct drm_device *dev,
 		&cdv_intel_crt_connector_funcs, DRM_MODE_CONNECTOR_VGA);
 
 	encoder = &gma_encoder->base;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder,
 		&cdv_intel_crt_enc_funcs, DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 
 	gma_connector_attach_encoder(gma_connector, gma_encoder);
 
diff --git a/drivers/gpu/drm/gma500/cdv_intel_dp.c b/drivers/gpu/drm/gma500/cdv_intel_dp.c
index c52f9adf5e04..758865718730 100644
--- a/drivers/gpu/drm/gma500/cdv_intel_dp.c
+++ b/drivers/gpu/drm/gma500/cdv_intel_dp.c
@@ -2020,8 +2020,12 @@ cdv_intel_dp_init(struct drm_device *dev, struct psb_intel_mode_device *mode_dev
 	encoder = &gma_encoder->base;
 
 	drm_connector_init(dev, connector, &cdv_intel_dp_connector_funcs, type);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &cdv_intel_dp_enc_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	gma_connector_attach_encoder(gma_connector, gma_encoder);
 
diff --git a/drivers/gpu/drm/gma500/cdv_intel_hdmi.c b/drivers/gpu/drm/gma500/cdv_intel_hdmi.c
index 563f193fcfac..9b65263ba36e 100644
--- a/drivers/gpu/drm/gma500/cdv_intel_hdmi.c
+++ b/drivers/gpu/drm/gma500/cdv_intel_hdmi.c
@@ -310,8 +310,12 @@ void cdv_hdmi_init(struct drm_device *dev,
 			   &cdv_hdmi_connector_funcs,
 			   DRM_MODE_CONNECTOR_DVID);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &psb_intel_lvds_enc_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	gma_connector_attach_encoder(gma_connector, gma_encoder);
 	gma_encoder->type = INTEL_OUTPUT_HDMI;
diff --git a/drivers/gpu/drm/gma500/cdv_intel_lvds.c b/drivers/gpu/drm/gma500/cdv_intel_lvds.c
index 5efdb7fbb7ee..6ea422d4041a 100644
--- a/drivers/gpu/drm/gma500/cdv_intel_lvds.c
+++ b/drivers/gpu/drm/gma500/cdv_intel_lvds.c
@@ -627,9 +627,13 @@ void cdv_intel_lvds_init(struct drm_device *dev,
 			   &cdv_intel_lvds_connector_funcs,
 			   DRM_MODE_CONNECTOR_LVDS);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder,
 			 &cdv_intel_lvds_enc_funcs,
 			 DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 
 
 	gma_connector_attach_encoder(gma_connector, gma_encoder);
diff --git a/drivers/gpu/drm/gma500/mdfld_dsi_dpi.c b/drivers/gpu/drm/gma500/mdfld_dsi_dpi.c
index a05c020602bd..3d42c3d9dd17 100644
--- a/drivers/gpu/drm/gma500/mdfld_dsi_dpi.c
+++ b/drivers/gpu/drm/gma500/mdfld_dsi_dpi.c
@@ -991,10 +991,14 @@ struct mdfld_dsi_encoder *mdfld_dsi_dpi_init(struct drm_device *dev,
 	/*create drm encoder object*/
 	connector = &dsi_connector->base.base;
 	encoder = &dpi_output->base.base.base;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev,
 			encoder,
 			p_funcs->encoder_funcs,
 			DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder,
 				p_funcs->encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/gma500/oaktrail_hdmi.c b/drivers/gpu/drm/gma500/oaktrail_hdmi.c
index 8b2eb32ee988..d2ae6bff71a1 100644
--- a/drivers/gpu/drm/gma500/oaktrail_hdmi.c
+++ b/drivers/gpu/drm/gma500/oaktrail_hdmi.c
@@ -651,9 +651,13 @@ void oaktrail_hdmi_init(struct drm_device *dev,
 			   &oaktrail_hdmi_connector_funcs,
 			   DRM_MODE_CONNECTOR_DVID);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder,
 			 &oaktrail_hdmi_enc_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	gma_connector_attach_encoder(gma_connector, gma_encoder);
 
diff --git a/drivers/gpu/drm/gma500/oaktrail_lvds.c b/drivers/gpu/drm/gma500/oaktrail_lvds.c
index f7038f12ac76..c726804becea 100644
--- a/drivers/gpu/drm/gma500/oaktrail_lvds.c
+++ b/drivers/gpu/drm/gma500/oaktrail_lvds.c
@@ -322,8 +322,12 @@ void oaktrail_lvds_init(struct drm_device *dev,
 			   &psb_intel_lvds_connector_funcs,
 			   DRM_MODE_CONNECTOR_LVDS);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &psb_intel_lvds_enc_funcs,
 			 DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 
 	gma_connector_attach_encoder(gma_connector, gma_encoder);
 	gma_encoder->type = INTEL_OUTPUT_LVDS;
diff --git a/drivers/gpu/drm/gma500/psb_intel_lvds.c b/drivers/gpu/drm/gma500/psb_intel_lvds.c
index 483fdce74e39..18b99c6c9d4c 100644
--- a/drivers/gpu/drm/gma500/psb_intel_lvds.c
+++ b/drivers/gpu/drm/gma500/psb_intel_lvds.c
@@ -697,9 +697,13 @@ void psb_intel_lvds_init(struct drm_device *dev,
 			   &psb_intel_lvds_connector_funcs,
 			   DRM_MODE_CONNECTOR_LVDS);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder,
 			 &psb_intel_lvds_enc_funcs,
 			 DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 
 	gma_connector_attach_encoder(gma_connector, gma_encoder);
 	gma_encoder->type = INTEL_OUTPUT_LVDS;
diff --git a/drivers/gpu/drm/gma500/psb_intel_sdvo.c b/drivers/gpu/drm/gma500/psb_intel_sdvo.c
index e787d376ba67..d252227ddcd3 100644
--- a/drivers/gpu/drm/gma500/psb_intel_sdvo.c
+++ b/drivers/gpu/drm/gma500/psb_intel_sdvo.c
@@ -2526,8 +2526,12 @@ bool psb_intel_sdvo_init(struct drm_device *dev, int sdvo_reg)
 	/* encoder type will be decided later */
 	gma_encoder = &psb_intel_sdvo->base;
 	gma_encoder->type = INTEL_OUTPUT_SDVO;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, &gma_encoder->base, &psb_intel_sdvo_enc_funcs,
 			 0, NULL);
+#pragma GCC diagnostic pop
 
 	/* Read the regs to test if we can talk to the device */
 	for (i = 0; i < 0x40; i++) {
diff --git a/drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_de.c b/drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_de.c
index c655883d3613..fe1d5b9b789d 100644
--- a/drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_de.c
+++ b/drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_de.c
@@ -178,11 +178,15 @@ static struct drm_plane *hibmc_plane_init(struct hibmc_drm_private *priv)
 	 * TODO: Now only support primary plane, overlay planes
 	 * need to do.
 	 */
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, plane, 1, &hibmc_plane_funcs,
 				       channel_formats1,
 				       ARRAY_SIZE(channel_formats1),
 				       DRM_PLANE_TYPE_PRIMARY,
 				       NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		DRM_ERROR("failed to init plane: %d\n", ret);
 		return ERR_PTR(ret);
@@ -459,8 +463,12 @@ int hibmc_de_init(struct hibmc_drm_private *priv)
 		return -ENOMEM;
 	}
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(dev, crtc, plane,
 					NULL, &hibmc_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		DRM_ERROR("failed to init crtc: %d\n", ret);
 		return ret;
diff --git a/drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_vdac.c b/drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_vdac.c
index 12a18557c5fd..cf6fae0ddfbc 100644
--- a/drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_vdac.c
+++ b/drivers/gpu/drm/hisilicon/hibmc/hibmc_drm_vdac.c
@@ -126,8 +126,12 @@ int hibmc_vdac_init(struct hibmc_drm_private *priv)
 	}
 
 	encoder->possible_crtcs = 0x1;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(dev, encoder, &hibmc_encoder_funcs,
 			       DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		DRM_ERROR("failed to init encoder: %d\n", ret);
 		return ret;
diff --git a/drivers/gpu/drm/i2c/tda998x_drv.c b/drivers/gpu/drm/i2c/tda998x_drv.c
index 86f47e190309..a726d71f4827 100644
--- a/drivers/gpu/drm/i2c/tda998x_drv.c
+++ b/drivers/gpu/drm/i2c/tda998x_drv.c
@@ -1697,8 +1697,12 @@ static int tda998x_bind(struct device *dev, struct device *master, void *data)
 		tda998x_set_config(priv, params);
 
 	drm_encoder_helper_add(&priv->encoder, &tda998x_encoder_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm, &priv->encoder, &tda998x_encoder_funcs,
 			       DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		goto err_encoder;
 
diff --git a/drivers/gpu/drm/imx/dw_hdmi-imx.c b/drivers/gpu/drm/imx/dw_hdmi-imx.c
index f645275e6e63..c9c55de8d825 100644
--- a/drivers/gpu/drm/imx/dw_hdmi-imx.c
+++ b/drivers/gpu/drm/imx/dw_hdmi-imx.c
@@ -236,8 +236,12 @@ static int dw_hdmi_imx_bind(struct device *dev, struct device *master,
 		return ret;
 
 	drm_encoder_helper_add(encoder, &dw_hdmi_imx_encoder_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, encoder, &dw_hdmi_imx_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	ret = dw_hdmi_bind(pdev, encoder, plat_data);
 
diff --git a/drivers/gpu/drm/imx/imx-drm-core.c b/drivers/gpu/drm/imx/imx-drm-core.c
index f562cb7964b0..c7b048060ad1 100644
--- a/drivers/gpu/drm/imx/imx-drm-core.c
+++ b/drivers/gpu/drm/imx/imx-drm-core.c
@@ -217,8 +217,11 @@ int imx_drm_add_crtc(struct drm_device *drm, struct drm_crtc *crtc,
 	drm_crtc_helper_add(crtc,
 			imx_drm_crtc->imx_drm_helper_funcs.crtc_helper_funcs);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_crtc_init_with_planes(drm, crtc, primary_plane, NULL,
 			imx_drm_crtc->imx_drm_helper_funcs.crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 
 	return 0;
 }
diff --git a/drivers/gpu/drm/imx/imx-ldb.c b/drivers/gpu/drm/imx/imx-ldb.c
index 88cd11d30134..d63f2d11d92e 100644
--- a/drivers/gpu/drm/imx/imx-ldb.c
+++ b/drivers/gpu/drm/imx/imx-ldb.c
@@ -450,8 +450,12 @@ static int imx_ldb_register(struct drm_device *drm,
 	}
 
 	drm_encoder_helper_add(encoder, &imx_ldb_encoder_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, encoder, &imx_ldb_encoder_funcs,
 			 DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 
 	if (imx_ldb_ch->bridge) {
 		ret = drm_bridge_attach(&imx_ldb_ch->encoder,
diff --git a/drivers/gpu/drm/imx/imx-tve.c b/drivers/gpu/drm/imx/imx-tve.c
index a7fdd9a10ed4..eb3f1c82b71c 100644
--- a/drivers/gpu/drm/imx/imx-tve.c
+++ b/drivers/gpu/drm/imx/imx-tve.c
@@ -486,8 +486,12 @@ static int imx_tve_register(struct drm_device *drm, struct imx_tve *tve)
 		return ret;
 
 	drm_encoder_helper_add(&tve->encoder, &imx_tve_encoder_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, &tve->encoder, &imx_tve_encoder_funcs,
 			 encoder_type, NULL);
+#pragma GCC diagnostic pop
 
 	drm_connector_helper_add(&tve->connector,
 			&imx_tve_connector_helper_funcs);
diff --git a/drivers/gpu/drm/imx/ipuv3-plane.c b/drivers/gpu/drm/imx/ipuv3-plane.c
index 8b5294d47cee..069663777bcd 100644
--- a/drivers/gpu/drm/imx/ipuv3-plane.c
+++ b/drivers/gpu/drm/imx/ipuv3-plane.c
@@ -494,10 +494,13 @@ struct ipu_plane *ipu_plane_init(struct drm_device *dev, struct ipu_soc *ipu,
 	ipu_plane->dma = dma;
 	ipu_plane->dp_flow = dp;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, &ipu_plane->base, possible_crtcs,
 				       &ipu_plane_funcs, ipu_plane_formats,
 				       ARRAY_SIZE(ipu_plane_formats), type,
 				       NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		DRM_ERROR("failed to initialize plane\n");
 		kfree(ipu_plane);
diff --git a/drivers/gpu/drm/imx/parallel-display.c b/drivers/gpu/drm/imx/parallel-display.c
index d5c06fd89f90..450872014c94 100644
--- a/drivers/gpu/drm/imx/parallel-display.c
+++ b/drivers/gpu/drm/imx/parallel-display.c
@@ -176,8 +176,12 @@ static int imx_pd_register(struct drm_device *drm,
 	imxpd->connector.dpms = DRM_MODE_DPMS_OFF;
 
 	drm_encoder_helper_add(encoder, &imx_pd_encoder_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, encoder, &imx_pd_encoder_funcs,
 			 DRM_MODE_ENCODER_NONE, NULL);
+#pragma GCC diagnostic pop
 
 	if (!imxpd->bridge) {
 		drm_connector_helper_add(&imxpd->connector,
diff --git a/drivers/gpu/drm/mediatek/mtk_dpi.c b/drivers/gpu/drm/mediatek/mtk_dpi.c
index 3bd3bd688d1a..7f31cef8e35c 100644
--- a/drivers/gpu/drm/mediatek/mtk_dpi.c
+++ b/drivers/gpu/drm/mediatek/mtk_dpi.c
@@ -610,8 +610,12 @@ static int mtk_dpi_bind(struct device *dev, struct device *master, void *data)
 		return ret;
 	}
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm_dev, &dpi->encoder, &mtk_dpi_encoder_funcs,
 			       DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		dev_err(dev, "Failed to initialize decoder: %d\n", ret);
 		goto err_unregister;
diff --git a/drivers/gpu/drm/mediatek/mtk_drm_crtc.c b/drivers/gpu/drm/mediatek/mtk_drm_crtc.c
index a73de1e669c2..e58839fa5fb7 100644
--- a/drivers/gpu/drm/mediatek/mtk_drm_crtc.c
+++ b/drivers/gpu/drm/mediatek/mtk_drm_crtc.c
@@ -454,8 +454,11 @@ static int mtk_drm_crtc_init(struct drm_device *drm,
 {
 	int ret;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm, &mtk_crtc->base, primary, cursor,
 					&mtk_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		goto err_cleanup_crtc;
 
diff --git a/drivers/gpu/drm/mediatek/mtk_drm_plane.c b/drivers/gpu/drm/mediatek/mtk_drm_plane.c
index e405e89ed5e5..b71f12bf4815 100644
--- a/drivers/gpu/drm/mediatek/mtk_drm_plane.c
+++ b/drivers/gpu/drm/mediatek/mtk_drm_plane.c
@@ -171,9 +171,12 @@ int mtk_plane_init(struct drm_device *dev, struct drm_plane *plane,
 {
 	int err;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	err = drm_universal_plane_init(dev, plane, possible_crtcs,
 				       &mtk_plane_funcs, formats,
 				       ARRAY_SIZE(formats), type, NULL);
+#pragma GCC diagnostic pop
 	if (err) {
 		DRM_ERROR("failed to initialize plane\n");
 		return err;
diff --git a/drivers/gpu/drm/mediatek/mtk_dsi.c b/drivers/gpu/drm/mediatek/mtk_dsi.c
index dd71cbb1a622..4afde4edd001 100644
--- a/drivers/gpu/drm/mediatek/mtk_dsi.c
+++ b/drivers/gpu/drm/mediatek/mtk_dsi.c
@@ -657,8 +657,12 @@ static int mtk_dsi_create_conn_enc(struct drm_device *drm, struct mtk_dsi *dsi)
 {
 	int ret;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm, &dsi->encoder, &mtk_dsi_encoder_funcs,
 			       DRM_MODE_ENCODER_DSI, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		DRM_ERROR("Failed to encoder init to drm\n");
 		return ret;
diff --git a/drivers/gpu/drm/mgag200/mgag200_mode.c b/drivers/gpu/drm/mgag200/mgag200_mode.c
index 3938120e5051..33ec7253a136 100644
--- a/drivers/gpu/drm/mgag200/mgag200_mode.c
+++ b/drivers/gpu/drm/mgag200/mgag200_mode.c
@@ -1565,8 +1565,12 @@ static struct drm_encoder *mga_encoder_init(struct drm_device *dev)
 	encoder = &mga_encoder->base;
 	encoder->possible_crtcs = 0x1;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &mga_encoder_encoder_funcs,
 			 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &mga_encoder_helper_funcs);
 
 	return encoder;
diff --git a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_crtc.c b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_crtc.c
index 1c29618f4ddb..524a6070a6e1 100644
--- a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_crtc.c
+++ b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_crtc.c
@@ -656,8 +656,11 @@ struct drm_crtc *mdp4_crtc_init(struct drm_device *dev,
 	drm_flip_work_init(&mdp4_crtc->unref_cursor_work,
 			"unref cursor", unref_cursor_worker);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_crtc_init_with_planes(dev, crtc, plane, NULL, &mdp4_crtc_funcs,
 				  NULL);
+#pragma GCC diagnostic pop
 	drm_crtc_helper_add(crtc, &mdp4_crtc_helper_funcs);
 	plane->crtc = crtc;
 
diff --git a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_dsi_encoder.c b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_dsi_encoder.c
index 106f0e772595..b7396f0f99f6 100644
--- a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_dsi_encoder.c
+++ b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_dsi_encoder.c
@@ -176,8 +176,12 @@ struct drm_encoder *mdp4_dsi_encoder_init(struct drm_device *dev)
 
 	encoder = &mdp4_dsi_encoder->base;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &mdp4_dsi_encoder_funcs,
 			 DRM_MODE_ENCODER_DSI, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &mdp4_dsi_encoder_helper_funcs);
 
 	return encoder;
diff --git a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_dtv_encoder.c b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_dtv_encoder.c
index 24258e3025e3..eefb762fc822 100644
--- a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_dtv_encoder.c
+++ b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_dtv_encoder.c
@@ -253,8 +253,12 @@ struct drm_encoder *mdp4_dtv_encoder_init(struct drm_device *dev)
 
 	encoder = &mdp4_dtv_encoder->base;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &mdp4_dtv_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &mdp4_dtv_encoder_helper_funcs);
 
 	mdp4_dtv_encoder->hdmi_clk = devm_clk_get(dev->dev, "hdmi_clk");
diff --git a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_lcdc_encoder.c b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_lcdc_encoder.c
index a06b064f86c1..bd1cbe3dd2cf 100644
--- a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_lcdc_encoder.c
+++ b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_lcdc_encoder.c
@@ -454,8 +454,12 @@ struct drm_encoder *mdp4_lcdc_encoder_init(struct drm_device *dev,
 
 	encoder = &mdp4_lcdc_encoder->base;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &mdp4_lcdc_encoder_funcs,
 			 DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &mdp4_lcdc_encoder_helper_funcs);
 
 	/* TODO: do we need different pll in other cases? */
diff --git a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_plane.c b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_plane.c
index 53619d07677e..414524c992cb 100644
--- a/drivers/gpu/drm/msm/mdp/mdp4/mdp4_plane.c
+++ b/drivers/gpu/drm/msm/mdp/mdp4/mdp4_plane.c
@@ -396,9 +396,12 @@ struct drm_plane *mdp4_plane_init(struct drm_device *dev,
 			!pipe_supports_yuv(mdp4_plane->caps));
 
 	type = private_plane ? DRM_PLANE_TYPE_PRIMARY : DRM_PLANE_TYPE_OVERLAY;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, plane, 0xff, &mdp4_plane_funcs,
 				 mdp4_plane->formats, mdp4_plane->nformats,
 				 type, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		goto fail;
 
diff --git a/drivers/gpu/drm/msm/mdp/mdp5/mdp5_crtc.c b/drivers/gpu/drm/msm/mdp/mdp5/mdp5_crtc.c
index d0c8b38b96ce..264056600110 100644
--- a/drivers/gpu/drm/msm/mdp/mdp5/mdp5_crtc.c
+++ b/drivers/gpu/drm/msm/mdp/mdp5/mdp5_crtc.c
@@ -825,12 +825,15 @@ struct drm_crtc *mdp5_crtc_init(struct drm_device *dev,
 	mdp5_crtc->vblank.irq = mdp5_crtc_vblank_irq;
 	mdp5_crtc->err.irq = mdp5_crtc_err_irq;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (cursor_plane)
 		drm_crtc_init_with_planes(dev, crtc, plane, cursor_plane,
 					  &mdp5_crtc_no_lm_cursor_funcs, NULL);
 	else
 		drm_crtc_init_with_planes(dev, crtc, plane, NULL,
 					  &mdp5_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 
 	drm_flip_work_init(&mdp5_crtc->unref_cursor_work,
 			"unref cursor", unref_cursor_worker);
diff --git a/drivers/gpu/drm/msm/mdp/mdp5/mdp5_encoder.c b/drivers/gpu/drm/msm/mdp/mdp5/mdp5_encoder.c
index 80fa482ae8ed..563c7d136eb3 100644
--- a/drivers/gpu/drm/msm/mdp/mdp5/mdp5_encoder.c
+++ b/drivers/gpu/drm/msm/mdp/mdp5/mdp5_encoder.c
@@ -405,7 +405,11 @@ struct drm_encoder *mdp5_encoder_init(struct drm_device *dev,
 
 	spin_lock_init(&mdp5_encoder->intf_lock);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &mdp5_encoder_funcs, enc_type, NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(encoder, &mdp5_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/msm/mdp/mdp5/mdp5_plane.c b/drivers/gpu/drm/msm/mdp/mdp5/mdp5_plane.c
index 0ffb8affef35..459331411a7b 100644
--- a/drivers/gpu/drm/msm/mdp/mdp5/mdp5_plane.c
+++ b/drivers/gpu/drm/msm/mdp/mdp5/mdp5_plane.c
@@ -996,6 +996,8 @@ struct drm_plane *mdp5_plane_init(struct drm_device *dev,
 	mdp5_plane->nformats = mdp_get_formats(mdp5_plane->formats,
 		ARRAY_SIZE(mdp5_plane->formats), false);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (type == DRM_PLANE_TYPE_CURSOR)
 		ret = drm_universal_plane_init(dev, plane, 0xff,
 				&mdp5_cursor_plane_funcs,
@@ -1006,6 +1008,7 @@ struct drm_plane *mdp5_plane_init(struct drm_device *dev,
 				&mdp5_plane_funcs,
 				mdp5_plane->formats, mdp5_plane->nformats,
 				type, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		goto fail;
 
diff --git a/drivers/gpu/drm/nouveau/dispnv04/dac.c b/drivers/gpu/drm/nouveau/dispnv04/dac.c
index 4feab0a5419d..69748947cc5f 100644
--- a/drivers/gpu/drm/nouveau/dispnv04/dac.c
+++ b/drivers/gpu/drm/nouveau/dispnv04/dac.c
@@ -549,8 +549,12 @@ nv04_dac_create(struct drm_connector *connector, struct dcb_output *entry)
 	else
 		helper = &nv04_dac_helper_funcs;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &nv04_dac_funcs, DRM_MODE_ENCODER_DAC,
 			 NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, helper);
 
 	encoder->possible_crtcs = entry->heads;
diff --git a/drivers/gpu/drm/nouveau/dispnv04/dfp.c b/drivers/gpu/drm/nouveau/dispnv04/dfp.c
index 9805d2cdc1a1..6ed866844a23 100644
--- a/drivers/gpu/drm/nouveau/dispnv04/dfp.c
+++ b/drivers/gpu/drm/nouveau/dispnv04/dfp.c
@@ -706,7 +706,11 @@ nv04_dfp_create(struct drm_connector *connector, struct dcb_output *entry)
 	nv_encoder->dcb = entry;
 	nv_encoder->or = ffs(entry->or) - 1;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(connector->dev, encoder, &nv04_dfp_funcs, type, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, helper);
 
 	encoder->possible_crtcs = entry->heads;
diff --git a/drivers/gpu/drm/nouveau/dispnv04/tvnv04.c b/drivers/gpu/drm/nouveau/dispnv04/tvnv04.c
index 01664357d3e1..40af16e28ee2 100644
--- a/drivers/gpu/drm/nouveau/dispnv04/tvnv04.c
+++ b/drivers/gpu/drm/nouveau/dispnv04/tvnv04.c
@@ -223,8 +223,12 @@ nv04_tv_create(struct drm_connector *connector, struct dcb_output *entry)
 	/* Initialize the common members */
 	encoder = to_drm_encoder(nv_encoder);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &nv04_tv_funcs, DRM_MODE_ENCODER_TVDAC,
 			 NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &nv04_tv_helper_funcs);
 
 	nv_encoder->enc_save = drm_i2c_encoder_save;
diff --git a/drivers/gpu/drm/nouveau/dispnv04/tvnv17.c b/drivers/gpu/drm/nouveau/dispnv04/tvnv17.c
index 6d99f11fee4e..8150c158e170 100644
--- a/drivers/gpu/drm/nouveau/dispnv04/tvnv17.c
+++ b/drivers/gpu/drm/nouveau/dispnv04/tvnv17.c
@@ -809,8 +809,12 @@ nv17_tv_create(struct drm_connector *connector, struct dcb_output *entry)
 	tv_enc->base.dcb = entry;
 	tv_enc->base.or = ffs(entry->or) - 1;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &nv17_tv_funcs, DRM_MODE_ENCODER_TVDAC,
 			 NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &nv17_tv_helper_funcs);
 	to_encoder_slave(encoder)->slave_funcs = &nv17_tv_slave_funcs;
 
diff --git a/drivers/gpu/drm/omapdrm/omap_crtc.c b/drivers/gpu/drm/omapdrm/omap_crtc.c
index b68c70eb395f..5bd71740134a 100644
--- a/drivers/gpu/drm/omapdrm/omap_crtc.c
+++ b/drivers/gpu/drm/omapdrm/omap_crtc.c
@@ -548,8 +548,11 @@ struct drm_crtc *omap_crtc_init(struct drm_device *dev,
 	omap_crtc->channel = channel;
 	omap_crtc->name = channel_names[channel];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(dev, crtc, plane, NULL,
 					&omap_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0) {
 		kfree(omap_crtc);
 		return NULL;
diff --git a/drivers/gpu/drm/omapdrm/omap_encoder.c b/drivers/gpu/drm/omapdrm/omap_encoder.c
index 86c977b7189a..8f60372b9e08 100644
--- a/drivers/gpu/drm/omapdrm/omap_encoder.c
+++ b/drivers/gpu/drm/omapdrm/omap_encoder.c
@@ -180,8 +180,12 @@ struct drm_encoder *omap_encoder_init(struct drm_device *dev,
 
 	encoder = &omap_encoder->base;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &omap_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &omap_encoder_helper_funcs);
 
 	return encoder;
diff --git a/drivers/gpu/drm/omapdrm/omap_plane.c b/drivers/gpu/drm/omapdrm/omap_plane.c
index 386d90af70f7..7e07e925d5eb 100644
--- a/drivers/gpu/drm/omapdrm/omap_plane.c
+++ b/drivers/gpu/drm/omapdrm/omap_plane.c
@@ -358,9 +358,12 @@ struct drm_plane *omap_plane_init(struct drm_device *dev,
 
 	plane = &omap_plane->base;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, plane, possible_crtcs,
 				       &omap_plane_funcs, omap_plane->formats,
 				       omap_plane->nformats, type, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		goto error;
 
diff --git a/drivers/gpu/drm/qxl/qxl_display.c b/drivers/gpu/drm/qxl/qxl_display.c
index 1094cd33eb06..acb3734ee105 100644
--- a/drivers/gpu/drm/qxl/qxl_display.c
+++ b/drivers/gpu/drm/qxl/qxl_display.c
@@ -1060,8 +1060,12 @@ static int qdev_output_init(struct drm_device *dev, int num_output)
 	drm_connector_init(dev, &qxl_output->base,
 			   &qxl_connector_funcs, DRM_MODE_CONNECTOR_VIRTUAL);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, &qxl_output->enc, &qxl_enc_funcs,
 			 DRM_MODE_ENCODER_VIRTUAL, NULL);
+#pragma GCC diagnostic pop
 
 	/* we get HPD via client monitors config */
 	connector->polled = DRM_CONNECTOR_POLL_HPD;
diff --git a/drivers/gpu/drm/radeon/atombios_encoders.c b/drivers/gpu/drm/radeon/atombios_encoders.c
index fa4f8f008e4d..1e35d3accb24 100644
--- a/drivers/gpu/drm/radeon/atombios_encoders.c
+++ b/drivers/gpu/drm/radeon/atombios_encoders.c
@@ -2765,6 +2765,9 @@ radeon_add_atom_encoder(struct drm_device *dev,
 	case ENCODER_OBJECT_ID_INTERNAL_TMDS1:
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_TMDS1:
 	case ENCODER_OBJECT_ID_INTERNAL_LVTM1:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (radeon_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT)) {
 			radeon_encoder->rmx_type = RMX_FULL;
 			drm_encoder_init(dev, encoder, &radeon_atom_enc_funcs,
@@ -2775,19 +2778,28 @@ radeon_add_atom_encoder(struct drm_device *dev,
 					 DRM_MODE_ENCODER_TMDS, NULL);
 			radeon_encoder->enc_priv = radeon_atombios_set_dig_info(radeon_encoder);
 		}
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &radeon_atom_dig_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_DAC1:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &radeon_atom_enc_funcs,
 				 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 		radeon_encoder->enc_priv = radeon_atombios_set_dac_info(radeon_encoder);
 		drm_encoder_helper_add(encoder, &radeon_atom_dac_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_DAC2:
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC1:
 	case ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC2:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &radeon_atom_enc_funcs,
 				 DRM_MODE_ENCODER_TVDAC, NULL);
+#pragma GCC diagnostic pop
 		radeon_encoder->enc_priv = radeon_atombios_set_dac_info(radeon_encoder);
 		drm_encoder_helper_add(encoder, &radeon_atom_dac_helper_funcs);
 		break;
@@ -2799,6 +2811,9 @@ radeon_add_atom_encoder(struct drm_device *dev,
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY1:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY2:
 	case ENCODER_OBJECT_ID_INTERNAL_UNIPHY3:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (radeon_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT)) {
 			radeon_encoder->rmx_type = RMX_FULL;
 			drm_encoder_init(dev, encoder, &radeon_atom_enc_funcs,
@@ -2813,6 +2828,7 @@ radeon_add_atom_encoder(struct drm_device *dev,
 					 DRM_MODE_ENCODER_TMDS, NULL);
 			radeon_encoder->enc_priv = radeon_atombios_set_dig_info(radeon_encoder);
 		}
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &radeon_atom_dig_helper_funcs);
 		break;
 	case ENCODER_OBJECT_ID_SI170B:
@@ -2826,6 +2842,9 @@ radeon_add_atom_encoder(struct drm_device *dev,
 	case ENCODER_OBJECT_ID_NUTMEG:
 		/* these are handled by the primary encoders */
 		radeon_encoder->is_ext_encoder = true;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (radeon_encoder->devices & (ATOM_DEVICE_LCD_SUPPORT))
 			drm_encoder_init(dev, encoder, &radeon_atom_enc_funcs,
 					 DRM_MODE_ENCODER_LVDS, NULL);
@@ -2835,6 +2854,7 @@ radeon_add_atom_encoder(struct drm_device *dev,
 		else
 			drm_encoder_init(dev, encoder, &radeon_atom_enc_funcs,
 					 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &radeon_atom_ext_helper_funcs);
 		break;
 	}
diff --git a/drivers/gpu/drm/radeon/radeon_dp_mst.c b/drivers/gpu/drm/radeon/radeon_dp_mst.c
index 7d5ada3980dc..ed005cd91038 100644
--- a/drivers/gpu/drm/radeon/radeon_dp_mst.c
+++ b/drivers/gpu/drm/radeon/radeon_dp_mst.c
@@ -647,8 +647,12 @@ radeon_dp_create_fake_mst_encoder(struct radeon_connector *connector)
 		break;
 	}
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, &radeon_encoder->base, &radeon_dp_mst_enc_funcs,
 			 DRM_MODE_ENCODER_DPMST, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &radeon_mst_helper_funcs);
 
 	mst_enc = radeon_encoder->enc_priv;
diff --git a/drivers/gpu/drm/radeon/radeon_legacy_encoders.c b/drivers/gpu/drm/radeon/radeon_legacy_encoders.c
index 222a1fa41d7c..044315d62498 100644
--- a/drivers/gpu/drm/radeon/radeon_legacy_encoders.c
+++ b/drivers/gpu/drm/radeon/radeon_legacy_encoders.c
@@ -1773,8 +1773,12 @@ radeon_add_legacy_encoder(struct drm_device *dev, uint32_t encoder_enum, uint32_
 	switch (radeon_encoder->encoder_id) {
 	case ENCODER_OBJECT_ID_INTERNAL_LVDS:
 		encoder->possible_crtcs = 0x1;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &radeon_legacy_lvds_enc_funcs,
 				 DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &radeon_legacy_lvds_helper_funcs);
 		if (rdev->is_atom_bios)
 			radeon_encoder->enc_priv = radeon_atombios_get_lvds_info(radeon_encoder);
@@ -1783,14 +1787,22 @@ radeon_add_legacy_encoder(struct drm_device *dev, uint32_t encoder_enum, uint32_
 		radeon_encoder->rmx_type = RMX_FULL;
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_TMDS1:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &radeon_legacy_tmds_int_enc_funcs,
 				 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &radeon_legacy_tmds_int_helper_funcs);
 		radeon_encoder->enc_priv = radeon_legacy_get_tmds_info(radeon_encoder);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_DAC1:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &radeon_legacy_primary_dac_enc_funcs,
 				 DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &radeon_legacy_primary_dac_helper_funcs);
 		if (rdev->is_atom_bios)
 			radeon_encoder->enc_priv = radeon_atombios_get_primary_dac_info(radeon_encoder);
@@ -1798,8 +1810,12 @@ radeon_add_legacy_encoder(struct drm_device *dev, uint32_t encoder_enum, uint32_
 			radeon_encoder->enc_priv = radeon_combios_get_primary_dac_info(radeon_encoder);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_DAC2:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &radeon_legacy_tv_dac_enc_funcs,
 				 DRM_MODE_ENCODER_TVDAC, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &radeon_legacy_tv_dac_helper_funcs);
 		if (rdev->is_atom_bios)
 			radeon_encoder->enc_priv = radeon_atombios_get_tv_dac_info(radeon_encoder);
@@ -1807,8 +1823,12 @@ radeon_add_legacy_encoder(struct drm_device *dev, uint32_t encoder_enum, uint32_
 			radeon_encoder->enc_priv = radeon_combios_get_tv_dac_info(radeon_encoder);
 		break;
 	case ENCODER_OBJECT_ID_INTERNAL_DVO1:
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(dev, encoder, &radeon_legacy_tmds_ext_enc_funcs,
 				 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(encoder, &radeon_legacy_tmds_ext_helper_funcs);
 		if (!rdev->is_atom_bios)
 			radeon_encoder->enc_priv = radeon_legacy_get_ext_tmds_info(radeon_encoder);
diff --git a/drivers/gpu/drm/rcar-du/rcar_du_crtc.c b/drivers/gpu/drm/rcar-du/rcar_du_crtc.c
index a2ec6d8796a0..d2c858b5dee6 100644
--- a/drivers/gpu/drm/rcar-du/rcar_du_crtc.c
+++ b/drivers/gpu/drm/rcar-du/rcar_du_crtc.c
@@ -616,8 +616,11 @@ int rcar_du_crtc_create(struct rcar_du_group *rgrp, unsigned int index)
 	else
 		primary = &rgrp->planes[index % 2].plane;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(rcdu->ddev, crtc, primary,
 					NULL, &crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		return ret;
 
diff --git a/drivers/gpu/drm/rcar-du/rcar_du_encoder.c b/drivers/gpu/drm/rcar-du/rcar_du_encoder.c
index ab8645c57e2d..766857317276 100644
--- a/drivers/gpu/drm/rcar-du/rcar_du_encoder.c
+++ b/drivers/gpu/drm/rcar-du/rcar_du_encoder.c
@@ -155,8 +155,12 @@ int rcar_du_encoder_init(struct rcar_du_device *rcdu,
 		if (ret < 0)
 			goto done;
 	} else {
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		ret = drm_encoder_init(rcdu->ddev, encoder, &encoder_funcs,
 				       encoder_type, NULL);
+#pragma GCC diagnostic pop
 		if (ret < 0)
 			goto done;
 
diff --git a/drivers/gpu/drm/rcar-du/rcar_du_hdmienc.c b/drivers/gpu/drm/rcar-du/rcar_du_hdmienc.c
index c4c5d1abcff8..13c31c77a9a2 100644
--- a/drivers/gpu/drm/rcar-du/rcar_du_hdmienc.c
+++ b/drivers/gpu/drm/rcar-du/rcar_du_hdmienc.c
@@ -113,8 +113,12 @@ int rcar_du_hdmienc_init(struct rcar_du_device *rcdu,
 	if (!bridge)
 		return -EPROBE_DEFER;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(rcdu->ddev, encoder, &encoder_funcs,
 			       DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		return ret;
 
diff --git a/drivers/gpu/drm/rcar-du/rcar_du_plane.c b/drivers/gpu/drm/rcar-du/rcar_du_plane.c
index dcde6288da6c..9762ff4e0bc8 100644
--- a/drivers/gpu/drm/rcar-du/rcar_du_plane.c
+++ b/drivers/gpu/drm/rcar-du/rcar_du_plane.c
@@ -741,10 +741,13 @@ int rcar_du_planes_init(struct rcar_du_group *rgrp)
 
 		plane->group = rgrp;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		ret = drm_universal_plane_init(rcdu->ddev, &plane->plane, crtcs,
 					       &rcar_du_plane_funcs, formats,
 					       ARRAY_SIZE(formats), type,
 					       NULL);
+#pragma GCC diagnostic pop
 		if (ret < 0)
 			return ret;
 
diff --git a/drivers/gpu/drm/rcar-du/rcar_du_vsp.c b/drivers/gpu/drm/rcar-du/rcar_du_vsp.c
index b5bfbe50bd87..a7dd5e8dae03 100644
--- a/drivers/gpu/drm/rcar-du/rcar_du_vsp.c
+++ b/drivers/gpu/drm/rcar-du/rcar_du_vsp.c
@@ -360,12 +360,15 @@ int rcar_du_vsp_init(struct rcar_du_vsp *vsp)
 		plane->vsp = vsp;
 		plane->index = i;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		ret = drm_universal_plane_init(rcdu->ddev, &plane->plane,
 					       1 << vsp->index,
 					       &rcar_du_vsp_plane_funcs,
 					       formats_kms,
 					       ARRAY_SIZE(formats_kms), type,
 					       NULL);
+#pragma GCC diagnostic pop
 		if (ret < 0)
 			return ret;
 
diff --git a/drivers/gpu/drm/rockchip/analogix_dp-rockchip.c b/drivers/gpu/drm/rockchip/analogix_dp-rockchip.c
index 8548e8271639..6350a4d4b884 100644
--- a/drivers/gpu/drm/rockchip/analogix_dp-rockchip.c
+++ b/drivers/gpu/drm/rockchip/analogix_dp-rockchip.c
@@ -350,8 +350,12 @@ static int rockchip_dp_drm_create_encoder(struct rockchip_dp_device *dp)
 							     dev->of_node);
 	DRM_DEBUG_KMS("possible_crtcs = 0x%x\n", encoder->possible_crtcs);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm_dev, encoder, &rockchip_dp_encoder_funcs,
 			       DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		DRM_ERROR("failed to initialize encoder with drm\n");
 		return ret;
diff --git a/drivers/gpu/drm/rockchip/dw-mipi-dsi.c b/drivers/gpu/drm/rockchip/dw-mipi-dsi.c
index d9aa382bb629..c9dfcc292573 100644
--- a/drivers/gpu/drm/rockchip/dw-mipi-dsi.c
+++ b/drivers/gpu/drm/rockchip/dw-mipi-dsi.c
@@ -1005,8 +1005,12 @@ static int dw_mipi_dsi_register(struct drm_device *drm,
 
 	drm_encoder_helper_add(&dsi->encoder,
 			       &dw_mipi_dsi_encoder_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm, &dsi->encoder, &dw_mipi_dsi_encoder_funcs,
 			 DRM_MODE_ENCODER_DSI, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		dev_err(dev, "Failed to initialize encoder with drm\n");
 		return ret;
diff --git a/drivers/gpu/drm/rockchip/dw_hdmi-rockchip.c b/drivers/gpu/drm/rockchip/dw_hdmi-rockchip.c
index a6d4a0236e8f..db0957d795b5 100644
--- a/drivers/gpu/drm/rockchip/dw_hdmi-rockchip.c
+++ b/drivers/gpu/drm/rockchip/dw_hdmi-rockchip.c
@@ -288,8 +288,12 @@ static int dw_hdmi_rockchip_bind(struct device *dev, struct device *master,
 	}
 
 	drm_encoder_helper_add(encoder, &dw_hdmi_rockchip_encoder_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, encoder, &dw_hdmi_rockchip_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	ret = dw_hdmi_bind(pdev, encoder, plat_data);
 
diff --git a/drivers/gpu/drm/rockchip/inno_hdmi.c b/drivers/gpu/drm/rockchip/inno_hdmi.c
index 006260de9dbd..8f253f6f03cb 100644
--- a/drivers/gpu/drm/rockchip/inno_hdmi.c
+++ b/drivers/gpu/drm/rockchip/inno_hdmi.c
@@ -624,8 +624,12 @@ static int inno_hdmi_register(struct drm_device *drm, struct inno_hdmi *hdmi)
 		return -EPROBE_DEFER;
 
 	drm_encoder_helper_add(encoder, &inno_hdmi_encoder_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, encoder, &inno_hdmi_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	hdmi->connector.polled = DRM_CONNECTOR_POLL_HPD;
 
diff --git a/drivers/gpu/drm/rockchip/rockchip_drm_vop.c b/drivers/gpu/drm/rockchip/rockchip_drm_vop.c
index 76c79ac57df0..7b3028512d62 100644
--- a/drivers/gpu/drm/rockchip/rockchip_drm_vop.c
+++ b/drivers/gpu/drm/rockchip/rockchip_drm_vop.c
@@ -1228,11 +1228,14 @@ static int vop_create_crtc(struct vop *vop)
 		    win_data->type != DRM_PLANE_TYPE_CURSOR)
 			continue;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		ret = drm_universal_plane_init(vop->drm_dev, &vop_win->base,
 					       0, &vop_plane_funcs,
 					       win_data->phy->data_formats,
 					       win_data->phy->nformats,
 					       win_data->type, NULL);
+#pragma GCC diagnostic pop
 		if (ret) {
 			DRM_DEV_ERROR(vop->dev, "failed to init plane %d\n",
 				      ret);
@@ -1247,8 +1250,11 @@ static int vop_create_crtc(struct vop *vop)
 			cursor = plane;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm_dev, crtc, primary, cursor,
 					&vop_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		goto err_cleanup_planes;
 
@@ -1266,12 +1272,15 @@ static int vop_create_crtc(struct vop *vop)
 		if (win_data->type != DRM_PLANE_TYPE_OVERLAY)
 			continue;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		ret = drm_universal_plane_init(vop->drm_dev, &vop_win->base,
 					       possible_crtcs,
 					       &vop_plane_funcs,
 					       win_data->phy->data_formats,
 					       win_data->phy->nformats,
 					       win_data->type, NULL);
+#pragma GCC diagnostic pop
 		if (ret) {
 			DRM_DEV_ERROR(vop->dev, "failed to init overlay %d\n",
 				      ret);
diff --git a/drivers/gpu/drm/shmobile/shmob_drm_crtc.c b/drivers/gpu/drm/shmobile/shmob_drm_crtc.c
index 445476551695..088872d2ce13 100644
--- a/drivers/gpu/drm/shmobile/shmob_drm_crtc.c
+++ b/drivers/gpu/drm/shmobile/shmob_drm_crtc.c
@@ -584,8 +584,12 @@ int shmob_drm_encoder_create(struct shmob_drm_device *sdev)
 
 	encoder->possible_crtcs = 1;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(sdev->ddev, encoder, &encoder_funcs,
 			       DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		return ret;
 
diff --git a/drivers/gpu/drm/sti/sti_crtc.c b/drivers/gpu/drm/sti/sti_crtc.c
index d45a4335df5d..b6323f1023de 100644
--- a/drivers/gpu/drm/sti/sti_crtc.c
+++ b/drivers/gpu/drm/sti/sti_crtc.c
@@ -352,8 +352,11 @@ int sti_crtc_init(struct drm_device *drm_dev, struct sti_mixer *mixer,
 	struct drm_crtc *crtc = &mixer->drm_crtc;
 	int res;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	res = drm_crtc_init_with_planes(drm_dev, crtc, primary, cursor,
 					&sti_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (res) {
 		DRM_ERROR("Can't initialze CRTC\n");
 		return -EINVAL;
diff --git a/drivers/gpu/drm/sti/sti_cursor.c b/drivers/gpu/drm/sti/sti_cursor.c
index cca75bddb9ad..6d61a6fcd5ac 100644
--- a/drivers/gpu/drm/sti/sti_cursor.c
+++ b/drivers/gpu/drm/sti/sti_cursor.c
@@ -388,12 +388,15 @@ struct drm_plane *sti_cursor_create(struct drm_device *drm_dev,
 
 	sti_cursor_init(cursor);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	res = drm_universal_plane_init(drm_dev, &cursor->plane.drm_plane,
 				       possible_crtcs,
 				       &sti_cursor_plane_helpers_funcs,
 				       cursor_supported_formats,
 				       ARRAY_SIZE(cursor_supported_formats),
 				       DRM_PLANE_TYPE_CURSOR, NULL);
+#pragma GCC diagnostic pop
 	if (res) {
 		DRM_ERROR("Failed to initialize universal plane\n");
 		goto err_plane;
diff --git a/drivers/gpu/drm/sti/sti_gdp.c b/drivers/gpu/drm/sti/sti_gdp.c
index 86279f5022c2..1370c1937474 100644
--- a/drivers/gpu/drm/sti/sti_gdp.c
+++ b/drivers/gpu/drm/sti/sti_gdp.c
@@ -925,12 +925,15 @@ struct drm_plane *sti_gdp_create(struct drm_device *drm_dev,
 
 	sti_gdp_init(gdp);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	res = drm_universal_plane_init(drm_dev, &gdp->plane.drm_plane,
 				       possible_crtcs,
 				       &sti_gdp_plane_helpers_funcs,
 				       gdp_supported_formats,
 				       ARRAY_SIZE(gdp_supported_formats),
 				       type, NULL);
+#pragma GCC diagnostic pop
 	if (res) {
 		DRM_ERROR("Failed to initialize universal plane\n");
 		goto err;
diff --git a/drivers/gpu/drm/sti/sti_hqvdp.c b/drivers/gpu/drm/sti/sti_hqvdp.c
index 66f843148ef7..4f025e1daa72 100644
--- a/drivers/gpu/drm/sti/sti_hqvdp.c
+++ b/drivers/gpu/drm/sti/sti_hqvdp.c
@@ -1292,11 +1292,14 @@ static struct drm_plane *sti_hqvdp_create(struct drm_device *drm_dev,
 
 	sti_hqvdp_init(hqvdp);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	res = drm_universal_plane_init(drm_dev, &hqvdp->plane.drm_plane, 1,
 				       &sti_hqvdp_plane_helpers_funcs,
 				       hqvdp_supported_formats,
 				       ARRAY_SIZE(hqvdp_supported_formats),
 				       DRM_PLANE_TYPE_OVERLAY, NULL);
+#pragma GCC diagnostic pop
 	if (res) {
 		DRM_ERROR("Failed to initialize universal plane\n");
 		return NULL;
diff --git a/drivers/gpu/drm/sti/sti_tvout.c b/drivers/gpu/drm/sti/sti_tvout.c
index 8b8ea717c121..dde44863244d 100644
--- a/drivers/gpu/drm/sti/sti_tvout.c
+++ b/drivers/gpu/drm/sti/sti_tvout.c
@@ -671,9 +671,13 @@ sti_tvout_create_dvo_encoder(struct drm_device *dev,
 	drm_encoder->possible_crtcs = ENCODER_CRTC_MASK;
 	drm_encoder->possible_clones = 1 << 0;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, drm_encoder,
 			 &sti_tvout_encoder_funcs, DRM_MODE_ENCODER_LVDS,
 			 NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(drm_encoder, &sti_dvo_encoder_helper_funcs);
 
@@ -724,8 +728,12 @@ static struct drm_encoder *sti_tvout_create_hda_encoder(struct drm_device *dev,
 	drm_encoder->possible_crtcs = ENCODER_CRTC_MASK;
 	drm_encoder->possible_clones = 1 << 0;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, drm_encoder,
 			&sti_tvout_encoder_funcs, DRM_MODE_ENCODER_DAC, NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(drm_encoder, &sti_hda_encoder_helper_funcs);
 
@@ -773,8 +781,12 @@ static struct drm_encoder *sti_tvout_create_hdmi_encoder(struct drm_device *dev,
 	drm_encoder->possible_crtcs = ENCODER_CRTC_MASK;
 	drm_encoder->possible_clones = 1 << 1;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, drm_encoder,
 			&sti_tvout_encoder_funcs, DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 
 	drm_encoder_helper_add(drm_encoder, &sti_hdmi_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/sun4i/sun4i_crtc.c b/drivers/gpu/drm/sun4i/sun4i_crtc.c
index 4a192210574f..ff64e0c5ce2b 100644
--- a/drivers/gpu/drm/sun4i/sun4i_crtc.c
+++ b/drivers/gpu/drm/sun4i/sun4i_crtc.c
@@ -124,11 +124,14 @@ struct sun4i_crtc *sun4i_crtc_init(struct drm_device *drm)
 		return NULL;
 	scrtc->drv = drv;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm, &scrtc->crtc,
 					drv->primary,
 					NULL,
 					&sun4i_crtc_funcs,
 					NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		dev_err(drm->dev, "Couldn't init DRM CRTC\n");
 		return NULL;
diff --git a/drivers/gpu/drm/sun4i/sun4i_layer.c b/drivers/gpu/drm/sun4i/sun4i_layer.c
index 5d53c977bca5..2f59b9353a38 100644
--- a/drivers/gpu/drm/sun4i/sun4i_layer.c
+++ b/drivers/gpu/drm/sun4i/sun4i_layer.c
@@ -114,10 +114,13 @@ static struct sun4i_layer *sun4i_layer_init_one(struct drm_device *drm,
 	if (!layer)
 		return ERR_PTR(-ENOMEM);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(drm, &layer->plane, BIT(0),
 				       &sun4i_backend_layer_funcs,
 				       plane->formats, plane->nformats,
 				       plane->type, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		dev_err(drm->dev, "Couldn't initialize layer\n");
 		return ERR_PTR(ret);
diff --git a/drivers/gpu/drm/sun4i/sun4i_rgb.c b/drivers/gpu/drm/sun4i/sun4i_rgb.c
index 757208f51731..065293b34a43 100644
--- a/drivers/gpu/drm/sun4i/sun4i_rgb.c
+++ b/drivers/gpu/drm/sun4i/sun4i_rgb.c
@@ -227,11 +227,15 @@ int sun4i_rgb_init(struct drm_device *drm)
 
 	drm_encoder_helper_add(&rgb->encoder,
 			       &sun4i_rgb_enc_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm,
 			       &rgb->encoder,
 			       &sun4i_rgb_enc_funcs,
 			       DRM_MODE_ENCODER_NONE,
 			       NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		dev_err(drm->dev, "Couldn't initialise the rgb encoder\n");
 		goto err_out;
diff --git a/drivers/gpu/drm/sun4i/sun4i_tv.c b/drivers/gpu/drm/sun4i/sun4i_tv.c
index c6f47222e8fc..7635f2b9f1d4 100644
--- a/drivers/gpu/drm/sun4i/sun4i_tv.c
+++ b/drivers/gpu/drm/sun4i/sun4i_tv.c
@@ -613,11 +613,15 @@ static int sun4i_tv_bind(struct device *dev, struct device *master,
 
 	drm_encoder_helper_add(&tv->encoder,
 			       &sun4i_tv_helper_funcs);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(drm,
 			       &tv->encoder,
 			       &sun4i_tv_funcs,
 			       DRM_MODE_ENCODER_TVDAC,
 			       NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		dev_err(dev, "Couldn't initialise the TV encoder\n");
 		goto err_disable_clk;
diff --git a/drivers/gpu/drm/tegra/dc.c b/drivers/gpu/drm/tegra/dc.c
index 7561a95a54e3..77447a866e02 100644
--- a/drivers/gpu/drm/tegra/dc.c
+++ b/drivers/gpu/drm/tegra/dc.c
@@ -653,10 +653,13 @@ static struct drm_plane *tegra_dc_primary_plane_create(struct drm_device *drm,
 	num_formats = ARRAY_SIZE(tegra_primary_plane_formats);
 	formats = tegra_primary_plane_formats;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	err = drm_universal_plane_init(drm, &plane->base, possible_crtcs,
 				       &tegra_primary_plane_funcs, formats,
 				       num_formats, DRM_PLANE_TYPE_PRIMARY,
 				       NULL);
+#pragma GCC diagnostic pop
 	if (err < 0) {
 		kfree(plane);
 		return ERR_PTR(err);
@@ -819,10 +822,13 @@ static struct drm_plane *tegra_dc_cursor_plane_create(struct drm_device *drm,
 	num_formats = ARRAY_SIZE(tegra_cursor_plane_formats);
 	formats = tegra_cursor_plane_formats;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	err = drm_universal_plane_init(drm, &plane->base, 1 << dc->pipe,
 				       &tegra_cursor_plane_funcs, formats,
 				       num_formats, DRM_PLANE_TYPE_CURSOR,
 				       NULL);
+#pragma GCC diagnostic pop
 	if (err < 0) {
 		kfree(plane);
 		return ERR_PTR(err);
@@ -881,10 +887,13 @@ static struct drm_plane *tegra_dc_overlay_plane_create(struct drm_device *drm,
 	num_formats = ARRAY_SIZE(tegra_overlay_plane_formats);
 	formats = tegra_overlay_plane_formats;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	err = drm_universal_plane_init(drm, &plane->base, 1 << dc->pipe,
 				       &tegra_overlay_plane_funcs, formats,
 				       num_formats, DRM_PLANE_TYPE_OVERLAY,
 				       NULL);
+#pragma GCC diagnostic pop
 	if (err < 0) {
 		kfree(plane);
 		return ERR_PTR(err);
@@ -1751,8 +1760,11 @@ static int tegra_dc_init(struct host1x_client *client)
 		}
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	err = drm_crtc_init_with_planes(drm, &dc->base, primary, cursor,
 					&tegra_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (err < 0)
 		goto cleanup;
 
diff --git a/drivers/gpu/drm/tegra/dsi.c b/drivers/gpu/drm/tegra/dsi.c
index 3dea1216bafd..90ebd26d386b 100644
--- a/drivers/gpu/drm/tegra/dsi.c
+++ b/drivers/gpu/drm/tegra/dsi.c
@@ -1057,9 +1057,13 @@ static int tegra_dsi_init(struct host1x_client *client)
 					 &tegra_dsi_connector_helper_funcs);
 		dsi->output.connector.dpms = DRM_MODE_DPMS_OFF;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		drm_encoder_init(drm, &dsi->output.encoder,
 				 &tegra_dsi_encoder_funcs,
 				 DRM_MODE_ENCODER_DSI, NULL);
+#pragma GCC diagnostic pop
 		drm_encoder_helper_add(&dsi->output.encoder,
 				       &tegra_dsi_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/tegra/hdmi.c b/drivers/gpu/drm/tegra/hdmi.c
index cda0491ed6bf..68e198b5bc60 100644
--- a/drivers/gpu/drm/tegra/hdmi.c
+++ b/drivers/gpu/drm/tegra/hdmi.c
@@ -1480,8 +1480,12 @@ static int tegra_hdmi_init(struct host1x_client *client)
 				 &tegra_hdmi_connector_helper_funcs);
 	hdmi->output.connector.dpms = DRM_MODE_DPMS_OFF;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, &hdmi->output.encoder, &tegra_hdmi_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(&hdmi->output.encoder,
 			       &tegra_hdmi_encoder_helper_funcs);
 
diff --git a/drivers/gpu/drm/tegra/rgb.c b/drivers/gpu/drm/tegra/rgb.c
index a131b44e2d6f..dec042eedac9 100644
--- a/drivers/gpu/drm/tegra/rgb.c
+++ b/drivers/gpu/drm/tegra/rgb.c
@@ -285,10 +285,14 @@ int tegra_dc_rgb_init(struct drm_device *drm, struct tegra_dc *dc)
 				 &tegra_rgb_connector_helper_funcs);
 	output->connector.dpms = DRM_MODE_DPMS_OFF;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, &output->encoder, &tegra_rgb_encoder_funcs,
 			 DRM_MODE_ENCODER_LVDS, NULL);
 	drm_encoder_helper_add(&output->encoder,
 			       &tegra_rgb_encoder_helper_funcs);
+#pragma GCC diagnostic pop
 
 	drm_mode_connector_attach_encoder(&output->connector,
 					  &output->encoder);
diff --git a/drivers/gpu/drm/tegra/sor.c b/drivers/gpu/drm/tegra/sor.c
index a8f528925009..0ffd2ad6437a 100644
--- a/drivers/gpu/drm/tegra/sor.c
+++ b/drivers/gpu/drm/tegra/sor.c
@@ -2317,8 +2317,12 @@ static int tegra_sor_init(struct host1x_client *client)
 				 &tegra_sor_connector_helper_funcs);
 	sor->output.connector.dpms = DRM_MODE_DPMS_OFF;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, &sor->output.encoder, &tegra_sor_encoder_funcs,
 			 encoder, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(&sor->output.encoder, helpers);
 
 	drm_mode_connector_attach_encoder(&sor->output.connector,
diff --git a/drivers/gpu/drm/tilcdc/tilcdc_external.c b/drivers/gpu/drm/tilcdc/tilcdc_external.c
index b0dd5e8634ae..d0941913cd61 100644
--- a/drivers/gpu/drm/tilcdc/tilcdc_external.c
+++ b/drivers/gpu/drm/tilcdc/tilcdc_external.c
@@ -240,9 +240,13 @@ int tilcdc_attach_external_device(struct drm_device *ddev)
 	if (!priv->external_encoder)
 		return -ENOMEM;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(ddev, priv->external_encoder,
 			       &tilcdc_external_encoder_funcs,
 			       DRM_MODE_ENCODER_NONE, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		dev_err(ddev->dev, "drm_encoder_init() failed %d\n", ret);
 		return ret;
diff --git a/drivers/gpu/drm/tilcdc/tilcdc_panel.c b/drivers/gpu/drm/tilcdc/tilcdc_panel.c
index 28c3e2f44f64..c45eed228bb4 100644
--- a/drivers/gpu/drm/tilcdc/tilcdc_panel.c
+++ b/drivers/gpu/drm/tilcdc/tilcdc_panel.c
@@ -111,8 +111,12 @@ static struct drm_encoder *panel_encoder_create(struct drm_device *dev,
 	encoder = &panel_encoder->base;
 	encoder->possible_crtcs = 1;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(dev, encoder, &panel_encoder_funcs,
 			DRM_MODE_ENCODER_LVDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		goto fail;
 
diff --git a/drivers/gpu/drm/tilcdc/tilcdc_tfp410.c b/drivers/gpu/drm/tilcdc/tilcdc_tfp410.c
index aabfad882e23..4c692c7ade91 100644
--- a/drivers/gpu/drm/tilcdc/tilcdc_tfp410.c
+++ b/drivers/gpu/drm/tilcdc/tilcdc_tfp410.c
@@ -122,8 +122,12 @@ static struct drm_encoder *tfp410_encoder_create(struct drm_device *dev,
 	encoder = &tfp410_encoder->base;
 	encoder->possible_crtcs = 1;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_encoder_init(dev, encoder, &tfp410_encoder_funcs,
 			DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	if (ret < 0)
 		goto fail;
 
diff --git a/drivers/gpu/drm/ttm/ttm_memory.c b/drivers/gpu/drm/ttm/ttm_memory.c
index 29855be96be0..62b8131e084a 100644
--- a/drivers/gpu/drm/ttm/ttm_memory.c
+++ b/drivers/gpu/drm/ttm/ttm_memory.c
@@ -263,8 +263,11 @@ static int ttm_mem_init_kernel_zone(struct ttm_mem_global *glob,
 	zone->used_mem = 0;
 	zone->glob = glob;
 	glob->zone_kernel = zone;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = kobject_init_and_add(
 		&zone->kobj, &ttm_mem_zone_kobj_type, &glob->kobj, zone->name);
+#pragma GCC diagnostic pop
 	if (unlikely(ret != 0)) {
 		kobject_put(&zone->kobj);
 		return ret;
@@ -347,8 +350,11 @@ static int ttm_mem_init_dma32_zone(struct ttm_mem_global *glob,
 	zone->used_mem = 0;
 	zone->glob = glob;
 	glob->zone_dma32 = zone;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = kobject_init_and_add(
 		&zone->kobj, &ttm_mem_zone_kobj_type, &glob->kobj, zone->name);
+#pragma GCC diagnostic pop
 	if (unlikely(ret != 0)) {
 		kobject_put(&zone->kobj);
 		return ret;
diff --git a/drivers/gpu/drm/udl/udl_encoder.c b/drivers/gpu/drm/udl/udl_encoder.c
index 59a4b34e87ed..068c6c508d92 100644
--- a/drivers/gpu/drm/udl/udl_encoder.c
+++ b/drivers/gpu/drm/udl/udl_encoder.c
@@ -65,8 +65,12 @@ struct drm_encoder *udl_encoder_init(struct drm_device *dev)
 	if (!encoder)
 		return NULL;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &udl_enc_funcs, DRM_MODE_ENCODER_TMDS,
 			 NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &udl_helper_funcs);
 	encoder->possible_crtcs = 1;
 	return encoder;
diff --git a/drivers/gpu/drm/vc4/vc4_crtc.c b/drivers/gpu/drm/vc4/vc4_crtc.c
index 0c06844af445..6797e4a3ebb5 100644
--- a/drivers/gpu/drm/vc4/vc4_crtc.c
+++ b/drivers/gpu/drm/vc4/vc4_crtc.c
@@ -974,8 +974,12 @@ static int vc4_crtc_bind(struct device *dev, struct device *master, void *data)
 		goto err;
 	}
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_crtc_init_with_planes(drm, crtc, primary_plane, NULL,
 				  &vc4_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	drm_crtc_helper_add(crtc, &vc4_crtc_helper_funcs);
 	primary_plane->crtc = crtc;
 	vc4_crtc->channel = vc4_crtc->data->hvs_channel;
diff --git a/drivers/gpu/drm/vc4/vc4_dpi.c b/drivers/gpu/drm/vc4/vc4_dpi.c
index 1e1f6b8184d0..1434d49d0fe9 100644
--- a/drivers/gpu/drm/vc4/vc4_dpi.c
+++ b/drivers/gpu/drm/vc4/vc4_dpi.c
@@ -445,8 +445,12 @@ static int vc4_dpi_bind(struct device *dev, struct device *master, void *data)
 
 	dpi->panel = vc4_dpi_get_panel(dev);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, dpi->encoder, &vc4_dpi_encoder_funcs,
 			 DRM_MODE_ENCODER_DPI, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(dpi->encoder, &vc4_dpi_encoder_helper_funcs);
 
 	dpi->connector = vc4_dpi_connector_init(drm, dpi);
diff --git a/drivers/gpu/drm/vc4/vc4_hdmi.c b/drivers/gpu/drm/vc4/vc4_hdmi.c
index 93d5994f3a04..8c48bb0aa5eb 100644
--- a/drivers/gpu/drm/vc4/vc4_hdmi.c
+++ b/drivers/gpu/drm/vc4/vc4_hdmi.c
@@ -710,8 +710,12 @@ static int vc4_hdmi_bind(struct device *dev, struct device *master, void *data)
 		HDMI_WRITE(VC4_HDMI_TX_PHY_RESET_CTL, 0xf << 16);
 	}
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, hdmi->encoder, &vc4_hdmi_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(hdmi->encoder, &vc4_hdmi_encoder_helper_funcs);
 
 	hdmi->connector = vc4_hdmi_connector_init(drm, hdmi->encoder);
diff --git a/drivers/gpu/drm/vc4/vc4_plane.c b/drivers/gpu/drm/vc4/vc4_plane.c
index f7a229df572d..75e25d67612a 100644
--- a/drivers/gpu/drm/vc4/vc4_plane.c
+++ b/drivers/gpu/drm/vc4/vc4_plane.c
@@ -858,10 +858,14 @@ struct drm_plane *vc4_plane_init(struct drm_device *dev,
 		}
 	}
 	plane = &vc4_plane->base;
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, plane, 0,
 				       &vc4_plane_funcs,
 				       formats, num_formats,
 				       type, NULL);
+#pragma GCC diagnostic pop
 
 	drm_plane_helper_add(plane, &vc4_plane_helper_funcs);
 
diff --git a/drivers/gpu/drm/vc4/vc4_vec.c b/drivers/gpu/drm/vc4/vc4_vec.c
index 32bb8ef985fb..a8b7bccb65e2 100644
--- a/drivers/gpu/drm/vc4/vc4_vec.c
+++ b/drivers/gpu/drm/vc4/vc4_vec.c
@@ -594,8 +594,12 @@ static int vc4_vec_bind(struct device *dev, struct device *master, void *data)
 
 	pm_runtime_enable(dev);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, vec->encoder, &vc4_vec_encoder_funcs,
 			 DRM_MODE_ENCODER_TVDAC, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(vec->encoder, &vc4_vec_encoder_helper_funcs);
 
 	vec->connector = vc4_vec_connector_init(drm, vec);
diff --git a/drivers/gpu/drm/virtio/virtgpu_display.c b/drivers/gpu/drm/virtio/virtgpu_display.c
index fad5a1cc5903..028454dc5735 100644
--- a/drivers/gpu/drm/virtio/virtgpu_display.c
+++ b/drivers/gpu/drm/virtio/virtgpu_display.c
@@ -285,6 +285,9 @@ static int vgdev_output_init(struct virtio_gpu_device *vgdev, int index)
 	cursor = virtio_gpu_plane_init(vgdev, DRM_PLANE_TYPE_CURSOR, index);
 	if (IS_ERR(cursor))
 		return PTR_ERR(cursor);
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_crtc_init_with_planes(dev, crtc, primary, cursor,
 				  &virtio_gpu_crtc_funcs, NULL);
 	drm_crtc_helper_add(crtc, &virtio_gpu_crtc_helper_funcs);
@@ -297,6 +300,7 @@ static int vgdev_output_init(struct virtio_gpu_device *vgdev, int index)
 
 	drm_encoder_init(dev, encoder, &virtio_gpu_enc_funcs,
 			 DRM_MODE_ENCODER_VIRTUAL, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &virtio_gpu_enc_helper_funcs);
 	encoder->possible_crtcs = 1 << index;
 
diff --git a/drivers/gpu/drm/virtio/virtgpu_plane.c b/drivers/gpu/drm/virtio/virtgpu_plane.c
index 11288ffa4af6..bbe0a26c1191 100644
--- a/drivers/gpu/drm/virtio/virtgpu_plane.c
+++ b/drivers/gpu/drm/virtio/virtgpu_plane.c
@@ -222,10 +222,14 @@ struct drm_plane *virtio_gpu_plane_init(struct virtio_gpu_device *vgdev,
 		nformats = ARRAY_SIZE(virtio_gpu_formats);
 		funcs = &virtio_gpu_primary_helper_funcs;
 	}
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(dev, plane, 1 << index,
 				       &virtio_gpu_plane_funcs,
 				       formats, nformats,
 				       type, NULL);
+#pragma GCC diagnostic pop
 	if (ret)
 		goto err_plane_init;
 
diff --git a/drivers/gpu/drm/vmwgfx/vmwgfx_ldu.c b/drivers/gpu/drm/vmwgfx/vmwgfx_ldu.c
index 3806148e1bdb..16b7f08ba3d9 100644
--- a/drivers/gpu/drm/vmwgfx/vmwgfx_ldu.c
+++ b/drivers/gpu/drm/vmwgfx/vmwgfx_ldu.c
@@ -365,8 +365,12 @@ static int vmw_ldu_init(struct vmw_private *dev_priv, unsigned unit)
 			   DRM_MODE_CONNECTOR_VIRTUAL);
 	connector->status = vmw_du_connector_detect(connector, true);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &vmw_legacy_encoder_funcs,
 			 DRM_MODE_ENCODER_VIRTUAL, NULL);
+#pragma GCC diagnostic pop
 	drm_mode_connector_attach_encoder(connector, encoder);
 	encoder->possible_crtcs = (1 << unit);
 	encoder->possible_clones = 0;
diff --git a/drivers/gpu/drm/vmwgfx/vmwgfx_scrn.c b/drivers/gpu/drm/vmwgfx/vmwgfx_scrn.c
index d4268efc37d2..8bd66b7fbda9 100644
--- a/drivers/gpu/drm/vmwgfx/vmwgfx_scrn.c
+++ b/drivers/gpu/drm/vmwgfx/vmwgfx_scrn.c
@@ -525,8 +525,12 @@ static int vmw_sou_init(struct vmw_private *dev_priv, unsigned unit)
 			   DRM_MODE_CONNECTOR_VIRTUAL);
 	connector->status = vmw_du_connector_detect(connector, true);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &vmw_screen_object_encoder_funcs,
 			 DRM_MODE_ENCODER_VIRTUAL, NULL);
+#pragma GCC diagnostic pop
 	drm_mode_connector_attach_encoder(connector, encoder);
 	encoder->possible_crtcs = (1 << unit);
 	encoder->possible_clones = 0;
diff --git a/drivers/gpu/drm/vmwgfx/vmwgfx_stdu.c b/drivers/gpu/drm/vmwgfx/vmwgfx_stdu.c
index b27cd18ee66a..aea18a976a32 100644
--- a/drivers/gpu/drm/vmwgfx/vmwgfx_stdu.c
+++ b/drivers/gpu/drm/vmwgfx/vmwgfx_stdu.c
@@ -1118,8 +1118,12 @@ static int vmw_stdu_init(struct vmw_private *dev_priv, unsigned unit)
 			   DRM_MODE_CONNECTOR_VIRTUAL);
 	connector->status = vmw_du_connector_detect(connector, false);
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(dev, encoder, &vmw_stdu_encoder_funcs,
 			 DRM_MODE_ENCODER_VIRTUAL, NULL);
+#pragma GCC diagnostic pop
 	drm_mode_connector_attach_encoder(connector, encoder);
 	encoder->possible_crtcs = (1 << unit);
 	encoder->possible_clones = 0;
diff --git a/drivers/gpu/drm/zte/zx_hdmi.c b/drivers/gpu/drm/zte/zx_hdmi.c
index c47b9cbfe270..0bb01b651d95 100644
--- a/drivers/gpu/drm/zte/zx_hdmi.c
+++ b/drivers/gpu/drm/zte/zx_hdmi.c
@@ -316,8 +316,12 @@ static int zx_hdmi_register(struct drm_device *drm, struct zx_hdmi *hdmi)
 
 	encoder->possible_crtcs = VOU_CRTC_MASK;
 
+/* gcc does not like calling drm_encoder_init() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	drm_encoder_init(drm, encoder, &zx_hdmi_encoder_funcs,
 			 DRM_MODE_ENCODER_TMDS, NULL);
+#pragma GCC diagnostic pop
 	drm_encoder_helper_add(encoder, &zx_hdmi_encoder_helper_funcs);
 
 	hdmi->connector.polled = DRM_CONNECTOR_POLL_HPD;
diff --git a/drivers/gpu/drm/zte/zx_plane.c b/drivers/gpu/drm/zte/zx_plane.c
index d646ac931663..1d76eb09e506 100644
--- a/drivers/gpu/drm/zte/zx_plane.c
+++ b/drivers/gpu/drm/zte/zx_plane.c
@@ -537,9 +537,12 @@ int zx_plane_init(struct drm_device *drm, struct zx_plane *zplane,
 		return -ENODEV;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_universal_plane_init(drm, plane, VOU_CRTC_MASK,
 				       &zx_plane_funcs, formats, format_count,
 				       type, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		DRM_DEV_ERROR(dev, "failed to init universal plane: %d\n", ret);
 		return ret;
diff --git a/drivers/gpu/drm/zte/zx_vou.c b/drivers/gpu/drm/zte/zx_vou.c
index cf92d675feaa..32c86a556e90 100644
--- a/drivers/gpu/drm/zte/zx_vou.c
+++ b/drivers/gpu/drm/zte/zx_vou.c
@@ -536,8 +536,11 @@ static int zx_crtc_init(struct drm_device *drm, struct zx_vou_hw *vou,
 
 	zcrtc->primary = &zplane->plane;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = drm_crtc_init_with_planes(drm, &zcrtc->crtc, zcrtc->primary, NULL,
 					&zx_crtc_funcs, NULL);
+#pragma GCC diagnostic pop
 	if (ret) {
 		DRM_DEV_ERROR(dev, "failed to init drm crtc: %d\n", ret);
 		return ret;
diff --git a/drivers/hid/hid-sony.c b/drivers/hid/hid-sony.c
index f405b07d0381..adc0c8c2f029 100644
--- a/drivers/hid/hid-sony.c
+++ b/drivers/hid/hid-sony.c
@@ -1956,11 +1956,14 @@ static int sony_leds_init(struct sony_sc *sc)
 		}
 
 		name = (void *)(&led[1]);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (use_ds4_names)
 			snprintf(name, name_sz, name_fmt, dev_name(&hdev->dev),
 			ds4_name_str[n]);
 		else
 			snprintf(name, name_sz, name_fmt, dev_name(&hdev->dev), n + 1);
+#pragma GCC diagnostic pop
 		led->name = name;
 		led->brightness = sc->led_state[n];
 		led->max_brightness = max_brightness[n];
@@ -2263,8 +2266,11 @@ static int sony_battery_probe(struct sony_sc *sc, int append_dev_id)
 	sc->battery_desc.get_property = sony_battery_get_property;
 	sc->battery_desc.type = POWER_SUPPLY_TYPE_BATTERY;
 	sc->battery_desc.use_for_apm = 0;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	sc->battery_desc.name = kasprintf(GFP_KERNEL, battery_str_fmt,
 					  sc->mac_address, sc->device_id);
+#pragma GCC diagnostic pop
 	if (!sc->battery_desc.name)
 		return -ENOMEM;
 
diff --git a/drivers/hwmon/abituguru.c b/drivers/hwmon/abituguru.c
index 7a09c1615aa9..5e3f973ff45b 100644
--- a/drivers/hwmon/abituguru.c
+++ b/drivers/hwmon/abituguru.c
@@ -1351,10 +1351,13 @@ static int abituguru_probe(struct platform_device *pdev)
 
 		/* res 1 (temp) sensors have 7 sysfs entries, 0 (in) 9 */
 		for (j = 0; j < (res ? 7 : 9); j++) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			used = snprintf(sysfs_filename, sysfs_names_free,
 				abituguru_sysfs_bank1_templ[res][j].dev_attr.
 				attr.name, data->bank1_sensors[res] + res)
 				+ 1;
+#pragma GCC diagnostic pop
 			data->sysfs_attr[sysfs_attr_i] =
 				abituguru_sysfs_bank1_templ[res][j];
 			data->sysfs_attr[sysfs_attr_i].dev_attr.attr.name =
@@ -1374,9 +1377,12 @@ static int abituguru_probe(struct platform_device *pdev)
 	abituguru_detect_no_bank2_sensors(data);
 	for (i = 0; i < data->bank2_sensors; i++) {
 		for (j = 0; j < ARRAY_SIZE(abituguru_sysfs_fan_templ); j++) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			used = snprintf(sysfs_filename, sysfs_names_free,
 				abituguru_sysfs_fan_templ[j].dev_attr.attr.name,
 				i + 1) + 1;
+#pragma GCC diagnostic pop
 			data->sysfs_attr[sysfs_attr_i] =
 				abituguru_sysfs_fan_templ[j];
 			data->sysfs_attr[sysfs_attr_i].dev_attr.attr.name =
@@ -1391,9 +1397,12 @@ static int abituguru_probe(struct platform_device *pdev)
 	abituguru_detect_no_pwms(data);
 	for (i = 0; i < data->pwms; i++) {
 		for (j = 0; j < ARRAY_SIZE(abituguru_sysfs_pwm_templ); j++) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			used = snprintf(sysfs_filename, sysfs_names_free,
 				abituguru_sysfs_pwm_templ[j].dev_attr.attr.name,
 				i + 1) + 1;
+#pragma GCC diagnostic pop
 			data->sysfs_attr[sysfs_attr_i] =
 				abituguru_sysfs_pwm_templ[j];
 			data->sysfs_attr[sysfs_attr_i].dev_attr.attr.name =
diff --git a/drivers/hwmon/abituguru3.c b/drivers/hwmon/abituguru3.c
index 3d2a4ae92d1e..9a2414cf9a69 100644
--- a/drivers/hwmon/abituguru3.c
+++ b/drivers/hwmon/abituguru3.c
@@ -1025,9 +1025,12 @@ static int abituguru3_probe(struct platform_device *pdev)
 		}
 		type = data->sensors[i].type;
 		for (j = 0; j < no_sysfs_attr[type]; j++) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			used = snprintf(sysfs_filename, sysfs_names_free,
 				abituguru3_sysfs_templ[type][j].dev_attr.attr.
 				name, sensor_index[type]) + 1;
+#pragma GCC diagnostic pop
 			data->sysfs_attr[sysfs_attr_i] =
 				abituguru3_sysfs_templ[type][j];
 			data->sysfs_attr[sysfs_attr_i].dev_attr.attr.name =
diff --git a/drivers/hwmon/applesmc.c b/drivers/hwmon/applesmc.c
index 0af7fd311979..ebf99a9129ec 100644
--- a/drivers/hwmon/applesmc.c
+++ b/drivers/hwmon/applesmc.c
@@ -811,7 +811,10 @@ static ssize_t applesmc_show_fan_speed(struct device *dev,
 	char newkey[5];
 	u8 buffer[2];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	sprintf(newkey, fan_speed_fmt[to_option(attr)], to_index(attr));
+#pragma GCC diagnostic pop
 
 	ret = applesmc_read_key(newkey, buffer, 2);
 	speed = ((buffer[0] << 8 | buffer[1]) >> 2);
@@ -834,7 +837,10 @@ static ssize_t applesmc_store_fan_speed(struct device *dev,
 	if (kstrtoul(sysfsbuf, 10, &speed) < 0 || speed >= 0x4000)
 		return -EINVAL;		/* Bigger than a 14-bit value */
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	sprintf(newkey, fan_speed_fmt[to_option(attr)], to_index(attr));
+#pragma GCC diagnostic pop
 
 	buffer[0] = (speed >> 6) & 0xff;
 	buffer[1] = (speed << 2) & 0xff;
@@ -1116,7 +1122,11 @@ static int applesmc_create_nodes(struct applesmc_node_group *groups, int num)
 		}
 		for (i = 0; i < num; i++) {
 			node = &grp->nodes[i];
+/* Possible values for format in struct applesmc_node_group are defined above */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			sprintf(node->name, grp->format, i + 1);
+#pragma GCC diagnostic pop
 			node->sda.index = (grp->option << 16) | (i & 0xffff);
 			node->sda.dev_attr.show = grp->show;
 			node->sda.dev_attr.store = grp->store;
diff --git a/drivers/hwmon/hwmon.c b/drivers/hwmon/hwmon.c
index 28375d59cc36..73b60576c59a 100644
--- a/drivers/hwmon/hwmon.c
+++ b/drivers/hwmon/hwmon.c
@@ -271,8 +271,11 @@ static struct attribute *hwmon_genattr(struct device *dev,
 	if (type == hwmon_chip) {
 		name = (char *)template;
 	} else {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		scnprintf(hattr->name, sizeof(hattr->name), template,
 			  index + hwmon_attr_base(type));
+#pragma GCC diagnostic pop
 		name = hattr->name;
 	}
 
diff --git a/drivers/hwmon/lm63.c b/drivers/hwmon/lm63.c
index 2e1948699114..cc34fa511293 100644
--- a/drivers/hwmon/lm63.c
+++ b/drivers/hwmon/lm63.c
@@ -702,7 +702,10 @@ static ssize_t temp2_type_show(struct device *dev,
 {
 	struct lm63_data *data = dev_get_drvdata(dev);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	return sprintf(buf, data->trutherm ? "1\n" : "2\n");
+#pragma GCC diagnostic pop
 }
 
 static ssize_t temp2_type_store(struct device *dev,
diff --git a/drivers/hwmon/lm95234.c b/drivers/hwmon/lm95234.c
index c7fcc9e7f57a..4d3a98f6f338 100644
--- a/drivers/hwmon/lm95234.c
+++ b/drivers/hwmon/lm95234.c
@@ -248,7 +248,10 @@ static ssize_t show_type(struct device *dev, struct device_attribute *attr,
 	if (ret)
 		return ret;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	return sprintf(buf, data->sensor_type & mask ? "1\n" : "2\n");
+#pragma GCC diagnostic pop
 }
 
 static ssize_t set_type(struct device *dev, struct device_attribute *attr,
diff --git a/drivers/hwmon/nct6683.c b/drivers/hwmon/nct6683.c
index 8b0bc4fc06e8..5aa379a954dc 100644
--- a/drivers/hwmon/nct6683.c
+++ b/drivers/hwmon/nct6683.c
@@ -442,8 +442,11 @@ nct6683_create_attr_group(struct device *dev,
 	for (i = 0; i < repeat; i++) {
 		t = tg->templates;
 		for (j = 0; *t != NULL; j++) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			snprintf(su->name, sizeof(su->name),
 				 (*t)->dev_attr.attr.name, tg->base + i);
+#pragma GCC diagnostic pop
 			if ((*t)->s2) {
 				a2 = &su->u.a2;
 				sysfs_attr_init(&a2->dev_attr.attr);
diff --git a/drivers/hwmon/nct6775.c b/drivers/hwmon/nct6775.c
index 2458b406f6aa..a49536845df7 100644
--- a/drivers/hwmon/nct6775.c
+++ b/drivers/hwmon/nct6775.c
@@ -1089,8 +1089,11 @@ nct6775_create_attr_group(struct device *dev,
 	for (i = 0; i < repeat; i++) {
 		t = tg->templates;
 		while (*t != NULL) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			snprintf(su->name, sizeof(su->name),
 				 (*t)->dev_attr.attr.name, tg->base + i);
+#pragma GCC diagnostic pop
 			if ((*t)->s2) {
 				a2 = &su->u.a2;
 				sysfs_attr_init(&a2->dev_attr.attr);
diff --git a/drivers/iio/accel/bma180.c b/drivers/iio/accel/bma180.c
index 0890934ef66f..113f69381222 100644
--- a/drivers/iio/accel/bma180.c
+++ b/drivers/iio/accel/bma180.c
@@ -417,8 +417,11 @@ static ssize_t bma180_show_avail(char *buf, const int *vals, unsigned n,
 	for (i = 0; i < n; i++) {
 		if (!vals[i])
 			continue;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		len += scnprintf(buf + len, PAGE_SIZE - len,
 			micros ? "0.%06d " : "%d ", vals[i]);
+#pragma GCC diagnostic pop
 	}
 	buf[len - 1] = '\n';
 
diff --git a/drivers/iio/accel/bmc150-accel-core.c b/drivers/iio/accel/bmc150-accel-core.c
index 6b5d3be283c4..7f8926e95a09 100644
--- a/drivers/iio/accel/bmc150-accel-core.c
+++ b/drivers/iio/accel/bmc150-accel-core.c
@@ -1363,10 +1363,14 @@ static int bmc150_accel_triggers_setup(struct iio_dev *indio_dev,
 	for (i = 0; i < BMC150_ACCEL_TRIGGERS; i++) {
 		struct bmc150_accel_trigger *t = &data->triggers[i];
 
+/* TODO verify the name is under kernel control */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		t->indio_trig = devm_iio_trigger_alloc(dev,
 					bmc150_accel_triggers[i].name,
 						       indio_dev->name,
 						       indio_dev->id);
+#pragma GCC diagnostic pop
 		if (!t->indio_trig) {
 			ret = -ENOMEM;
 			break;
@@ -1726,7 +1730,11 @@ static int bmc150_accel_runtime_suspend(struct device *dev)
 	struct bmc150_accel_data *data = iio_priv(indio_dev);
 	int ret;
 
+/* __func__ cannot contain a format string */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	dev_dbg(dev,  __func__);
+#pragma GCC diagnostic pop
 	ret = bmc150_accel_set_mode(data, BMC150_ACCEL_SLEEP_MODE_SUSPEND, 0);
 	if (ret < 0)
 		return -EAGAIN;
@@ -1741,7 +1749,10 @@ static int bmc150_accel_runtime_resume(struct device *dev)
 	int ret;
 	int sleep_val;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	dev_dbg(dev,  __func__);
+#pragma GCC diagnostic pop
 
 	ret = bmc150_accel_set_mode(data, BMC150_ACCEL_SLEEP_MODE_NORMAL, 0);
 	if (ret < 0)
diff --git a/drivers/infiniband/core/device.c b/drivers/infiniband/core/device.c
index 593d2ce6ec7c..3ff5553441b4 100644
--- a/drivers/infiniband/core/device.c
+++ b/drivers/infiniband/core/device.c
@@ -152,14 +152,21 @@ static int alloc_name(char *name)
 			continue;
 		if (i < 0 || i >= PAGE_SIZE * 8)
 			continue;
+/* TODO check that name is under kernel control */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(buf, sizeof buf, name, i);
+#pragma GCC diagnostic pop
 		if (!strncmp(buf, device->name, IB_DEVICE_NAME_MAX))
 			set_bit(i, inuse);
 	}
 
 	i = find_first_zero_bit(inuse, PAGE_SIZE * 8);
 	free_page((unsigned long) inuse);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(buf, sizeof buf, name, i);
+#pragma GCC diagnostic pop
 
 	if (__ib_device_get_by_name(buf))
 		return -ENFILE;
diff --git a/drivers/infiniband/hw/hfi1/debugfs.c b/drivers/infiniband/hw/hfi1/debugfs.c
index 7fe9dd885746..a93456d2ed8f 100644
--- a/drivers/infiniband/hw/hfi1/debugfs.c
+++ b/drivers/infiniband/hw/hfi1/debugfs.c
@@ -1101,10 +1101,14 @@ void hfi1_dbg_ibdev_init(struct hfi1_ibdev *ibd)
 	/* per port files */
 	for (ppd = dd->pport, j = 0; j < dd->num_pports; j++, ppd++)
 		for (i = 0; i < ARRAY_SIZE(port_cntr_ops); i++) {
+/* port_cntr_ops[i].name is defined by the kernel */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			snprintf(name,
 				 sizeof(name),
 				 port_cntr_ops[i].name,
 				 j + 1);
+#pragma GCC diagnostic pop
 			DEBUGFS_FILE_CREATE(name,
 					    ibd->hfi1_ibdev_dbg,
 					    ppd,
diff --git a/drivers/infiniband/hw/qib/qib_file_ops.c b/drivers/infiniband/hw/qib/qib_file_ops.c
index 9396c1807cc3..8344431d926d 100644
--- a/drivers/infiniband/hw/qib/qib_file_ops.c
+++ b/drivers/infiniband/hw/qib/qib_file_ops.c
@@ -2298,7 +2298,11 @@ int qib_cdev_init(int minor, const char *name,
 
 	cdev->owner = THIS_MODULE;
 	cdev->ops = fops;
+/* All callers use semi-constants strings for name */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	kobject_set_name(&cdev->kobj, name);
+#pragma GCC diagnostic pop
 
 	ret = cdev_add(cdev, dev, 1);
 	if (ret < 0) {
diff --git a/drivers/input/joystick/adi.c b/drivers/input/joystick/adi.c
index d09cefa37931..6521f6406ac1 100644
--- a/drivers/input/joystick/adi.c
+++ b/drivers/input/joystick/adi.c
@@ -410,7 +410,10 @@ static int adi_init_input(struct adi *adi, struct adi_port *port, int half)
 
 	t = adi->id < ADI_ID_MAX ? adi->id : ADI_ID_MAX;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(buf, ADI_MAX_PHYS_LENGTH, adi_names[t], adi->id);
+#pragma GCC diagnostic pop
 	snprintf(adi->name, ADI_MAX_NAME_LENGTH, "Logitech %s [%s]", buf, adi->cname);
 	snprintf(adi->phys, ADI_MAX_PHYS_LENGTH, "%s/input%d", port->gameport->phys, half);
 
diff --git a/drivers/input/joystick/tmdc.c b/drivers/input/joystick/tmdc.c
index 7e17cde464f0..20fbda9b66e0 100644
--- a/drivers/input/joystick/tmdc.c
+++ b/drivers/input/joystick/tmdc.c
@@ -311,8 +311,11 @@ static int tmdc_setup_port(struct tmdc *tmdc, int idx, unsigned char *data)
 	for (i = 0; i < 4; i++)
 		port->btno[i] = model->btno[i];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(port->name, sizeof(port->name), model->name,
 		 port->absc, (data[TMDC_BYTE_DEF] & 0xf) << 3, port->mode);
+#pragma GCC diagnostic pop
 	snprintf(port->phys, sizeof(port->phys), "%s/input%d", tmdc->gameport->phys, i);
 
 	port->dev = input_dev;
diff --git a/drivers/input/tablet/aiptek.c b/drivers/input/tablet/aiptek.c
index d67547bded3e..ff1d5df2e384 100644
--- a/drivers/input/tablet/aiptek.c
+++ b/drivers/input/tablet/aiptek.c
@@ -1375,7 +1375,10 @@ static ssize_t show_tabletDiagnosticMessage(struct device *dev, struct device_at
 	default:
 		return 0;
 	}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	return snprintf(buf, PAGE_SIZE, retMsg);
+#pragma GCC diagnostic pop
 }
 
 static DEVICE_ATTR(diagnostic, S_IRUGO, show_tabletDiagnosticMessage, NULL);
diff --git a/drivers/iommu/irq_remapping.c b/drivers/iommu/irq_remapping.c
index 49721b4e1975..f6f9b0c9bb91 100644
--- a/drivers/iommu/irq_remapping.c
+++ b/drivers/iommu/irq_remapping.c
@@ -153,7 +153,10 @@ int __init irq_remap_enable_fault_handling(void)
 void panic_if_irq_remap(const char *msg)
 {
 	if (irq_remapping_enabled)
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		panic(msg);
+#pragma GCC diagnostic pop
 }
 
 void ir_ack_apic_edge(struct irq_data *data)
diff --git a/drivers/isdn/gigaset/ev-layer.c b/drivers/isdn/gigaset/ev-layer.c
index 1cfcea62aed9..91acef6925a4 100644
--- a/drivers/isdn/gigaset/ev-layer.c
+++ b/drivers/isdn/gigaset/ev-layer.c
@@ -771,6 +771,8 @@ static void send_command(struct cardstate *cs, const char *cmd,
 		dev_err(cs->dev, "%s: out of memory\n", __func__);
 		return;
 	}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (cid > 0 && cid <= 65535)
 		cb->len = snprintf(cb->buf, buflen,
 				   cs->dle ? "\020(AT%d%s\020)" : "AT%d%s",
@@ -779,6 +781,7 @@ static void send_command(struct cardstate *cs, const char *cmd,
 		cb->len = snprintf(cb->buf, buflen,
 				   cs->dle ? "\020(AT%s\020)" : "AT%s",
 				   cmd);
+#pragma GCC diagnostic pop
 	cb->offset = 0;
 	cb->next = NULL;
 	cb->wake_tasklet = NULL;
diff --git a/drivers/isdn/hisax/callc.c b/drivers/isdn/hisax/callc.c
index ddec47a911a0..cd7a4bad776d 100644
--- a/drivers/isdn/hisax/callc.c
+++ b/drivers/isdn/hisax/callc.c
@@ -340,8 +340,11 @@ lli_deliver_call(struct FsmInst *fi, int event, void *arg)
 	 */
 	if (1) { /* for only one TEI */
 		FsmChangeState(fi, ST_IN_WAIT_LL);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (chanp->debug & 1)
 			link_debug(chanp, 0, (chanp->chan < 2) ? "STAT_ICALL" : "STAT_ICALLW");
+#pragma GCC diagnostic pop
 		ic.driver = chanp->cs->myid;
 		ic.command = ((chanp->chan < 2) ? ISDN_STAT_ICALL : ISDN_STAT_ICALLW);
 
diff --git a/drivers/isdn/hisax/config.c b/drivers/isdn/hisax/config.c
index 2d12c6ceeb89..53a86c335e6d 100644
--- a/drivers/isdn/hisax/config.c
+++ b/drivers/isdn/hisax/config.c
@@ -1896,7 +1896,10 @@ static void EChannel_proc_rcv(struct hisax_d_if *d_if)
 				ptr--;
 				*ptr++ = '\n';
 				*ptr = 0;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 				HiSax_putstatus(cs, NULL, cs->dlog);
+#pragma GCC diagnostic pop
 			} else
 				HiSax_putstatus(cs, "LogEcho: ",
 						"warning Frame too big (%d)",
diff --git a/drivers/isdn/hisax/hfc_pci.c b/drivers/isdn/hisax/hfc_pci.c
index 90449e1e91e5..1fd599003780 100644
--- a/drivers/isdn/hisax/hfc_pci.c
+++ b/drivers/isdn/hisax/hfc_pci.c
@@ -901,7 +901,10 @@ receive_emsg(struct IsdnCardState *cs)
 					ptr--;
 					*ptr++ = '\n';
 					*ptr = 0;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 					HiSax_putstatus(cs, NULL, cs->dlog);
+#pragma GCC diagnostic pop
 				} else
 					HiSax_putstatus(cs, "LogEcho: ", "warning Frame too big (%d)", total - 3);
 			}
diff --git a/drivers/isdn/hisax/hfc_sx.c b/drivers/isdn/hisax/hfc_sx.c
index 13b2151c10f5..881dccab1315 100644
--- a/drivers/isdn/hisax/hfc_sx.c
+++ b/drivers/isdn/hisax/hfc_sx.c
@@ -674,7 +674,10 @@ receive_emsg(struct IsdnCardState *cs)
 					ptr--;
 					*ptr++ = '\n';
 					*ptr = 0;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 					HiSax_putstatus(cs, NULL, cs->dlog);
+#pragma GCC diagnostic pop
 				} else
 					HiSax_putstatus(cs, "LogEcho: ", "warning Frame too big (%d)", skb->len);
 			}
diff --git a/drivers/isdn/hisax/q931.c b/drivers/isdn/hisax/q931.c
index 298c8dba0321..4fa97f8faa48 100644
--- a/drivers/isdn/hisax/q931.c
+++ b/drivers/isdn/hisax/q931.c
@@ -1179,7 +1179,10 @@ LogFrame(struct IsdnCardState *cs, u_char *buf, int size)
 		dp--;
 		*dp++ = '\n';
 		*dp = 0;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		HiSax_putstatus(cs, NULL, cs->dlog);
+#pragma GCC diagnostic pop
 	} else
 		HiSax_putstatus(cs, "LogFrame: ", "warning Frame too big (%d)", size);
 }
@@ -1246,7 +1249,10 @@ dlogframe(struct IsdnCardState *cs, struct sk_buff *skb, int dir)
 	}
 	if (finish) {
 		*dp = 0;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		HiSax_putstatus(cs, NULL, cs->dlog);
+#pragma GCC diagnostic pop
 		return;
 	}
 	if ((0xfe & buf[0]) == PROTO_DIS_N0) {	/* 1TR6 */
@@ -1509,5 +1515,8 @@ dlogframe(struct IsdnCardState *cs, struct sk_buff *skb, int dir)
 		dp += sprintf(dp, "Unknown protocol %x!", buf[0]);
 	}
 	*dp = 0;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	HiSax_putstatus(cs, NULL, cs->dlog);
+#pragma GCC diagnostic pop
 }
diff --git a/drivers/md/bcache/util.c b/drivers/md/bcache/util.c
index 8c3a938f4bf0..219953d73a32 100644
--- a/drivers/md/bcache/util.c
+++ b/drivers/md/bcache/util.c
@@ -100,9 +100,12 @@ ssize_t bch_snprint_string_list(char *buf, size_t size, const char * const list[
 	char *out = buf;
 	size_t i;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	for (i = 0; list[i]; i++)
 		out += snprintf(out, buf + size - out,
 				i == selected ? "[%s] " : "%s ", list[i]);
+#pragma GCC diagnostic pop
 
 	out[-1] = '\n';
 	return out - buf;
diff --git a/drivers/md/bcache/util.h b/drivers/md/bcache/util.h
index fed10203f9b2..a8f8c07ad5e0 100644
--- a/drivers/md/bcache/util.h
+++ b/drivers/md/bcache/util.h
@@ -349,6 +349,27 @@ static inline int bch_strtoul_h(const char *cp, long *res)
 	_r;								\
 })
 
+#ifdef __clang__
+#define snprint(buf, size, var)						\
+_Pragma("GCC diagnostic push") \
+_Pragma("GCC diagnostic ignored \"-Wformat\"") \
+	snprintf(buf, size,						\
+		__builtin_types_compatible_p(typeof(var), int)		\
+		     ? "%i\n" :						\
+		__builtin_types_compatible_p(typeof(var), unsigned)	\
+		     ? "%u\n" :						\
+		__builtin_types_compatible_p(typeof(var), long)		\
+		     ? "%li\n" :					\
+		__builtin_types_compatible_p(typeof(var), unsigned long)\
+		     ? "%lu\n" :					\
+		__builtin_types_compatible_p(typeof(var), int64_t)	\
+		     ? "%lli\n" :					\
+		__builtin_types_compatible_p(typeof(var), uint64_t)	\
+		     ? "%llu\n" :					\
+		__builtin_types_compatible_p(typeof(var), const char *)	\
+		     ? "%s\n" : "%i\n", var) \
+_Pragma("GCC diagnostic pop")
+#else
 #define snprint(buf, size, var)						\
 	snprintf(buf, size,						\
 		__builtin_types_compatible_p(typeof(var), int)		\
@@ -365,6 +386,7 @@ static inline int bch_strtoul_h(const char *cp, long *res)
 		     ? "%llu\n" :					\
 		__builtin_types_compatible_p(typeof(var), const char *)	\
 		     ? "%s\n" : "%i\n", var)
+#endif
 
 ssize_t bch_hprint(char *buf, int64_t v);
 
diff --git a/drivers/media/dvb-frontends/tda10021.c b/drivers/media/dvb-frontends/tda10021.c
index 32ba8401e743..7f6331237a4b 100644
--- a/drivers/media/dvb-frontends/tda10021.c
+++ b/drivers/media/dvb-frontends/tda10021.c
@@ -397,10 +397,13 @@ static int tda10021_get_frontend(struct dvb_frontend *fe,
 	afc = tda10021_readreg(state, 0x19);
 	if (verbose) {
 		/* AFC only valid when carrier has been recovered */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(sync & 2 ? "DVB: TDA10021(%d): AFC (%d) %dHz\n" :
 				  "DVB: TDA10021(%d): [AFC (%d) %dHz]\n",
 			state->frontend.dvb->num, afc,
 		       -((s32)p->symbol_rate * afc) >> 10);
+#pragma GCC diagnostic pop
 	}
 
 	p->inversion = ((state->reg0 & 0x20) == 0x20) ^ (state->config->invert != 0) ? INVERSION_ON : INVERSION_OFF;
diff --git a/drivers/media/dvb-frontends/tda10023.c b/drivers/media/dvb-frontends/tda10023.c
index 8028007c68eb..3d7034c6401f 100644
--- a/drivers/media/dvb-frontends/tda10023.c
+++ b/drivers/media/dvb-frontends/tda10023.c
@@ -468,10 +468,13 @@ static int tda10023_get_frontend(struct dvb_frontend *fe,
 
 	if (verbose) {
 		/* AFC only valid when carrier has been recovered */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(sync & 2 ? "DVB: TDA10023(%d): AFC (%d) %dHz\n" :
 				  "DVB: TDA10023(%d): [AFC (%d) %dHz]\n",
 			state->frontend.dvb->num, afc,
 		       -((s32)p->symbol_rate * afc) >> 10);
+#pragma GCC diagnostic pop
 	}
 
 	p->inversion = (inv&0x20?0:1);
diff --git a/drivers/media/dvb-frontends/ves1820.c b/drivers/media/dvb-frontends/ves1820.c
index 178363704bd4..d803abd71b69 100644
--- a/drivers/media/dvb-frontends/ves1820.c
+++ b/drivers/media/dvb-frontends/ves1820.c
@@ -323,8 +323,11 @@ static int ves1820_get_frontend(struct dvb_frontend *fe,
 	afc = ves1820_readreg(state, 0x19);
 	if (verbose) {
 		/* AFC only valid when carrier has been recovered */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(sync & 2 ? "ves1820: AFC (%d) %dHz\n" :
 			"ves1820: [AFC (%d) %dHz]\n", afc, -((s32) p->symbol_rate * afc) >> 10);
+#pragma GCC diagnostic pop
 	}
 
 	if (!state->config->invert) {
diff --git a/drivers/media/pci/cx23885/cx23885-dvb.c b/drivers/media/pci/cx23885/cx23885-dvb.c
index 979b66627f60..e8b1f4e5b546 100644
--- a/drivers/media/pci/cx23885/cx23885-dvb.c
+++ b/drivers/media/pci/cx23885/cx23885-dvb.c
@@ -1858,7 +1858,10 @@ static int dvb_register(struct cx23885_tsport *port)
 			strlcpy(info.type, "si2165", I2C_NAME_SIZE);
 			info.addr = 0x64;
 			info.platform_data = &si2165_pdata;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			request_module(info.type);
+#pragma GCC diagnostic pop
 			client_demod = i2c_new_device(&i2c_bus->i2c_adap, &info);
 			if (client_demod == NULL ||
 					client_demod->dev.driver == NULL)
diff --git a/drivers/media/radio/radio-shark.c b/drivers/media/radio/radio-shark.c
index 23971f5502a8..3787b8382596 100644
--- a/drivers/media/radio/radio-shark.c
+++ b/drivers/media/radio/radio-shark.c
@@ -243,8 +243,11 @@ static int shark_register_leds(struct shark_device *shark, struct device *dev)
 	INIT_WORK(&shark->led_work, shark_led_work);
 	for (i = 0; i < NO_LEDS; i++) {
 		shark->leds[i] = shark_led_templates[i];
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(shark->led_names[i], sizeof(shark->led_names[0]),
 			 shark->leds[i].name, shark->v4l2_dev.name);
+#pragma GCC diagnostic pop
 		shark->leds[i].name = shark->led_names[i];
 		retval = led_classdev_register(dev, &shark->leds[i]);
 		if (retval) {
diff --git a/drivers/media/radio/radio-shark2.c b/drivers/media/radio/radio-shark2.c
index b50638ec5f09..40d24630fa34 100644
--- a/drivers/media/radio/radio-shark2.c
+++ b/drivers/media/radio/radio-shark2.c
@@ -209,8 +209,11 @@ static int shark_register_leds(struct shark_device *shark, struct device *dev)
 	INIT_WORK(&shark->led_work, shark_led_work);
 	for (i = 0; i < NO_LEDS; i++) {
 		shark->leds[i] = shark_led_templates[i];
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(shark->led_names[i], sizeof(shark->led_names[0]),
 			 shark->leds[i].name, shark->v4l2_dev.name);
+#pragma GCC diagnostic pop
 		shark->leds[i].name = shark->led_names[i];
 		retval = led_classdev_register(dev, &shark->leds[i]);
 		if (retval) {
diff --git a/drivers/media/usb/cx231xx/cx231xx-dvb.c b/drivers/media/usb/cx231xx/cx231xx-dvb.c
index 46427fd3b220..a2f5a8ce21be 100644
--- a/drivers/media/usb/cx231xx/cx231xx-dvb.c
+++ b/drivers/media/usb/cx231xx/cx231xx-dvb.c
@@ -760,7 +760,10 @@ static int dvb_init(struct cx231xx *dev)
 		strlcpy(info.type, "si2165", I2C_NAME_SIZE);
 		info.addr = 0x64;
 		info.platform_data = &si2165_pdata;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		request_module(info.type);
+#pragma GCC diagnostic pop
 		client = i2c_new_device(demod_i2c, &info);
 		if (client == NULL || client->dev.driver == NULL || dev->dvb->frontend == NULL) {
 			dev_err(dev->dev,
@@ -807,7 +810,10 @@ static int dvb_init(struct cx231xx *dev)
 		strlcpy(info.type, "si2165", I2C_NAME_SIZE);
 		info.addr = 0x64;
 		info.platform_data = &si2165_pdata;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		request_module(info.type);
+#pragma GCC diagnostic pop
 		client = i2c_new_device(demod_i2c, &info);
 		if (client == NULL || client->dev.driver == NULL || dev->dvb->frontend == NULL) {
 			dev_err(dev->dev,
diff --git a/drivers/media/usb/pvrusb2/pvrusb2-std.c b/drivers/media/usb/pvrusb2/pvrusb2-std.c
index 21bb20dba82c..2863e845494e 100644
--- a/drivers/media/usb/pvrusb2/pvrusb2-std.c
+++ b/drivers/media/usb/pvrusb2/pvrusb2-std.c
@@ -211,8 +211,12 @@ unsigned int pvr2_std_id_to_str(char *bufPtr, unsigned int bufSize,
 			c1 += c2;
 			bufSize -= c2;
 			bufPtr += c2;
+/* ip->name are constants strings from the top of this file */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			c2 = scnprintf(bufPtr,bufSize,
 				       ip->name);
+#pragma GCC diagnostic pop
 			c1 += c2;
 			bufSize -= c2;
 			bufPtr += c2;
diff --git a/drivers/mfd/mc13xxx-core.c b/drivers/mfd/mc13xxx-core.c
index d7f54e492aa6..5705ec05d733 100644
--- a/drivers/mfd/mc13xxx-core.c
+++ b/drivers/mfd/mc13xxx-core.c
@@ -358,9 +358,12 @@ static int mc13xxx_add_subdevice_pdata(struct mc13xxx *mc13xxx,
 		.pdata_size = pdata_size,
 	};
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	/* there is no asnprintf in the kernel :-( */
 	if (snprintf(buf, sizeof(buf), format, name) > sizeof(buf))
 		return -E2BIG;
+#pragma GCC diagnostic pop
 
 	cell.name = kmemdup(buf, strlen(buf) + 1, GFP_KERNEL);
 	if (!cell.name)
diff --git a/drivers/misc/altera-stapl/altera.c b/drivers/misc/altera-stapl/altera.c
index f53e217e963f..f832fafd3d9a 100644
--- a/drivers/misc/altera-stapl/altera.c
+++ b/drivers/misc/altera-stapl/altera.c
@@ -716,8 +716,12 @@ static int altera_execute(struct altera_state *astate,
 			break;
 		case OP_PRNT:
 			/* PRINT finish */
+/* BUG? I did not understand this printk statement */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			if (debug)
 				printk(msg_buff, "\n");
+#pragma GCC diagnostic pop
 
 			msg_buff[0] = '\0';
 			break;
diff --git a/drivers/misc/cb710/debug.c b/drivers/misc/cb710/debug.c
index fcb3b8e30c52..20d7325b85b2 100644
--- a/drivers/misc/cb710/debug.c
+++ b/drivers/misc/cb710/debug.c
@@ -96,9 +96,12 @@ static void cb710_read_and_dump_regs_##t(struct cb710_chip *chip,	\
   CB710_DUMP_REGS_TEMPLATE(t)			\
   CB710_READ_AND_DUMP_REGS_TEMPLATE(t)
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 CB710_REG_ACCESS_TEMPLATES(8)
 CB710_REG_ACCESS_TEMPLATES(16)
 CB710_REG_ACCESS_TEMPLATES(32)
+#pragma GCC diagnostic pop
 
 void cb710_dump_regs(struct cb710_chip *chip, unsigned select)
 {
diff --git a/drivers/misc/mic/scif/scif_main.c b/drivers/misc/mic/scif/scif_main.c
index 36d847af1209..3ac4dac56cca 100644
--- a/drivers/misc/mic/scif/scif_main.c
+++ b/drivers/misc/mic/scif/scif_main.c
@@ -54,8 +54,11 @@ int scif_setup_intr_wq(struct scif_dev *scifdev)
 	if (!scifdev->intr_wq) {
 		snprintf(scifdev->intr_wqname, sizeof(scifdev->intr_wqname),
 			 "SCIF INTR %d", scifdev->node);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		scifdev->intr_wq =
 			alloc_ordered_workqueue(scifdev->intr_wqname, 0);
+#pragma GCC diagnostic pop
 		if (!scifdev->intr_wq)
 			return -ENOMEM;
 		INIT_WORK(&scifdev->intr_bh, scif_intr_bh_handler);
diff --git a/drivers/misc/mic/scif/scif_nodeqp.c b/drivers/misc/mic/scif/scif_nodeqp.c
index c66ca1a5814e..845819ce0b0e 100644
--- a/drivers/misc/mic/scif/scif_nodeqp.c
+++ b/drivers/misc/mic/scif/scif_nodeqp.c
@@ -1234,8 +1234,11 @@ int scif_setup_loopback_qp(struct scif_dev *scifdev)
 	INIT_LIST_HEAD(&scif_info.loopb_recv_q);
 	snprintf(scif_info.loopb_wqname, sizeof(scif_info.loopb_wqname),
 		 "SCIF LOOPB %d", scifdev->node);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	scif_info.loopb_wq =
 		alloc_ordered_workqueue(scif_info.loopb_wqname, 0);
+#pragma GCC diagnostic pop
 	if (!scif_info.loopb_wq) {
 		err = -ENOMEM;
 		goto destroy_intr;
diff --git a/drivers/mmc/core/mmc.c b/drivers/mmc/core/mmc.c
index 7fd722868875..3bca2236cf27 100644
--- a/drivers/mmc/core/mmc.c
+++ b/drivers/mmc/core/mmc.c
@@ -304,7 +304,11 @@ static void mmc_part_add(struct mmc_card *card, unsigned int size,
 {
 	card->part[card->nr_parts].size = size;
 	card->part[card->nr_parts].part_cfg = part_cfg;
+/* name is almost always "...%d" */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	sprintf(card->part[card->nr_parts].name, name, idx);
+#pragma GCC diagnostic pop
 	card->part[card->nr_parts].force_ro = ro;
 	card->part[card->nr_parts].area_type = area_type;
 	card->nr_parts++;
diff --git a/drivers/net/ethernet/8390/ne2k-pci.c b/drivers/net/ethernet/8390/ne2k-pci.c
index 1bdea746926c..ece4d6c4287d 100644
--- a/drivers/net/ethernet/8390/ne2k-pci.c
+++ b/drivers/net/ethernet/8390/ne2k-pci.c
@@ -727,7 +727,10 @@ static int __init ne2k_pci_init(void)
 {
 /* when a module, this is printed whether or not devices are found in probe */
 #ifdef MODULE
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 #endif
 	return pci_register_driver(&ne2k_driver);
 }
diff --git a/drivers/net/ethernet/8390/smc-ultra.c b/drivers/net/ethernet/8390/smc-ultra.c
index 364b6514f65f..289e088c1d46 100644
--- a/drivers/net/ethernet/8390/smc-ultra.c
+++ b/drivers/net/ethernet/8390/smc-ultra.c
@@ -233,8 +233,11 @@ static int __init ultra_probe1(struct net_device *dev, int ioaddr)
 		goto out;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if ((ultra_msg_enable & NETIF_MSG_DRV) && (version_printed++ == 0))
 		netdev_info(dev, version);
+#pragma GCC diagnostic pop
 
 	model_name = (idreg & 0xF0) == 0x20 ? "SMC Ultra" : "SMC EtherEZ";
 
diff --git a/drivers/net/ethernet/8390/wd.c b/drivers/net/ethernet/8390/wd.c
index ad019cbc698f..3eb26bbd8e97 100644
--- a/drivers/net/ethernet/8390/wd.c
+++ b/drivers/net/ethernet/8390/wd.c
@@ -187,8 +187,11 @@ static int __init wd_probe1(struct net_device *dev, int ioaddr)
 		dev->mem_end = 0;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if ((wd_msg_enable & NETIF_MSG_DRV) && (version_printed++ == 0))
 		netdev_info(dev, version);
+#pragma GCC diagnostic pop
 
 	for (i = 0; i < 6; i++)
 		dev->dev_addr[i] = inb(ioaddr + 8 + i);
diff --git a/drivers/net/ethernet/adaptec/starfire.c b/drivers/net/ethernet/adaptec/starfire.c
index 3872ab96b80a..4bd35359541b 100644
--- a/drivers/net/ethernet/adaptec/starfire.c
+++ b/drivers/net/ethernet/adaptec/starfire.c
@@ -2073,7 +2073,10 @@ static int __init starfire_init (void)
 {
 /* when a module, this is printed whether or not devices are found in probe */
 #ifdef MODULE
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 
 	printk(KERN_INFO DRV_NAME ": polling (NAPI) enabled\n");
 #endif
diff --git a/drivers/net/ethernet/amd/lance.c b/drivers/net/ethernet/amd/lance.c
index 61a641f23149..e48ea422e9f9 100644
--- a/drivers/net/ethernet/amd/lance.c
+++ b/drivers/net/ethernet/amd/lance.c
@@ -721,8 +721,11 @@ static int __init lance_probe1(struct net_device *dev, int ioaddr, int irq, int
 		outw(inw(ioaddr+LANCE_BUS_IF) | 0x0002, ioaddr+LANCE_BUS_IF);
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (lance_debug > 0  &&  did_version++ == 0)
 		printk(version);
+#pragma GCC diagnostic pop
 
 	/* The LANCE-specific entries in the device structure. */
 	dev->netdev_ops = &lance_netdev_ops;
diff --git a/drivers/net/ethernet/broadcom/bnx2x/bnx2x_ethtool.c b/drivers/net/ethernet/broadcom/bnx2x/bnx2x_ethtool.c
index 43423744fdfa..2d6caa9c833f 100644
--- a/drivers/net/ethernet/broadcom/bnx2x/bnx2x_ethtool.c
+++ b/drivers/net/ethernet/broadcom/bnx2x/bnx2x_ethtool.c
@@ -3163,11 +3163,14 @@ static void bnx2x_get_strings(struct net_device *dev, u32 stringset, u8 *buf)
 			for_each_eth_queue(bp, i) {
 				memset(queue_name, 0, sizeof(queue_name));
 				sprintf(queue_name, "%d", i);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 				for (j = 0; j < BNX2X_NUM_Q_STATS; j++)
 					snprintf(buf + (k + j)*ETH_GSTRING_LEN,
 						ETH_GSTRING_LEN,
 						bnx2x_q_stats_arr[j].string,
 						queue_name);
+#pragma GCC diagnostic pop
 				k += BNX2X_NUM_Q_STATS;
 			}
 		}
diff --git a/drivers/net/ethernet/chelsio/cxgb4/cxgb4_debugfs.c b/drivers/net/ethernet/chelsio/cxgb4/cxgb4_debugfs.c
index f6e739da7bb7..119d2c999aa2 100644
--- a/drivers/net/ethernet/chelsio/cxgb4/cxgb4_debugfs.c
+++ b/drivers/net/ethernet/chelsio/cxgb4/cxgb4_debugfs.c
@@ -1035,6 +1035,8 @@ static int devlog_show(struct seq_file *seq, void *v)
 			   (e->facility < ARRAY_SIZE(devlog_facility_strings)
 			    ? devlog_facility_strings[e->facility]
 			    : "UNKNOWN"));
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		seq_printf(seq, e->fmt,
 			   be32_to_cpu(e->params[0]),
 			   be32_to_cpu(e->params[1]),
@@ -1044,6 +1046,7 @@ static int devlog_show(struct seq_file *seq, void *v)
 			   be32_to_cpu(e->params[5]),
 			   be32_to_cpu(e->params[6]),
 			   be32_to_cpu(e->params[7]));
+#pragma GCC diagnostic pop
 	}
 	return 0;
 }
diff --git a/drivers/net/ethernet/chelsio/cxgb4/l2t.c b/drivers/net/ethernet/chelsio/cxgb4/l2t.c
index 7c8c5b9a3c22..905671f68a9b 100644
--- a/drivers/net/ethernet/chelsio/cxgb4/l2t.c
+++ b/drivers/net/ethernet/chelsio/cxgb4/l2t.c
@@ -718,8 +718,12 @@ static int l2t_seq_show(struct seq_file *seq, void *v)
 		spin_lock_bh(&e->lock);
 		if (e->state == L2T_STATE_SWITCHING)
 			ip[0] = '\0';
-		else
+		else {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			sprintf(ip, e->v6 ? "%pI6c" : "%pI4", e->addr);
+#pragma GCC diagnostic pop
+		}
 		seq_printf(seq, "%4u %-25s %17pM %4d %u %2u   %c   %5u %s\n",
 			   e->idx + d->l2t_start, ip, e->dmac,
 			   e->vlan & VLAN_VID_MASK, vlan_prio(e), e->lport,
diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.c
index df4a871df633..d6d7d1359fca 100644
--- a/drivers/net/ethernet/dec/tulip/de4x5.c
+++ b/drivers/net/ethernet/dec/tulip/de4x5.c
@@ -1265,7 +1265,10 @@ de4x5_hw_init(struct net_device *dev, u_long iobase, struct device *gendev)
     }
 
     if (de4x5_debug & DEBUG_VERSION) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
     }
 
     /* The DE4X5-specific entries in the device structure. */
diff --git a/drivers/net/ethernet/dec/tulip/winbond-840.c b/drivers/net/ethernet/dec/tulip/winbond-840.c
index d1f2f3cc7cfa..9c896c7698ab 100644
--- a/drivers/net/ethernet/dec/tulip/winbond-840.c
+++ b/drivers/net/ethernet/dec/tulip/winbond-840.c
@@ -1653,7 +1653,10 @@ static struct pci_driver w840_driver = {
 
 static int __init w840_init(void)
 {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 	return pci_register_driver(&w840_driver);
 }
 
diff --git a/drivers/net/ethernet/dlink/sundance.c b/drivers/net/ethernet/dlink/sundance.c
index 2704bcf023be..baf600397aea 100644
--- a/drivers/net/ethernet/dlink/sundance.c
+++ b/drivers/net/ethernet/dlink/sundance.c
@@ -2015,7 +2015,10 @@ static int __init sundance_init(void)
 {
 /* when a module, this is printed whether or not devices are found in probe */
 #ifdef MODULE
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 #endif
 	return pci_register_driver(&sundance_driver);
 }
diff --git a/drivers/net/ethernet/fealnx.c b/drivers/net/ethernet/fealnx.c
index 766636a7c25e..12c326fc3fd3 100644
--- a/drivers/net/ethernet/fealnx.c
+++ b/drivers/net/ethernet/fealnx.c
@@ -1957,7 +1957,10 @@ static int __init fealnx_init(void)
 {
 /* when a module, this is printed whether or not devices are found in probe */
 #ifdef MODULE
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 #endif
 
 	return pci_register_driver(&fealnx_driver);
diff --git a/drivers/net/ethernet/hisilicon/hns/hns_dsaf_xgmac.c b/drivers/net/ethernet/hisilicon/hns/hns_dsaf_xgmac.c
index aae830a93050..65f0ff236214 100644
--- a/drivers/net/ethernet/hisilicon/hns/hns_dsaf_xgmac.c
+++ b/drivers/net/ethernet/hisilicon/hns/hns_dsaf_xgmac.c
@@ -781,7 +781,11 @@ static void hns_xgmac_get_strings(u32 stringset, u8 *data)
 		return;
 
 	for (i = 0; i < ARRAY_SIZE(g_xgmac_stats_string); i++) {
+/* g_xgmac_stats_string is a constant array */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(buff, ETH_GSTRING_LEN, g_xgmac_stats_string[i].desc);
+#pragma GCC diagnostic pop
 		buff = buff + ETH_GSTRING_LEN;
 	}
 }
diff --git a/drivers/net/ethernet/intel/fm10k/fm10k_debugfs.c b/drivers/net/ethernet/intel/fm10k/fm10k_debugfs.c
index 5116fd043630..ec0fe451ad81 100644
--- a/drivers/net/ethernet/intel/fm10k/fm10k_debugfs.c
+++ b/drivers/net/ethernet/intel/fm10k/fm10k_debugfs.c
@@ -66,7 +66,10 @@ static int fm10k_dbg_tx_desc_seq_show(struct seq_file *s, void *v)
 
 	/* Generate header */
 	if (!i) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		seq_printf(s, tx_desc_hdr);
+#pragma GCC diagnostic pop
 		fm10k_dbg_desc_break(s, sizeof(tx_desc_hdr) - 1);
 	}
 
@@ -93,7 +96,10 @@ static int fm10k_dbg_rx_desc_seq_show(struct seq_file *s, void *v)
 
 	/* Generate header */
 	if (!i) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		seq_printf(s, rx_desc_hdr);
+#pragma GCC diagnostic pop
 		fm10k_dbg_desc_break(s, sizeof(rx_desc_hdr) - 1);
 	}
 
diff --git a/drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c b/drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c
index a004a5a1a4c2..da832faf34f2 100644
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_ethtool.c
@@ -227,6 +227,8 @@ static void mlx5e_fill_stats_strings(struct mlx5e_priv *priv, uint8_t *data)
 		strcpy(data + (idx++) * ETH_GSTRING_LEN,
 		       pcie_perf_stats_desc[i].format);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	for (prio = 0; prio < NUM_PPORT_PRIO; prio++) {
 		for (i = 0; i < NUM_PPORT_PER_PRIO_TRAFFIC_COUNTERS; i++)
 			sprintf(data + (idx++) * ETH_GSTRING_LEN,
@@ -273,6 +275,7 @@ static void mlx5e_fill_stats_strings(struct mlx5e_priv *priv, uint8_t *data)
 				sprintf(data + (idx++) * ETH_GSTRING_LEN,
 					sq_stats_desc[j].format,
 					priv->channeltc_to_txq_map[i][tc]);
+#pragma GCC diagnostic pop
 }
 
 static void mlx5e_get_strings(struct net_device *dev,
diff --git a/drivers/net/ethernet/natsemi/natsemi.c b/drivers/net/ethernet/natsemi/natsemi.c
index 18af2a23a933..82943ce0927c 100644
--- a/drivers/net/ethernet/natsemi/natsemi.c
+++ b/drivers/net/ethernet/natsemi/natsemi.c
@@ -3386,7 +3386,10 @@ static int __init natsemi_init_mod (void)
 {
 /* when a module, this is printed whether or not devices are found in probe */
 #ifdef MODULE
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 #endif
 
 	return pci_register_driver(&natsemi_driver);
diff --git a/drivers/net/ethernet/netronome/nfp/nfp_net_common.c b/drivers/net/ethernet/netronome/nfp/nfp_net_common.c
index 9179a99563af..d6849e667391 100644
--- a/drivers/net/ethernet/netronome/nfp/nfp_net_common.c
+++ b/drivers/net/ethernet/netronome/nfp/nfp_net_common.c
@@ -530,7 +530,10 @@ nfp_net_aux_irq_request(struct nfp_net *nn, u32 ctrl_offset,
 
 	entry = &nn->irq_entries[vector_idx];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(name, name_sz, format, netdev_name(nn->netdev));
+#pragma GCC diagnostic pop
 	err = request_irq(entry->vector, handler, 0, name, nn);
 	if (err) {
 		nn_err(nn, "Failed to request IRQ %d (err=%d).\n",
diff --git a/drivers/net/ethernet/packetengines/hamachi.c b/drivers/net/ethernet/packetengines/hamachi.c
index 8b026dbf0d8d..4cd37875078d 100644
--- a/drivers/net/ethernet/packetengines/hamachi.c
+++ b/drivers/net/ethernet/packetengines/hamachi.c
@@ -1929,7 +1929,10 @@ static int __init hamachi_init (void)
 {
 /* when a module, this is printed whether or not devices are found in probe */
 #ifdef MODULE
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 #endif
 	return pci_register_driver(&hamachi_driver);
 }
diff --git a/drivers/net/ethernet/packetengines/yellowfin.c b/drivers/net/ethernet/packetengines/yellowfin.c
index fa7770da6ef8..af7e876b1ae6 100644
--- a/drivers/net/ethernet/packetengines/yellowfin.c
+++ b/drivers/net/ethernet/packetengines/yellowfin.c
@@ -388,8 +388,11 @@ static int yellowfin_init_one(struct pci_dev *pdev,
 /* when built into the kernel, we only print version if device is found */
 #ifndef MODULE
 	static int printed_version;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (!printed_version++)
 		printk(version);
+#pragma GCC diagnostic pop
 #endif
 
 	i = pci_enable_device(pdev);
@@ -1408,7 +1411,10 @@ static int __init yellowfin_init (void)
 {
 /* when a module, this is printed whether or not devices are found in probe */
 #ifdef MODULE
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 #endif
 	return pci_register_driver(&yellowfin_driver);
 }
diff --git a/drivers/net/ethernet/qlogic/qed/qed_debug.c b/drivers/net/ethernet/qlogic/qed/qed_debug.c
index 68f19ca57f96..024cda4f55c7 100644
--- a/drivers/net/ethernet/qlogic/qed/qed_debug.c
+++ b/drivers/net/ethernet/qlogic/qed/qed_debug.c
@@ -5779,11 +5779,14 @@ static enum dbg_status qed_parse_mcp_trace_dump(struct qed_hwfn *p_hwfn,
 					    results_offset), "%s %-8s: ",
 			    s_mcp_trace_level_str[format_level],
 			    meta.modules[format_module]);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		results_offset +=
 		    sprintf(qed_get_buf_ptr(results_buf,
 					    results_offset),
 			    format_ptr->format_str, params[0], params[1],
 			    params[2]);
+#pragma GCC diagnostic pop
 	}
 
 free_mem:
diff --git a/drivers/net/ethernet/qlogic/qlcnic/qlcnic_ctx.c b/drivers/net/ethernet/qlogic/qlcnic/qlcnic_ctx.c
index d344e9d43832..3af9603df0b9 100644
--- a/drivers/net/ethernet/qlogic/qlcnic/qlcnic_ctx.c
+++ b/drivers/net/ethernet/qlogic/qlcnic/qlcnic_ctx.c
@@ -159,7 +159,10 @@ int qlcnic_82xx_issue_cmd(struct qlcnic_adapter *adapter,
 			fmt = "CDRP command failed: [%d]\n";
 			break;
 		}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		dev_err(&pdev->dev, fmt, cmd->rsp.arg[0]);
+#pragma GCC diagnostic pop
 		qlcnic_dump_mbx(adapter, cmd);
 	} else if (rsp == QLCNIC_CDRP_RSP_OK)
 		cmd->rsp.arg[0] = QLCNIC_RCODE_SUCCESS;
diff --git a/drivers/net/ethernet/qualcomm/emac/emac-mac.c b/drivers/net/ethernet/qualcomm/emac/emac-mac.c
index cc065ffbe4b5..5364bc4e4462 100644
--- a/drivers/net/ethernet/qualcomm/emac/emac-mac.c
+++ b/drivers/net/ethernet/qualcomm/emac/emac-mac.c
@@ -939,7 +939,10 @@ int emac_mac_up(struct emac_adapter *adpt)
 		return ret;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	phy_attached_print(adpt->phydev, NULL);
+#pragma GCC diagnostic pop
 
 	/* enable mac irq */
 	writel((u32)~DIS_INT, adpt->base + EMAC_INT_STATUS);
diff --git a/drivers/net/ethernet/sfc/ethtool.c b/drivers/net/ethernet/sfc/ethtool.c
index 3747b5644110..1e1293a90528 100644
--- a/drivers/net/ethernet/sfc/ethtool.c
+++ b/drivers/net/ethernet/sfc/ethtool.c
@@ -239,12 +239,18 @@ static void efx_fill_test(unsigned int test_index, u8 *strings, u64 *data,
 
 	/* Fill string, if applicable */
 	if (strings) {
-		if (strchr(unit_format, '%'))
+		if (strchr(unit_format, '%')) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			snprintf(unit_str, sizeof(unit_str),
 				 unit_format, unit_id);
-		else
+#pragma GCC diagnostic pop
+		} else
 			strcpy(unit_str, unit_format);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(test_str, sizeof(test_str), test_format, test_id);
+#pragma GCC diagnostic pop
 		snprintf(strings + test_index * ETH_GSTRING_LEN,
 			 ETH_GSTRING_LEN,
 			 "%-6s %-24s", unit_str, test_str);
diff --git a/drivers/net/ethernet/sfc/falcon/ethtool.c b/drivers/net/ethernet/sfc/falcon/ethtool.c
index 56049157a5af..6edf62e63736 100644
--- a/drivers/net/ethernet/sfc/falcon/ethtool.c
+++ b/drivers/net/ethernet/sfc/falcon/ethtool.c
@@ -221,12 +221,15 @@ static void ef4_fill_test(unsigned int test_index, u8 *strings, u64 *data,
 
 	/* Fill string, if applicable */
 	if (strings) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (strchr(unit_format, '%'))
 			snprintf(unit_str, sizeof(unit_str),
 				 unit_format, unit_id);
 		else
 			strcpy(unit_str, unit_format);
 		snprintf(test_str, sizeof(test_str), test_format, test_id);
+#pragma GCC diagnostic pop
 		snprintf(strings + test_index * ETH_GSTRING_LEN,
 			 ETH_GSTRING_LEN,
 			 "%-6s %-24s", unit_str, test_str);
diff --git a/drivers/net/ethernet/sis/sis900.c b/drivers/net/ethernet/sis/sis900.c
index 1b6f6171d078..a4bf2d53d871 100644
--- a/drivers/net/ethernet/sis/sis900.c
+++ b/drivers/net/ethernet/sis/sis900.c
@@ -2500,7 +2500,10 @@ static int __init sis900_init_module(void)
 {
 /* when a module, this is printed whether or not devices are found in probe */
 #ifdef MODULE
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(version);
+#pragma GCC diagnostic pop
 #endif
 
 	return pci_register_driver(&sis900_pci_driver);
diff --git a/drivers/net/ethernet/sun/niu.c b/drivers/net/ethernet/sun/niu.c
index fcf3c4f4b67f..70b9a208d64c 100644
--- a/drivers/net/ethernet/sun/niu.c
+++ b/drivers/net/ethernet/sun/niu.c
@@ -9360,9 +9360,12 @@ static ssize_t show_port_phy(struct device *dev,
 			type_str = "10G";
 		else
 			type_str = "1G";
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		buf += sprintf(buf,
 			       (i == 0) ? "%s" : " %s",
 			       type_str);
+#pragma GCC diagnostic pop
 	}
 	buf += sprintf(buf, "\n");
 	return buf - orig_buf;
@@ -9409,9 +9412,12 @@ static ssize_t __show_chan_per_port(struct device *dev,
 	arr = (rx ? p->rxchan_per_port : p->txchan_per_port);
 
 	for (i = 0; i < p->num_ports; i++) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		buf += sprintf(buf,
 			       (i == 0) ? "%d" : " %d",
 			       arr[i]);
+#pragma GCC diagnostic pop
 	}
 	buf += sprintf(buf, "\n");
 
diff --git a/drivers/net/fddi/defxx.c b/drivers/net/fddi/defxx.c
index b0de8ecd7fe8..3359e4b12819 100644
--- a/drivers/net/fddi/defxx.c
+++ b/drivers/net/fddi/defxx.c
@@ -541,7 +541,10 @@ static int dfx_register(struct device *bdev)
 
 	if (!version_disp) {	/* display version info if adapter is found */
 		version_disp = 1;	/* set display flag to TRUE so that */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(version);	/* we only display this string ONCE */
+#pragma GCC diagnostic pop
 	}
 
 	dev = alloc_fddidev(sizeof(*bp));
diff --git a/drivers/net/hamradio/baycom_epp.c b/drivers/net/hamradio/baycom_epp.c
index 594fa1407e29..1500bd9baa71 100644
--- a/drivers/net/hamradio/baycom_epp.c
+++ b/drivers/net/hamradio/baycom_epp.c
@@ -1207,7 +1207,10 @@ static int __init init_baycomepp(void)
 	int i, found = 0;
 	char set_hw = 1;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(bc_drvinfo);
+#pragma GCC diagnostic pop
 	/*
 	 * register net devices
 	 */
diff --git a/drivers/net/hamradio/baycom_par.c b/drivers/net/hamradio/baycom_par.c
index 809dc25909d1..a63866b60c6f 100644
--- a/drivers/net/hamradio/baycom_par.c
+++ b/drivers/net/hamradio/baycom_par.c
@@ -495,7 +495,10 @@ static int __init init_baycompar(void)
 	int i, found = 0;
 	char set_hw = 1;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(bc_drvinfo);
+#pragma GCC diagnostic pop
 	/*
 	 * register net devices
 	 */
diff --git a/drivers/net/hamradio/baycom_ser_fdx.c b/drivers/net/hamradio/baycom_ser_fdx.c
index ebc06822fd4d..eb454cb94dfb 100644
--- a/drivers/net/hamradio/baycom_ser_fdx.c
+++ b/drivers/net/hamradio/baycom_ser_fdx.c
@@ -632,7 +632,10 @@ static int __init init_baycomserfdx(void)
 	int i, found = 0;
 	char set_hw = 1;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(bc_drvinfo);
+#pragma GCC diagnostic pop
 	/*
 	 * register net devices
 	 */
diff --git a/drivers/net/hamradio/baycom_ser_hdx.c b/drivers/net/hamradio/baycom_ser_hdx.c
index 60fcf512c208..920b11f9f1f8 100644
--- a/drivers/net/hamradio/baycom_ser_hdx.c
+++ b/drivers/net/hamradio/baycom_ser_hdx.c
@@ -658,7 +658,10 @@ static int __init init_baycomserhdx(void)
 	int i, found = 0;
 	char set_hw = 1;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(bc_drvinfo);
+#pragma GCC diagnostic pop
 	/*
 	 * register net devices
 	 */
diff --git a/drivers/net/hamradio/bpqether.c b/drivers/net/hamradio/bpqether.c
index f62e7f325cf9..88b6e8fb9708 100644
--- a/drivers/net/hamradio/bpqether.c
+++ b/drivers/net/hamradio/bpqether.c
@@ -602,7 +602,10 @@ static int __init bpq_init_driver(void)
 
 	register_netdevice_notifier(&bpq_dev_notifier);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(banner);
+#pragma GCC diagnostic pop
 
 	return 0;
 }
diff --git a/drivers/net/hamradio/scc.c b/drivers/net/hamradio/scc.c
index 6754cd01c605..9f6e29a6405a 100644
--- a/drivers/net/hamradio/scc.c
+++ b/drivers/net/hamradio/scc.c
@@ -2109,7 +2109,10 @@ static int __init scc_init_driver (void)
 {
 	char devname[IFNAMSIZ];
 	
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(banner);
+#pragma GCC diagnostic pop
 	
 	sprintf(devname,"%s0", SCC_DriverName);
 	
diff --git a/drivers/net/hamradio/yam.c b/drivers/net/hamradio/yam.c
index b6891ada1d7b..40bd057f798e 100644
--- a/drivers/net/hamradio/yam.c
+++ b/drivers/net/hamradio/yam.c
@@ -1144,7 +1144,10 @@ static int __init yam_init_driver(void)
 	int i, err;
 	char name[IFNAMSIZ];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(yam_drvinfo);
+#pragma GCC diagnostic pop
 
 	for (i = 0; i < NR_PORTS; i++) {
 		sprintf(name, "yam%d", i);
diff --git a/drivers/net/hippi/rrunner.c b/drivers/net/hippi/rrunner.c
index dd7fc6659ad4..9139e6ea92c0 100644
--- a/drivers/net/hippi/rrunner.c
+++ b/drivers/net/hippi/rrunner.c
@@ -127,7 +127,10 @@ static int rr_init_one(struct pci_dev *pdev, const struct pci_device_id *ent)
 		/* set display flag to TRUE so that */
 		/* we only display this string ONCE */
 		version_disp = 1;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(version);
+#pragma GCC diagnostic pop
 	}
 
 	pci_read_config_byte(pdev, PCI_LATENCY_TIMER, &pci_latency);
diff --git a/drivers/net/ipvlan/ipvtap.c b/drivers/net/ipvlan/ipvtap.c
index 2b713b63b62c..3590dc55bf93 100644
--- a/drivers/net/ipvlan/ipvtap.c
+++ b/drivers/net/ipvlan/ipvtap.c
@@ -162,7 +162,7 @@ static int ipvtap_device_event(struct notifier_block *unused,
 
 		devt = MKDEV(MAJOR(ipvtap_major), vlantap->tap.minor);
 		classdev = device_create(&ipvtap_class, &dev->dev, devt,
-					 dev, tap_name);
+					 dev, "%s", tap_name);
 		if (IS_ERR(classdev)) {
 			tap_free_minor(ipvtap_major, &vlantap->tap);
 			return notifier_from_errno(PTR_ERR(classdev));
diff --git a/drivers/net/macvtap.c b/drivers/net/macvtap.c
index da85057680d6..1258edc13ee1 100644
--- a/drivers/net/macvtap.c
+++ b/drivers/net/macvtap.c
@@ -168,8 +168,12 @@ static int macvtap_device_event(struct notifier_block *unused,
 			return notifier_from_errno(err);
 
 		devt = MKDEV(MAJOR(macvtap_major), vlantap->tap.minor);
+/* tap_name is under full control ("tap%d") */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		classdev = device_create(&macvtap_class, &dev->dev, devt,
 					 dev, tap_name);
+#pragma GCC diagnostic pop
 		if (IS_ERR(classdev)) {
 			tap_free_minor(macvtap_major, &vlantap->tap);
 			return notifier_from_errno(PTR_ERR(classdev));
diff --git a/drivers/net/phy/phy_device.c b/drivers/net/phy/phy_device.c
index daec6555f3b1..8d85f9396577 100644
--- a/drivers/net/phy/phy_device.c
+++ b/drivers/net/phy/phy_device.c
@@ -862,7 +862,10 @@ EXPORT_SYMBOL(phy_init_hw);
 
 void phy_attached_info(struct phy_device *phydev)
 {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	phy_attached_print(phydev, NULL);
+#pragma GCC diagnostic pop
 }
 EXPORT_SYMBOL(phy_attached_info);
 
diff --git a/drivers/net/wan/lapbether.c b/drivers/net/wan/lapbether.c
index 9df9ed62beff..6a998250139b 100644
--- a/drivers/net/wan/lapbether.c
+++ b/drivers/net/wan/lapbether.c
@@ -420,7 +420,10 @@ static int __init lapbeth_init_driver(void)
 
 	register_netdevice_notifier(&lapbeth_dev_notifier);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(banner);
+#pragma GCC diagnostic pop
 
 	return 0;
 }
diff --git a/drivers/net/wireless/broadcom/b43/main.c b/drivers/net/wireless/broadcom/b43/main.c
index 52f3541ecbcf..059afdb57003 100644
--- a/drivers/net/wireless/broadcom/b43/main.c
+++ b/drivers/net/wireless/broadcom/b43/main.c
@@ -2178,10 +2178,13 @@ static void b43_print_fw_helptext(struct b43_wl *wl, bool error)
 		"and download the correct firmware for this driver version. " \
 		"Please carefully read all instructions on this website.\n";
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (error)
 		b43err(wl, text);
 	else
 		b43warn(wl, text);
+#pragma GCC diagnostic pop
 }
 
 static void b43_fw_cb(const struct firmware *firmware, void *context)
@@ -5621,8 +5624,11 @@ static struct b43_wl *b43_wireless_init(struct b43_bus_dev *dev)
 		wl->tx_queue_stopped[queue_num] = 0;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(chip_name, ARRAY_SIZE(chip_name),
 		 (dev->chip_id > 0x9999) ? "%d" : "%04X", dev->chip_id);
+#pragma GCC diagnostic pop
 	b43info(wl, "Broadcom %s WLAN found (core revision %u)\n", chip_name,
 		dev->core_rev);
 	return wl;
diff --git a/drivers/net/wireless/broadcom/brcm80211/brcmfmac/chip.c b/drivers/net/wireless/broadcom/brcm80211/brcmfmac/chip.c
index 05f22ff81d60..7b405774f9db 100644
--- a/drivers/net/wireless/broadcom/brcm80211/brcmfmac/chip.c
+++ b/drivers/net/wireless/broadcom/brcm80211/brcmfmac/chip.c
@@ -469,7 +469,10 @@ static char *brcmf_chip_name(uint chipid, char *buf, uint len)
 	const char *fmt;
 
 	fmt = ((chipid > 0xa000) || (chipid < 0x4000)) ? "%d" : "%x";
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(buf, len, fmt, chipid);
+#pragma GCC diagnostic pop
 	return buf;
 }
 
diff --git a/drivers/net/wireless/intel/iwlegacy/4965-debug.c b/drivers/net/wireless/intel/iwlegacy/4965-debug.c
index e0597bfdddb8..bd0b6732ce1e 100644
--- a/drivers/net/wireless/intel/iwlegacy/4965-debug.c
+++ b/drivers/net/wireless/intel/iwlegacy/4965-debug.c
@@ -105,6 +105,8 @@ il4965_ucode_rx_stats_read(struct file *file, char __user *user_buf,
 	max_ht = &il->_4965.max_delta.rx.ofdm_ht;
 
 	pos += il4965_stats_flag(il, buf, bufsz);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	pos +=
 	    scnprintf(buf + pos, bufsz - pos, fmt_header,
 		      "Statistics_Rx - OFDM:");
@@ -461,6 +463,7 @@ il4965_ucode_rx_stats_read(struct file *file, char __user *user_buf,
 	    scnprintf(buf + pos, bufsz - pos, fmt_table, "unsupport_mcs:",
 		      le32_to_cpu(ht->unsupport_mcs), accum_ht->unsupport_mcs,
 		      delta_ht->unsupport_mcs, max_ht->unsupport_mcs);
+#pragma GCC diagnostic pop
 
 	ret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);
 	kfree(buf);
@@ -497,6 +500,8 @@ il4965_ucode_tx_stats_read(struct file *file, char __user *user_buf,
 	max_tx = &il->_4965.max_delta.tx;
 
 	pos += il4965_stats_flag(il, buf, bufsz);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	pos += scnprintf(buf + pos, bufsz - pos, fmt_header, "Statistics_Tx:");
 	pos +=
 	    scnprintf(buf + pos, bufsz - pos, fmt_table, "preamble:",
@@ -627,6 +632,7 @@ il4965_ucode_tx_stats_read(struct file *file, char __user *user_buf,
 		      le32_to_cpu(tx->agg.rx_ba_rsp_cnt),
 		      accum_tx->agg.rx_ba_rsp_cnt, delta_tx->agg.rx_ba_rsp_cnt,
 		      max_tx->agg.rx_ba_rsp_cnt);
+#pragma GCC diagnostic pop
 
 	ret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);
 	kfree(buf);
@@ -674,6 +680,8 @@ il4965_ucode_general_stats_read(struct file *file, char __user *user_buf,
 	max_div = &il->_4965.max_delta.general.common.div;
 
 	pos += il4965_stats_flag(il, buf, bufsz);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	pos +=
 	    scnprintf(buf + pos, bufsz - pos, fmt_header,
 		      "Statistics_General:");
@@ -740,6 +748,7 @@ il4965_ucode_general_stats_read(struct file *file, char __user *user_buf,
 		      accum_general->num_of_sos_states,
 		      delta_general->num_of_sos_states,
 		      max_general->num_of_sos_states);
+#pragma GCC diagnostic pop
 	ret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);
 	kfree(buf);
 	return ret;
diff --git a/drivers/net/wireless/intel/iwlwifi/dvm/debugfs.c b/drivers/net/wireless/intel/iwlwifi/dvm/debugfs.c
index 376c79337a0e..d74baba8a0a0 100644
--- a/drivers/net/wireless/intel/iwlwifi/dvm/debugfs.c
+++ b/drivers/net/wireless/intel/iwlwifi/dvm/debugfs.c
@@ -758,6 +758,8 @@ static ssize_t iwl_dbgfs_ucode_rx_stats_read(struct file *file,
 	max_ht = &priv->max_delta_stats.rx_ofdm_ht;
 
 	pos += iwl_statistics_flag(priv, buf, bufsz);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	pos += scnprintf(buf + pos, bufsz - pos,
 			 fmt_header, "Statistics_Rx - OFDM:");
 	pos += scnprintf(buf + pos, bufsz - pos,
@@ -1135,6 +1137,7 @@ static ssize_t iwl_dbgfs_ucode_rx_stats_read(struct file *file,
 			 le32_to_cpu(ht->unsupport_mcs),
 			 accum_ht->unsupport_mcs,
 			 delta_ht->unsupport_mcs, max_ht->unsupport_mcs);
+#pragma GCC diagnostic pop
 
 	spin_unlock_bh(&priv->statistics.lock);
 
@@ -1173,6 +1176,8 @@ static ssize_t iwl_dbgfs_ucode_tx_stats_read(struct file *file,
 	max_tx = &priv->max_delta_stats.tx;
 
 	pos += iwl_statistics_flag(priv, buf, bufsz);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	pos += scnprintf(buf + pos, bufsz - pos,
 			 fmt_header, "Statistics_Tx:");
 	pos += scnprintf(buf + pos, bufsz - pos,
@@ -1332,6 +1337,7 @@ static ssize_t iwl_dbgfs_ucode_tx_stats_read(struct file *file,
 					fmt_hex, "antenna C:",
 					tx->tx_power.ant_c);
 	}
+#pragma GCC diagnostic pop
 
 	spin_unlock_bh(&priv->statistics.lock);
 
@@ -1382,6 +1388,8 @@ static ssize_t iwl_dbgfs_ucode_general_stats_read(struct file *file,
 	max_div = &priv->max_delta_stats.common.div;
 
 	pos += iwl_statistics_flag(priv, buf, bufsz);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	pos += scnprintf(buf + pos, bufsz - pos,
 			 fmt_header, "Statistics_General:");
 	pos += scnprintf(buf + pos, bufsz - pos,
@@ -1452,6 +1460,7 @@ static ssize_t iwl_dbgfs_ucode_general_stats_read(struct file *file,
 			 accum_general->num_of_sos_states,
 			 delta_general->num_of_sos_states,
 			 max_general->num_of_sos_states);
+#pragma GCC diagnostic pop
 
 	spin_unlock_bh(&priv->statistics.lock);
 
diff --git a/drivers/net/wireless/intel/iwlwifi/mvm/debugfs.c b/drivers/net/wireless/intel/iwlwifi/mvm/debugfs.c
index a260cd503200..763fe4bdf002 100644
--- a/drivers/net/wireless/intel/iwlwifi/mvm/debugfs.c
+++ b/drivers/net/wireless/intel/iwlwifi/mvm/debugfs.c
@@ -626,6 +626,8 @@ static ssize_t iwl_dbgfs_fw_rx_stats_read(struct file *file,
 	general = &mvm->rx_stats.general;
 	ht = &mvm->rx_stats.ofdm_ht;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	pos += scnprintf(buf + pos, bufsz - pos, fmt_header,
 			 "Statistics_Rx - OFDM");
 	PRINT_STATS_LE32(ofdm, ina_cnt);
@@ -711,6 +713,7 @@ static ssize_t iwl_dbgfs_fw_rx_stats_read(struct file *file,
 	PRINT_STATS_LE32(ht, agg_mpdu_cnt);
 	PRINT_STATS_LE32(ht, agg_cnt);
 	PRINT_STATS_LE32(ht, unsupport_mcs);
+#pragma GCC diagnostic pop
 
 	mutex_unlock(&mvm->mutex);
 
diff --git a/drivers/net/wireless/intel/iwlwifi/mvm/fw-dbg.h b/drivers/net/wireless/intel/iwlwifi/mvm/fw-dbg.h
index e9f1be9da7d4..bffc6d4305ed 100644
--- a/drivers/net/wireless/intel/iwlwifi/mvm/fw-dbg.h
+++ b/drivers/net/wireless/intel/iwlwifi/mvm/fw-dbg.h
@@ -164,7 +164,10 @@ _iwl_fw_dbg_trigger_simple_stop(struct iwl_mvm *mvm,
 	if (!iwl_fw_dbg_trigger_check_stop(mvm, vif, trigger))
 		return;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	iwl_mvm_fw_dbg_collect_trig(mvm, trigger, NULL);
+#pragma GCC diagnostic pop
 }
 
 #define iwl_fw_dbg_trigger_simple_stop(mvm, vif, trig)	\
diff --git a/drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c b/drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c
index 99132ea16ede..45824b86f11f 100644
--- a/drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c
+++ b/drivers/net/wireless/intel/iwlwifi/mvm/mac-ctxt.c
@@ -1528,9 +1528,12 @@ static void iwl_mvm_beacon_loss_iterator(void *_data, u8 *mac,
 	if (!iwl_fw_dbg_trigger_check_stop(mvm, vif, trigger))
 		return;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (rx_missed_bcon_since_rx >= stop_trig_missed_bcon_since_rx ||
 	    rx_missed_bcon >= stop_trig_missed_bcon)
 		iwl_mvm_fw_dbg_collect_trig(mvm, trigger, NULL);
+#pragma GCC diagnostic pop
 }
 
 void iwl_mvm_rx_missed_beacons_notif(struct iwl_mvm *mvm,
diff --git a/drivers/net/wireless/intel/iwlwifi/mvm/rx.c b/drivers/net/wireless/intel/iwlwifi/mvm/rx.c
index 20473df79c94..127ffeeec170 100644
--- a/drivers/net/wireless/intel/iwlwifi/mvm/rx.c
+++ b/drivers/net/wireless/intel/iwlwifi/mvm/rx.c
@@ -387,8 +387,11 @@ void iwl_mvm_rx_rx_mpdu(struct iwl_mvm *mvm, struct napi_struct *napi,
 			trig_check =
 				iwl_fw_dbg_trigger_check_stop(mvm, mvmsta->vif,
 							      trig);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			if (trig_check && rx_status->signal < rssi)
 				iwl_mvm_fw_dbg_collect_trig(mvm, trig, NULL);
+#pragma GCC diagnostic pop
 		}
 
 		if (ieee80211_is_data(hdr->frame_control))
@@ -626,7 +629,10 @@ iwl_mvm_rx_stats_check_trigger(struct iwl_mvm *mvm, struct iwl_rx_packet *pkt)
 	if (le32_to_cpup((__le32 *) (pkt->data + trig_offset)) < trig_thold)
 		return;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	iwl_mvm_fw_dbg_collect_trig(mvm, trig, NULL);
+#pragma GCC diagnostic pop
 }
 
 void iwl_mvm_handle_rx_statistics(struct iwl_mvm *mvm,
diff --git a/drivers/net/wireless/intel/iwlwifi/mvm/rxmq.c b/drivers/net/wireless/intel/iwlwifi/mvm/rxmq.c
index d79e9c2a2654..eca932e63872 100644
--- a/drivers/net/wireless/intel/iwlwifi/mvm/rxmq.c
+++ b/drivers/net/wireless/intel/iwlwifi/mvm/rxmq.c
@@ -884,8 +884,11 @@ void iwl_mvm_rx_mpdu_mq(struct iwl_mvm *mvm, struct napi_struct *napi,
 			trig_check =
 				iwl_fw_dbg_trigger_check_stop(mvm, mvmsta->vif,
 							      trig);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			if (trig_check && rx_status->signal < rssi)
 				iwl_mvm_fw_dbg_collect_trig(mvm, trig, NULL);
+#pragma GCC diagnostic pop
 		}
 
 		if (ieee80211_is_data(hdr->frame_control))
diff --git a/drivers/net/wireless/marvell/mwifiex/sta_ioctl.c b/drivers/net/wireless/marvell/mwifiex/sta_ioctl.c
index 1532ac9cee0b..82866a0ced5d 100644
--- a/drivers/net/wireless/marvell/mwifiex/sta_ioctl.c
+++ b/drivers/net/wireless/marvell/mwifiex/sta_ioctl.c
@@ -1119,7 +1119,10 @@ mwifiex_drv_get_driver_version(struct mwifiex_adapter *adapter, char *version,
 	ver.l = cpu_to_le32(adapter->fw_release_number);
 	sprintf(fw_ver, "%u.%u.%u.p%u", ver.c[2], ver.c[1], ver.c[0], ver.c[3]);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(version, max_len, driver_version, fw_ver);
+#pragma GCC diagnostic pop
 
 	mwifiex_dbg(adapter, MSG, "info: MWIFIEX VERSION: %s\n", version);
 
diff --git a/drivers/parport/share.c b/drivers/parport/share.c
index bc090daa850a..8383a3f61665 100644
--- a/drivers/parport/share.c
+++ b/drivers/parport/share.c
@@ -493,7 +493,10 @@ struct parport *parport_register_port(unsigned long base, int irq, int dma,
 	tmp->name = name;
 	tmp->bus_dev.bus = &parport_bus_type;
 	tmp->bus_dev.release = free_port;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	dev_set_name(&tmp->bus_dev, name);
+#pragma GCC diagnostic pop
 	tmp->bus_dev.type = &parport_device_type;
 
 	for (device = 0; device < 5; device++)
diff --git a/drivers/pci/probe.c b/drivers/pci/probe.c
index dfc9a2794141..8f7b5bba9d5e 100644
--- a/drivers/pci/probe.c
+++ b/drivers/pci/probe.c
@@ -811,9 +811,12 @@ int pci_register_host_bridge(struct pci_host_bridge *bridge)
 			else
 				fmt = " (bus address [%#010llx-%#010llx])";
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			snprintf(addr, sizeof(addr), fmt,
 				 (unsigned long long)(res->start - offset),
 				 (unsigned long long)(res->end - offset));
+#pragma GCC diagnostic pop
 		} else
 			addr[0] = '\0';
 
@@ -1113,9 +1116,12 @@ int pci_scan_bridge(struct pci_bus *bus, struct pci_dev *dev, int max, int pass)
 		pci_write_config_byte(dev, PCI_SUBORDINATE_BUS, max);
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	sprintf(child->name,
 		(is_cardbus ? "PCI CardBus %04x:%02x" : "PCI Bus %04x:%02x"),
 		pci_domain_nr(bus), child->number);
+#pragma GCC diagnostic pop
 
 	/* Has only triggered on CardBus, fixup is in yenta_socket */
 	while (bus->parent) {
diff --git a/drivers/pnp/interface.c b/drivers/pnp/interface.c
index 4509dd039921..8657bbed0ca4 100644
--- a/drivers/pnp/interface.c
+++ b/drivers/pnp/interface.c
@@ -268,7 +268,11 @@ static ssize_t resources_show(struct device *dmdev,
 	list_for_each_entry(pnp_res, &dev->resources, list) {
 		res = &pnp_res->res;
 
+/* pnp_resource_type_name returns constant strings */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		pnp_printf(buffer, pnp_resource_type_name(res));
+#pragma GCC diagnostic pop
 
 		if (res->flags & IORESOURCE_DISABLED) {
 			pnp_printf(buffer, " disabled\n");
diff --git a/drivers/remoteproc/remoteproc_core.c b/drivers/remoteproc/remoteproc_core.c
index 3dabb20b8d5d..576d74aa3726 100644
--- a/drivers/remoteproc/remoteproc_core.c
+++ b/drivers/remoteproc/remoteproc_core.c
@@ -1369,7 +1369,10 @@ struct rproc *rproc_alloc(struct device *dev, const char *name,
 		p = kmalloc(name_len, GFP_KERNEL);
 		if (!p)
 			return NULL;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(p, name_len, template, name);
+#pragma GCC diagnostic pop
 	} else {
 		p = kstrdup(firmware, GFP_KERNEL);
 		if (!p)
diff --git a/drivers/scsi/aacraid/linit.c b/drivers/scsi/aacraid/linit.c
index 520ada8266af..050954ae6095 100644
--- a/drivers/scsi/aacraid/linit.c
+++ b/drivers/scsi/aacraid/linit.c
@@ -541,10 +541,13 @@ static ssize_t aac_show_raid_level(struct device *dev, struct device_attribute *
 {
 	struct scsi_device *sdev = to_scsi_device(dev);
 	struct aac_dev *aac = (struct aac_dev *)(sdev->host->hostdata);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (sdev_channel(sdev) != CONTAINER_CHANNEL)
 		return snprintf(buf, PAGE_SIZE, sdev->no_uld_attach
 		  ? "Hidden\n" :
 		  ((aac->jbod && (sdev->type == TYPE_DISK)) ? "JBOD\n" : ""));
+#pragma GCC diagnostic pop
 	return snprintf(buf, PAGE_SIZE, "%s\n",
 	  get_container_type(aac->fsa_dev[sdev_id(sdev)].type));
 }
diff --git a/drivers/scsi/aic7xxx/aic79xx_pci.c b/drivers/scsi/aic7xxx/aic79xx_pci.c
index cc9bd26f5d1a..b28dd7f67be6 100644
--- a/drivers/scsi/aic7xxx/aic79xx_pci.c
+++ b/drivers/scsi/aic7xxx/aic79xx_pci.c
@@ -832,7 +832,10 @@ ahd_pci_intr(struct ahd_softc *ahd)
 				s = pci_status_strings[bit];
 				if (i == 7/*TARG*/ && bit == 3)
 					s = "%s: Signaled Target Abort\n";
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 				printk(s, ahd_name(ahd), pci_status_source[i]);
+#pragma GCC diagnostic pop
 			}
 		}	
 	}
@@ -886,7 +889,8 @@ ahd_pci_split_intr(struct ahd_softc *ahd, u_int intstat)
 		u_int bit;
 
 		for (bit = 0; bit < 8; bit++) {
-
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			if ((split_status[i] & (0x1 << bit)) != 0)
 				printk(split_status_strings[bit], ahd_name(ahd),
 				       split_status_source[i]);
@@ -896,6 +900,7 @@ ahd_pci_split_intr(struct ahd_softc *ahd, u_int intstat)
 
 			if ((sg_split_status[i] & (0x1 << bit)) != 0)
 				printk(split_status_strings[bit], ahd_name(ahd), "SG");
+#pragma GCC diagnostic pop
 		}
 	}
 	/*
diff --git a/drivers/scsi/gdth.c b/drivers/scsi/gdth.c
index 3634ae6f643a..1254572b785e 100644
--- a/drivers/scsi/gdth.c
+++ b/drivers/scsi/gdth.c
@@ -3684,12 +3684,16 @@ static void gdth_log_event(gdth_evt_data *dvr, char *buffer)
             }
         }
         
+/* I did not understand this code */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
         if (buffer == NULL) {
             printk(&f[(int)f[0]],stack); 
             printk("\n");
         } else {
             sprintf(buffer,&f[(int)f[0]],stack); 
         }
+#pragma GCC diagnostic pop
 
     } else {
         if (buffer == NULL) {
diff --git a/drivers/scsi/iscsi_boot_sysfs.c b/drivers/scsi/iscsi_boot_sysfs.c
index d453667612f8..84eb7686271e 100644
--- a/drivers/scsi/iscsi_boot_sysfs.c
+++ b/drivers/scsi/iscsi_boot_sysfs.c
@@ -358,11 +358,14 @@ iscsi_boot_create_kobj(struct iscsi_boot_kset *boot_kset,
 	INIT_LIST_HEAD(&boot_kobj->list);
 
 	boot_kobj->kobj.kset = boot_kset->kset;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (kobject_init_and_add(&boot_kobj->kobj, &iscsi_boot_ktype,
 				 NULL, name, index)) {
 		kfree(boot_kobj);
 		return NULL;
 	}
+#pragma GCC diagnostic pop
 	boot_kobj->data = data;
 	boot_kobj->show = show;
 	boot_kobj->is_visible = is_visible;
diff --git a/drivers/scsi/lpfc/lpfc_debugfs.c b/drivers/scsi/lpfc/lpfc_debugfs.c
index 9f4798e9d938..0d3e7299de5b 100644
--- a/drivers/scsi/lpfc/lpfc_debugfs.c
+++ b/drivers/scsi/lpfc/lpfc_debugfs.c
@@ -170,8 +170,11 @@ lpfc_debugfs_disc_trc_data(struct lpfc_vport *vport, char *buf, int size)
 		snprintf(buffer,
 			LPFC_DEBUG_TRC_ENTRY_SIZE, "%010d:%010d ms:%s\n",
 			dtp->seq_cnt, ms, dtp->fmt);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		len +=  snprintf(buf+len, size-len, buffer,
 			dtp->data1, dtp->data2, dtp->data3);
+#pragma GCC diagnostic pop
 	}
 	for (i = 0; i < index; i++) {
 		dtp = vport->disc_trc + i;
@@ -181,8 +184,11 @@ lpfc_debugfs_disc_trc_data(struct lpfc_vport *vport, char *buf, int size)
 		snprintf(buffer,
 			LPFC_DEBUG_TRC_ENTRY_SIZE, "%010d:%010d ms:%s\n",
 			dtp->seq_cnt, ms, dtp->fmt);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		len +=  snprintf(buf+len, size-len, buffer,
 			dtp->data1, dtp->data2, dtp->data3);
+#pragma GCC diagnostic pop
 	}
 
 	lpfc_debugfs_enable = enable;
@@ -236,8 +242,11 @@ lpfc_debugfs_slow_ring_trc_data(struct lpfc_hba *phba, char *buf, int size)
 		snprintf(buffer,
 			LPFC_DEBUG_TRC_ENTRY_SIZE, "%010d:%010d ms:%s\n",
 			dtp->seq_cnt, ms, dtp->fmt);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		len +=  snprintf(buf+len, size-len, buffer,
 			dtp->data1, dtp->data2, dtp->data3);
+#pragma GCC diagnostic pop
 	}
 	for (i = 0; i < index; i++) {
 		dtp = phba->slow_ring_trc + i;
@@ -247,8 +256,11 @@ lpfc_debugfs_slow_ring_trc_data(struct lpfc_hba *phba, char *buf, int size)
 		snprintf(buffer,
 			LPFC_DEBUG_TRC_ENTRY_SIZE, "%010d:%010d ms:%s\n",
 			dtp->seq_cnt, ms, dtp->fmt);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		len +=  snprintf(buf+len, size-len, buffer,
 			dtp->data1, dtp->data2, dtp->data3);
+#pragma GCC diagnostic pop
 	}
 
 	lpfc_debugfs_enable = enable;
@@ -1086,8 +1098,11 @@ lpfc_debugfs_nvmeio_trc_data(struct lpfc_hba *phba, char *buf, int size)
 		if (!dtp->fmt)
 			continue;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		len +=  snprintf(buf + len, size - len, dtp->fmt,
 			dtp->data1, dtp->data2, dtp->data3);
+#pragma GCC diagnostic pop
 
 		if (phba->nvmeio_trc_output_idx >= phba->nvmeio_trc_size) {
 			phba->nvmeio_trc_output_idx = 0;
@@ -1115,8 +1130,11 @@ lpfc_debugfs_nvmeio_trc_data(struct lpfc_hba *phba, char *buf, int size)
 		if (!dtp->fmt)
 			continue;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		len +=  snprintf(buf + len, size - len, dtp->fmt,
 			dtp->data1, dtp->data2, dtp->data3);
+#pragma GCC diagnostic pop
 
 		if (phba->nvmeio_trc_output_idx >= phba->nvmeio_trc_size) {
 			phba->nvmeio_trc_output_idx = 0;
diff --git a/drivers/scsi/scsi_logging.c b/drivers/scsi/scsi_logging.c
index bd70339c1242..fed6211458c8 100644
--- a/drivers/scsi/scsi_logging.c
+++ b/drivers/scsi/scsi_logging.c
@@ -327,8 +327,11 @@ scsi_format_sense_hdr(char *buffer, size_t buf_len,
 	else
 		off += scnprintf(buffer + off, buf_len - off,
 				 "0x%x ", sshdr->sense_key);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	off += scnprintf(buffer + off, buf_len - off,
 		scsi_sense_is_deferred(sshdr) ? "[deferred] " : "[current] ");
+#pragma GCC diagnostic pop
 
 	if (sshdr->response_code >= 0x72)
 		off += scnprintf(buffer + off, buf_len - off, "[descriptor] ");
diff --git a/drivers/scsi/smartpqi/smartpqi_init.c b/drivers/scsi/smartpqi/smartpqi_init.c
index 657ad15682a3..9394a0bd54b2 100644
--- a/drivers/scsi/smartpqi/smartpqi_init.c
+++ b/drivers/scsi/smartpqi/smartpqi_init.c
@@ -1154,8 +1154,11 @@ static void pqi_show_volume_status(struct pqi_ctrl_info *ctrl_info,
 		status = "Volume status not available";
 		break;
 	default:
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(unknown_state_buffer, sizeof(unknown_state_buffer),
 			unknown_state_str, device->volume_status);
+#pragma GCC diagnostic pop
 		status = unknown_state_buffer;
 		break;
 	}
diff --git a/drivers/scsi/st.c b/drivers/scsi/st.c
index e5ef78a6848e..4953723d2dc8 100644
--- a/drivers/scsi/st.c
+++ b/drivers/scsi/st.c
@@ -4630,7 +4630,10 @@ default_density_show(struct device *dev, struct device_attribute *attr,
 	char *fmt;
 
 	fmt = STm->default_density >= 0 ? "0x%02x\n" : "%d\n";
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	l = snprintf(buf, PAGE_SIZE, fmt, STm->default_density);
+#pragma GCC diagnostic pop
 	return l;
 }
 static DEVICE_ATTR_RO(default_density);
diff --git a/drivers/staging/lustre/lnet/libcfs/tracefile.c b/drivers/staging/lustre/lnet/libcfs/tracefile.c
index 517c9ece9bc1..4df4d52a5f33 100644
--- a/drivers/staging/lustre/lnet/libcfs/tracefile.c
+++ b/drivers/staging/lustre/lnet/libcfs/tracefile.c
@@ -281,7 +281,11 @@ int libcfs_debug_msg(struct libcfs_debug_msg_data *msgdata,
 	int rc;
 
 	va_start(args, format);
+/* gcc -Wformat-security does not like NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	rc = libcfs_debug_vmsg2(msgdata, format, args, NULL);
+#pragma GCC diagnostic pop
 	va_end(args);
 
 	return rc;
diff --git a/drivers/staging/lustre/lnet/lnet/peer.c b/drivers/staging/lustre/lnet/lnet/peer.c
index e8061916c241..94155220c0d0 100644
--- a/drivers/staging/lustre/lnet/lnet/peer.c
+++ b/drivers/staging/lustre/lnet/lnet/peer.c
@@ -429,10 +429,13 @@ lnet_get_peer_info(__u32 peer_index, __u64 *nid,
 				continue;
 
 			snprintf(aliveness, LNET_MAX_STR_LEN, "NA");
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			if (lnet_isrouter(lp) ||
 			    lnet_peer_aliveness_enabled(lp))
 				snprintf(aliveness, LNET_MAX_STR_LEN,
 					 lp->lp_alive ? "up" : "down");
+#pragma GCC diagnostic pop
 
 			*nid = lp->lp_nid;
 			*refcount = lp->lp_refcount;
diff --git a/drivers/staging/lustre/lustre/ptlrpc/pinger.c b/drivers/staging/lustre/lustre/ptlrpc/pinger.c
index 5504fc2363ac..1ca24e60e186 100644
--- a/drivers/staging/lustre/lustre/ptlrpc/pinger.c
+++ b/drivers/staging/lustre/lustre/ptlrpc/pinger.c
@@ -302,8 +302,12 @@ int ptlrpc_start_pinger(void)
 
 	strcpy(pinger_thread.t_name, "ll_ping");
 
+/* Even though there may be a race in pinger_thread.t_name usage, the format string is safe */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	task = kthread_run(ptlrpc_pinger_main, &pinger_thread,
 			   pinger_thread.t_name);
+#pragma GCC diagnostic pop
 	if (IS_ERR(task)) {
 		rc = PTR_ERR(task);
 		CERROR("cannot start pinger thread: rc = %d\n", rc);
diff --git a/drivers/staging/most/hdm-dim2/dim2_hdm.c b/drivers/staging/most/hdm-dim2/dim2_hdm.c
index 902824e728ea..989060e87631 100644
--- a/drivers/staging/most/hdm-dim2/dim2_hdm.c
+++ b/drivers/staging/most/hdm-dim2/dim2_hdm.c
@@ -811,7 +811,10 @@ static int dim2_probe(struct platform_device *pdev)
 		else
 			fmt = "dim2-%016x";
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(dev->name, sizeof(dev->name), fmt, res->start);
+#pragma GCC diagnostic pop
 	}
 
 	dev->most_iface.interface = ITYPE_MEDIALB_DIM2;
diff --git a/drivers/staging/most/mostcore/core.c b/drivers/staging/most/mostcore/core.c
index 191404bc5906..57ceeff38446 100644
--- a/drivers/staging/most/mostcore/core.c
+++ b/drivers/staging/most/mostcore/core.c
@@ -429,7 +429,11 @@ static ssize_t show_set_datatype(struct most_c_obj *c,
 
 	for (i = 0; i < ARRAY_SIZE(ch_data_type); i++) {
 		if (c->cfg.data_type & ch_data_type[i].most_ch_data_type)
+/* ch_data_type is a const global variable with string literals */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			return snprintf(buf, PAGE_SIZE, ch_data_type[i].name);
+#pragma GCC diagnostic pop
 	}
 	return snprintf(buf, PAGE_SIZE, "unconfigured\n");
 }
diff --git a/drivers/staging/speakup/keyhelp.c b/drivers/staging/speakup/keyhelp.c
index ce94cb13e256..930cb2cbae6b 100644
--- a/drivers/staging/speakup/keyhelp.c
+++ b/drivers/staging/speakup/keyhelp.c
@@ -157,7 +157,10 @@ int spk_handle_help(struct vc_data *vc, u_char type, u_char ch, u_short key)
 		if (ch < 'a' || ch > 'z')
 			return -1;
 		if (letter_offsets[ch - 'a'] == -1) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			synth_printf(spk_msg_get(MSG_NO_COMMAND), ch);
+#pragma GCC diagnostic pop
 			synth_printf("\n");
 			return 1;
 		}
@@ -198,7 +201,10 @@ int spk_handle_help(struct vc_data *vc, u_char type, u_char ch, u_short key)
 		}
 		key += (state_tbl[i] << 8);
 		say_key(key);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		synth_printf(spk_msg_get(MSG_KEYDESC), name);
+#pragma GCC diagnostic pop
 		synth_printf("\n");
 		return 1;
 	}
diff --git a/drivers/staging/speakup/kobjects.c b/drivers/staging/speakup/kobjects.c
index 4e7ebc306488..780b621212bb 100644
--- a/drivers/staging/speakup/kobjects.c
+++ b/drivers/staging/speakup/kobjects.c
@@ -98,7 +98,10 @@ static void report_char_chartab_status(int reset, int received, int used,
 			snprintf(buf + (len - 1), sizeof(buf) - (len - 1),
 				 " with %d reject%s\n",
 				 rejected, rejected > 1 ? "s" : "");
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(buf);
+#pragma GCC diagnostic pop
 	}
 }
 
@@ -738,7 +741,10 @@ static void report_msg_status(int reset, int received, int used,
 			snprintf(buf + (len - 1), sizeof(buf) - (len - 1),
 				 " with %d reject%s\n",
 				 rejected, rejected > 1 ? "s" : "");
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(buf);
+#pragma GCC diagnostic pop
 	}
 }
 
diff --git a/drivers/staging/speakup/main.c b/drivers/staging/speakup/main.c
index c0b698fcb81c..2fc9813c7853 100644
--- a/drivers/staging/speakup/main.c
+++ b/drivers/staging/speakup/main.c
@@ -1031,8 +1031,11 @@ static void say_last_char(struct vc_data *vc)
 
 static void say_position(struct vc_data *vc)
 {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	synth_printf(spk_msg_get(MSG_POS_INFO), spk_y + 1, spk_x + 1,
 		     vc->vc_num + 1);
+#pragma GCC diagnostic pop
 	synth_printf("\n");
 }
 
@@ -1043,7 +1046,10 @@ static void say_char_num(struct vc_data *vc)
 	u_short ch = get_char(vc, (u_short *)spk_pos, &tmp);
 
 	ch &= 0xff;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	synth_printf(spk_msg_get(MSG_CHAR_INFO), ch, ch);
+#pragma GCC diagnostic pop
 }
 
 /* these are stub functions to keep keyboard.c happy. */
@@ -1093,8 +1099,11 @@ static void spkup_write(const char *in_buf, int count)
 		} else {
 			if ((last_type & CH_RPT) && rep_count > 2) {
 				synth_printf(" ");
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 				synth_printf(spk_msg_get(MSG_REPEAT_DESC),
 					     ++rep_count);
+#pragma GCC diagnostic pop
 				synth_printf(" ");
 			}
 			rep_count = 0;
@@ -1139,8 +1148,11 @@ static void spkup_write(const char *in_buf, int count)
 	if (in_count > 2 && rep_count > 2) {
 		if (last_type & CH_RPT) {
 			synth_printf(" ");
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			synth_printf(spk_msg_get(MSG_REPEAT_DESC2),
 					++rep_count);
+#pragma GCC diagnostic pop
 			synth_printf(" ");
 		}
 		rep_count = 0;
@@ -1847,8 +1859,11 @@ static void speakup_win_set(struct vc_data *vc)
 		win_left = 0;
 		win_right = vc->vc_cols - 1;
 		win_bottom = spk_y;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(info, sizeof(info), spk_msg_get(MSG_WINDOW_LINE),
 			 (int)win_top + 1);
+#pragma GCC diagnostic pop
 	} else {
 		if (!win_start) {
 			win_top = spk_y;
@@ -1857,10 +1872,13 @@ static void speakup_win_set(struct vc_data *vc)
 			win_bottom = spk_y;
 			win_right = spk_x;
 		}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(info, sizeof(info), spk_msg_get(MSG_WINDOW_BOUNDARY),
 			 (win_start) ?
 				spk_msg_get(MSG_END) : spk_msg_get(MSG_START),
 			 (int)spk_y + 1, (int)spk_x + 1);
+#pragma GCC diagnostic pop
 	}
 	synth_printf("%s\n", info);
 	win_start++;
@@ -1898,7 +1916,10 @@ static void speakup_bits(struct vc_data *vc)
 		return;
 	}
 	pb_edit = &spk_punc_info[val];
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	synth_printf(spk_msg_get(MSG_EDIT_PROMPT), pb_edit->name);
+#pragma GCC diagnostic pop
 	spk_special_handler = edit_bits;
 }
 
diff --git a/drivers/staging/speakup/speakup_soft.c b/drivers/staging/speakup/speakup_soft.c
index d2ff0afd685a..c13ea0f124f6 100644
--- a/drivers/staging/speakup/speakup_soft.c
+++ b/drivers/staging/speakup/speakup_soft.c
@@ -162,9 +162,13 @@ static char *get_initstring(void)
 	var = synth_soft.vars;
 	while (var->var_id != MAXVARS) {
 		if (var->var_id != CAPS_START && var->var_id != CAPS_STOP &&
-		    var->var_id != DIRECT)
+		    var->var_id != DIRECT) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			cp = cp + sprintf(cp, var->u.n.synth_fmt,
 					  var->u.n.value);
+#pragma GCC diagnostic pop
+		}
 		var++;
 	}
 	cp = cp + sprintf(cp, "\n");
diff --git a/drivers/staging/speakup/synth.c b/drivers/staging/speakup/synth.c
index a61c02ba06da..41f68b58945f 100644
--- a/drivers/staging/speakup/synth.c
+++ b/drivers/staging/speakup/synth.c
@@ -292,7 +292,10 @@ void synth_insert_next_index(int sent_num)
 		}
 
 		out = synth->indexing.currindex * 10 + sent_num;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		synth_printf(synth->indexing.command, out, out);
+#pragma GCC diagnostic pop
 	}
 }
 
diff --git a/drivers/staging/speakup/varhandlers.c b/drivers/staging/speakup/varhandlers.c
index cc984196020f..00f7b1319923 100644
--- a/drivers/staging/speakup/varhandlers.c
+++ b/drivers/staging/speakup/varhandlers.c
@@ -234,10 +234,13 @@ int spk_set_num_var(int input, struct st_var_header *var, int how)
 		cp = spk_pitch_buff;
 	else
 		cp = buf;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (!var_data->u.n.out_str)
 		l = sprintf(cp, var_data->u.n.synth_fmt, (int)val);
 	else
 		l = sprintf(cp,	var_data->u.n.synth_fmt, var_data->u.n.out_str[val]);
+#pragma GCC diagnostic pop
 	synth_printf("%s", cp);
 	return 0;
 }
diff --git a/drivers/staging/vme/devices/vme_user.c b/drivers/staging/vme/devices/vme_user.c
index 69e9a7705afb..26ffae6ea92d 100644
--- a/drivers/staging/vme/devices/vme_user.c
+++ b/drivers/staging/vme/devices/vme_user.c
@@ -644,8 +644,11 @@ static int vme_user_probe(struct vme_dev *vdev)
 		}
 
 		num = (type[i] == SLAVE_MINOR) ? i - (MASTER_MAX + 1) : i;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		image[i].device = device_create(vme_user_sysfs_class, NULL,
 					MKDEV(VME_MAJOR, i), NULL, name, num);
+#pragma GCC diagnostic pop
 		if (IS_ERR(image[i].device)) {
 			dev_info(&vdev->dev, "Error creating sysfs device\n");
 			err = PTR_ERR(image[i].device);
diff --git a/drivers/tty/serial/pch_uart.c b/drivers/tty/serial/pch_uart.c
index 42caccb5e87e..40f7356d27d0 100644
--- a/drivers/tty/serial/pch_uart.c
+++ b/drivers/tty/serial/pch_uart.c
@@ -1093,7 +1093,10 @@ static void pch_uart_err_ir(struct eg20t_port *priv, unsigned int lsr)
 
 	if (tty == NULL) {
 		for (i = 0; error_msg[i] != NULL; i++)
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			dev_err(&priv->pdev->dev, error_msg[i]);
+#pragma GCC diagnostic pop
 	} else {
 		tty_kref_put(tty);
 	}
diff --git a/drivers/usb/core/devices.c b/drivers/usb/core/devices.c
index f2987ddb1cde..1df4eaa466c2 100644
--- a/drivers/usb/core/devices.c
+++ b/drivers/usb/core/devices.c
@@ -225,11 +225,14 @@ static char *usb_dump_endpoint_descriptor(int speed, char *start, char *end,
 		interval /= 1000;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	start += sprintf(start, format_endpt, desc->bEndpointAddress, dir,
 			 desc->bmAttributes, type,
 			 usb_endpoint_maxp(desc) *
 			 bandwidth,
 			 interval, unit);
+#pragma GCC diagnostic pop
 	return start;
 }
 
@@ -251,6 +254,8 @@ static char *usb_dump_interface_descriptor(char *start, char *end,
 				: "(none)");
 		active = (desc == &iface->cur_altsetting->desc);
 	}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	start += sprintf(start, format_iface,
 			 active ? '*' : ' ',	/* mark active altsetting */
 			 desc->bInterfaceNumber,
@@ -261,6 +266,7 @@ static char *usb_dump_interface_descriptor(char *start, char *end,
 			 desc->bInterfaceSubClass,
 			 desc->bInterfaceProtocol,
 			 driver_name);
+#pragma GCC diagnostic pop
 	return start;
 }
 
@@ -286,6 +292,8 @@ static char *usb_dump_iad_descriptor(char *start, char *end,
 {
 	if (start > end)
 		return start;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	start += sprintf(start, format_iad,
 			 iad->bFirstInterface,
 			 iad->bInterfaceCount,
@@ -293,6 +301,7 @@ static char *usb_dump_iad_descriptor(char *start, char *end,
 			 class_decode(iad->bFunctionClass),
 			 iad->bFunctionSubClass,
 			 iad->bFunctionProtocol);
+#pragma GCC diagnostic pop
 	return start;
 }
 
@@ -313,6 +322,8 @@ static char *usb_dump_config_descriptor(char *start, char *end,
 		mul = 8;
 	else
 		mul = 2;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	start += sprintf(start, format_config,
 			 /* mark active/actual/current cfg. */
 			 active ? '*' : ' ',
@@ -320,6 +331,7 @@ static char *usb_dump_config_descriptor(char *start, char *end,
 			 desc->bConfigurationValue,
 			 desc->bmAttributes,
 			 desc->bMaxPower * mul);
+#pragma GCC diagnostic pop
 	return start;
 }
 
@@ -367,6 +379,8 @@ static char *usb_dump_device_descriptor(char *start, char *end,
 
 	if (start > end)
 		return start;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	start += sprintf(start, format_device1,
 			  bcdUSB >> 8, bcdUSB & 0xff,
 			  desc->bDeviceClass,
@@ -381,6 +395,7 @@ static char *usb_dump_device_descriptor(char *start, char *end,
 			 le16_to_cpu(desc->idVendor),
 			 le16_to_cpu(desc->idProduct),
 			 bcdDevice >> 8, bcdDevice & 0xff);
+#pragma GCC diagnostic pop
 	return start;
 }
 
@@ -392,6 +407,8 @@ static char *usb_dump_device_strings(char *start, char *end,
 {
 	if (start > end)
 		return start;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (dev->manufacturer)
 		start += sprintf(start, format_string_manufacturer,
 				 dev->manufacturer);
@@ -406,6 +423,7 @@ static char *usb_dump_device_strings(char *start, char *end,
 		start += sprintf(start, format_string_serialnumber,
 				 dev->serial);
 #endif
+#pragma GCC diagnostic pop
  out:
 	return start;
 }
@@ -526,10 +544,13 @@ static ssize_t usb_device_dump(char __user **buffer, size_t *nbytes,
 	default:
 		speed = "??";
 	}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	data_end = pages_start + sprintf(pages_start, format_topo,
 			bus->busnum, level, parent_devnum,
 			index, count, usbdev->devnum,
 			speed, usbdev->maxchild);
+#pragma GCC diagnostic pop
 	/*
 	 * level = topology-tier level;
 	 * parent_devnum = parent device number;
@@ -551,12 +572,15 @@ static ssize_t usb_device_dump(char __user **buffer, size_t *nbytes,
 		 * the schedules are actually bursty, HCDs need to deal with
 		 * that and just compute/report this average.
 		 */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		data_end += sprintf(data_end, format_bandwidth,
 				bus->bandwidth_allocated, max,
 				(100 * bus->bandwidth_allocated + max / 2)
 					/ max,
 				bus->bandwidth_int_reqs,
 				bus->bandwidth_isoc_reqs);
+#pragma GCC diagnostic pop
 
 	}
 	data_end = usb_dump_desc(data_end, pages_start + (2 * PAGE_SIZE) - 256,
diff --git a/drivers/usb/core/file.c b/drivers/usb/core/file.c
index e26bd5e773ad..5399ee17ad97 100644
--- a/drivers/usb/core/file.c
+++ b/drivers/usb/core/file.c
@@ -193,7 +193,10 @@ int usb_register_dev(struct usb_interface *intf,
 		return -EXFULL;
 
 	/* create a usb class device for this usb interface */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(name, sizeof(name), class_driver->name, minor - minor_base);
+#pragma GCC diagnostic pop
 	intf->usb_dev = device_create(usb_class->class, &intf->dev,
 				      MKDEV(USB_MAJOR, minor), class_driver,
 				      "%s", kbasename(name));
diff --git a/drivers/usb/host/ehci-dbg.c b/drivers/usb/host/ehci-dbg.c
index 1a2614aae42c..08eb849f14b5 100644
--- a/drivers/usb/host/ehci-dbg.c
+++ b/drivers/usb/host/ehci-dbg.c
@@ -856,19 +856,28 @@ static ssize_t fill_registers_buffer(struct debug_buffer *buf)
 	/* Operational Registers */
 	temp = dbg_status_buf(scratch, sizeof(scratch), label,
 			ehci_readl(ehci, &ehci->regs->status));
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	temp = scnprintf(next, size, fmt, temp, scratch);
+#pragma GCC diagnostic pop
 	size -= temp;
 	next += temp;
 
 	temp = dbg_command_buf(scratch, sizeof(scratch), label,
 			ehci_readl(ehci, &ehci->regs->command));
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	temp = scnprintf(next, size, fmt, temp, scratch);
+#pragma GCC diagnostic pop
 	size -= temp;
 	next += temp;
 
 	temp = dbg_intr_buf(scratch, sizeof(scratch), label,
 			ehci_readl(ehci, &ehci->regs->intr_enable));
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	temp = scnprintf(next, size, fmt, temp, scratch);
+#pragma GCC diagnostic pop
 	size -= temp;
 	next += temp;
 
@@ -881,7 +890,10 @@ static ssize_t fill_registers_buffer(struct debug_buffer *buf)
 		temp = dbg_port_buf(scratch, sizeof(scratch), label, i,
 				ehci_readl(ehci,
 					&ehci->regs->port_status[i - 1]));
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		temp = scnprintf(next, size, fmt, temp, scratch);
+#pragma GCC diagnostic pop
 		size -= temp;
 		next += temp;
 		if (i == HCS_DEBUG_PORT(ehci->hcs_params) && ehci->debug) {
diff --git a/drivers/usb/host/fotg210-hcd.c b/drivers/usb/host/fotg210-hcd.c
index 1c5b34b74860..d04b6a1de6dc 100644
--- a/drivers/usb/host/fotg210-hcd.c
+++ b/drivers/usb/host/fotg210-hcd.c
@@ -703,19 +703,28 @@ static ssize_t fill_registers_buffer(struct debug_buffer *buf)
 	/* Operational Registers */
 	temp = dbg_status_buf(scratch, sizeof(scratch), label,
 			fotg210_readl(fotg210, &fotg210->regs->status));
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	temp = scnprintf(next, size, fmt, temp, scratch);
+#pragma GCC diagnostic pop
 	size -= temp;
 	next += temp;
 
 	temp = dbg_command_buf(scratch, sizeof(scratch), label,
 			fotg210_readl(fotg210, &fotg210->regs->command));
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	temp = scnprintf(next, size, fmt, temp, scratch);
+#pragma GCC diagnostic pop
 	size -= temp;
 	next += temp;
 
 	temp = dbg_intr_buf(scratch, sizeof(scratch), label,
 			fotg210_readl(fotg210, &fotg210->regs->intr_enable));
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	temp = scnprintf(next, size, fmt, temp, scratch);
+#pragma GCC diagnostic pop
 	size -= temp;
 	next += temp;
 
diff --git a/drivers/video/fbdev/matrox/i2c-matroxfb.c b/drivers/video/fbdev/matrox/i2c-matroxfb.c
index 0fb280ead3dc..6d8bc9aefe82 100644
--- a/drivers/video/fbdev/matrox/i2c-matroxfb.c
+++ b/drivers/video/fbdev/matrox/i2c-matroxfb.c
@@ -108,8 +108,12 @@ static int i2c_bus_reg(struct i2c_bit_adapter* b, struct matrox_fb_info* minfo,
 	b->mask.data = data;
 	b->mask.clock = clock;
 	b->adapter.owner = THIS_MODULE;
+/* TODO check that name is under kernel control */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(b->adapter.name, sizeof(b->adapter.name), name,
 		minfo->fbcon.node);
+#pragma GCC diagnostic pop
 	i2c_set_adapdata(&b->adapter, b);
 	b->adapter.class = class;
 	b->adapter.algo_data = &b->bac;
diff --git a/fs/btrfs/check-integrity.c b/fs/btrfs/check-integrity.c
index ab14c2e635ca..853b7fa433e0 100644
--- a/fs/btrfs/check-integrity.c
+++ b/fs/btrfs/check-integrity.c
@@ -2561,7 +2561,10 @@ static void btrfsic_dump_tree_sub(const struct btrfsic_state *state,
 		printk("[...]\n");
 		return;
 	}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(buf);
+#pragma GCC diagnostic pop
 	indent_level += indent_add;
 	if (list_empty(&block->ref_to_list)) {
 		printk("\n");
@@ -2590,7 +2593,10 @@ static void btrfsic_dump_tree_sub(const struct btrfsic_state *state,
 			continue;
 		}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(buf);
+#pragma GCC diagnostic pop
 
 		btrfsic_dump_tree_sub(state, l->block_ref_to,
 				      indent_level + indent_add);
diff --git a/fs/btrfs/ctree.c b/fs/btrfs/ctree.c
index 7dc8844037e0..5a17ca97d1c3 100644
--- a/fs/btrfs/ctree.c
+++ b/fs/btrfs/ctree.c
@@ -1011,7 +1011,11 @@ static noinline int update_ref_for_cow(struct btrfs_trans_handle *trans,
 			return ret;
 		if (refs == 0) {
 			ret = -EROFS;
+/* gcc does not like calling __btrfs_handle_fs_error() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			btrfs_handle_fs_error(fs_info, ret, NULL);
+#pragma GCC diagnostic pop
 			return ret;
 		}
 	} else {
@@ -1915,7 +1919,11 @@ static noinline int balance_level(struct btrfs_trans_handle *trans,
 		child = read_node_slot(fs_info, mid, 0);
 		if (IS_ERR(child)) {
 			ret = PTR_ERR(child);
+/* gcc does not like calling __btrfs_handle_fs_error() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			btrfs_handle_fs_error(fs_info, ret, NULL);
+#pragma GCC diagnostic pop
 			goto enospc;
 		}
 
@@ -2025,7 +2033,11 @@ static noinline int balance_level(struct btrfs_trans_handle *trans,
 		 */
 		if (!left) {
 			ret = -EROFS;
+/* gcc does not like calling __btrfs_handle_fs_error() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			btrfs_handle_fs_error(fs_info, ret, NULL);
+#pragma GCC diagnostic pop
 			goto enospc;
 		}
 		wret = balance_node_right(trans, fs_info, mid, left);
diff --git a/fs/btrfs/extent-tree.c b/fs/btrfs/extent-tree.c
index be5477676cc8..044636624ac4 100644
--- a/fs/btrfs/extent-tree.c
+++ b/fs/btrfs/extent-tree.c
@@ -9186,8 +9186,13 @@ int btrfs_drop_snapshot(struct btrfs_root *root,
 	 */
 	if (!for_reloc && root_dropped == false)
 		btrfs_add_dead_root(root);
-	if (err && err != -EAGAIN)
+	if (err && err != -EAGAIN) {
+/* gcc does not like calling __btrfs_handle_fs_error() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		btrfs_handle_fs_error(fs_info, err, NULL);
+#pragma GCC diagnostic pop
+	}
 	return err;
 }
 
diff --git a/fs/btrfs/inode-item.c b/fs/btrfs/inode-item.c
index 39c968f80157..edec9694ea62 100644
--- a/fs/btrfs/inode-item.c
+++ b/fs/btrfs/inode-item.c
@@ -157,7 +157,10 @@ static int btrfs_del_inode_extref(struct btrfs_trans_handle *trans,
 	 */
 	if (!btrfs_find_name_in_ext_backref(path, ref_objectid,
 					    name, name_len, &extref)) {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		btrfs_handle_fs_error(root->fs_info, -ENOENT, NULL);
+#pragma GCC diagnostic pop
 		ret = -EROFS;
 		goto out;
 	}
diff --git a/fs/btrfs/relocation.c b/fs/btrfs/relocation.c
index d60df51959f7..f02c34c97fc5 100644
--- a/fs/btrfs/relocation.c
+++ b/fs/btrfs/relocation.c
@@ -2460,7 +2460,11 @@ void merge_reloc_roots(struct reloc_control *rc)
 	}
 out:
 	if (ret) {
+/* gcc does not like calling __btrfs_handle_fs_error() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		btrfs_handle_fs_error(fs_info, ret, NULL);
+#pragma GCC diagnostic pop
 		if (!list_empty(&reloc_roots))
 			free_reloc_roots(&reloc_roots);
 
diff --git a/fs/btrfs/super.c b/fs/btrfs/super.c
index da687dc79cce..e86947efbb74 100644
--- a/fs/btrfs/super.c
+++ b/fs/btrfs/super.c
@@ -269,7 +269,11 @@ void __btrfs_abort_transaction(struct btrfs_trans_handle *trans,
 	/* Wake up anybody who may be waiting on this transaction */
 	wake_up(&fs_info->transaction_wait);
 	wake_up(&fs_info->transaction_blocked_wait);
+/* gcc does not like calling __btrfs_handle_fs_error() with NULL */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	__btrfs_handle_fs_error(fs_info, function, line, errno, NULL);
+#pragma GCC diagnostic pop
 }
 /*
  * __btrfs_panic decodes unexpected, fatal errors from the caller,
diff --git a/fs/btrfs/sysfs.c b/fs/btrfs/sysfs.c
index 1f157fba8940..505d00d0b0b6 100644
--- a/fs/btrfs/sysfs.c
+++ b/fs/btrfs/sysfs.c
@@ -372,7 +372,10 @@ static ssize_t btrfs_label_show(struct kobject *kobj,
 	ssize_t ret;
 
 	spin_lock(&fs_info->super_lock);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	ret = snprintf(buf, PAGE_SIZE, label[0] ? "%s\n" : "%s", label);
+#pragma GCC diagnostic pop
 	spin_unlock(&fs_info->super_lock);
 
 	return ret;
diff --git a/fs/btrfs/volumes.c b/fs/btrfs/volumes.c
index 73d56eef5e60..0fa6ee85e682 100644
--- a/fs/btrfs/volumes.c
+++ b/fs/btrfs/volumes.c
@@ -2932,7 +2932,10 @@ static int btrfs_relocate_chunk(struct btrfs_fs_info *fs_info, u64 chunk_offset)
 						     chunk_offset);
 	if (IS_ERR(trans)) {
 		ret = PTR_ERR(trans);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		btrfs_handle_fs_error(root->fs_info, ret, NULL);
+#pragma GCC diagnostic pop
 		return ret;
 	}
 
@@ -3733,8 +3736,11 @@ static void __cancel_balance(struct btrfs_fs_info *fs_info)
 
 	unset_balance_control(fs_info);
 	ret = del_balance_item(fs_info);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (ret)
 		btrfs_handle_fs_error(fs_info, ret, NULL);
+#pragma GCC diagnostic pop
 
 	atomic_set(&fs_info->mutually_exclusive_operation_running, 0);
 }
diff --git a/fs/libfs.c b/fs/libfs.c
index a8b62e5d43a9..79921c174561 100644
--- a/fs/libfs.c
+++ b/fs/libfs.c
@@ -846,8 +846,12 @@ ssize_t simple_attr_read(struct file *file, char __user *buf,
 		if (ret)
 			goto out;
 
+/* Checking of attr->fmt is done by using __simple_attr_check_format */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		size = scnprintf(attr->get_buf, sizeof(attr->get_buf),
 				 attr->fmt, (unsigned long long)val);
+#pragma GCC diagnostic pop
 	}
 
 	ret = simple_read_from_buffer(buf, len, ppos, attr->get_buf, size);
diff --git a/fs/ocfs2/ocfs2_fs.h b/fs/ocfs2/ocfs2_fs.h
index 44d178b8d1aa..634820195a86 100644
--- a/fs/ocfs2/ocfs2_fs.h
+++ b/fs/ocfs2/ocfs2_fs.h
@@ -1619,10 +1619,15 @@ static inline int ocfs2_sprintf_system_inode_name(char *buf, int len,
 	if (type <= OCFS2_LAST_GLOBAL_SYSTEM_INODE)
 		chars = snprintf(buf, len, "%s",
 				 ocfs2_system_inodes[type].si_name);
-	else
+	else {
+/* why? (BUG?) I did not understand this code */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		chars = snprintf(buf, len,
 				 ocfs2_system_inodes[type].si_name,
 				 slot);
+#pragma GCC diagnostic pop
+	}
 
 	return chars;
 }
diff --git a/fs/proc/version.c b/fs/proc/version.c
index d2154eb6d78f..3e3d0ec902c9 100644
--- a/fs/proc/version.c
+++ b/fs/proc/version.c
@@ -7,10 +7,13 @@
 
 static int version_proc_show(struct seq_file *m, void *v)
 {
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	seq_printf(m, linux_proc_banner,
 		utsname()->sysname,
 		utsname()->release,
 		utsname()->version);
+#pragma GCC diagnostic pop
 	return 0;
 }
 
diff --git a/fs/reiserfs/prints.c b/fs/reiserfs/prints.c
index 42d82f436cdd..5ee76629b048 100644
--- a/fs/reiserfs/prints.c
+++ b/fs/reiserfs/prints.c
@@ -289,7 +289,7 @@ void reiserfs_info(struct super_block *sb, const char *fmt, ...)
 static __printf(1, 2) void reiserfs_printk(const char *fmt, ...)
 {
 	do_reiserfs_warning(fmt);
-	printk(error_buf);
+	printk("%s", error_buf);
 }
 
 void reiserfs_debug(struct super_block *s, int level, const char *fmt, ...)
@@ -377,7 +377,7 @@ void __reiserfs_error(struct super_block *sb, const char *id,
 	BUG_ON(sb == NULL);
 
 	if (reiserfs_error_panic(sb))
-		__reiserfs_panic(sb, id, function, error_buf);
+		__reiserfs_panic(sb, id, function, "%s", error_buf);
 
 	if (id && id[0])
 		printk(KERN_CRIT "REISERFS error (device %s): %s %s: %s\n",
diff --git a/include/linux/kernel.h b/include/linux/kernel.h
index 4c26dc3a8295..fe1b027eb20e 100644
--- a/include/linux/kernel.h
+++ b/include/linux/kernel.h
@@ -636,6 +636,7 @@ do {							\
 		trace_puts(fmt);			\
 } while (0)
 
+#if 0
 #define do_trace_printk(fmt, args...)					\
 do {									\
 	static const char *trace_printk_fmt __used			\
@@ -644,11 +645,22 @@ do {									\
 									\
 	__trace_printk_check_format(fmt, ##args);			\
 									\
-	if (__builtin_constant_p(fmt))					\
+	if (__builtin_constant_p(fmt)) {					\
+_Pragma("GCC diagnostic push") \
+_Pragma("GCC diagnostic ignored \"-Wformat-security\"") \
 		__trace_bprintk(_THIS_IP_, trace_printk_fmt, ##args);	\
-	else								\
+_Pragma("GCC diagnostic pop") \
+	} else								\
 		__trace_printk(_THIS_IP_, fmt, ##args);			\
 } while (0)
+#else
+/* Be nice with gcc's -Wformat-security, as the previous tentative did not work */
+#define do_trace_printk(fmt, args...)					\
+do {									\
+	__trace_printk_check_format(fmt, ##args);			\
+	__trace_printk(_THIS_IP_, fmt, ##args);				\
+} while (0)
+#endif
 
 extern __printf(2, 3)
 int __trace_bprintk(unsigned long ip, const char *fmt, ...);
diff --git a/init/do_mounts_initrd.c b/init/do_mounts_initrd.c
index a1000ca29fc9..45187a1a1219 100644
--- a/init/do_mounts_initrd.c
+++ b/init/do_mounts_initrd.c
@@ -112,7 +112,11 @@ static void __init handle_initrd(void)
 			error = sys_ioctl(fd, BLKFLSBUF, 0);
 			sys_close(fd);
 		}
+/* gcc is not smart enough and reports "Call with a non-constant string" */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		printk(!error ? "okay\n" : "failed\n");
+#pragma GCC diagnostic pop
 	}
 }
 
diff --git a/kernel/debug/kdb/kdb_io.c b/kernel/debug/kdb/kdb_io.c
index e74be38245ad..3ca45bfe3496 100644
--- a/kernel/debug/kdb/kdb_io.c
+++ b/kernel/debug/kdb/kdb_io.c
@@ -250,7 +250,10 @@ static char *kdb_read(char *buffer, size_t bufsize)
 			kdb_printf("\b%s \r", cp);
 			tmp = *cp;
 			*cp = '\0';
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			kdb_printf(kdb_prompt_str);
+#pragma GCC diagnostic pop
 			kdb_printf("%s", buffer);
 			*cp = tmp;
 		}
@@ -272,7 +275,10 @@ static char *kdb_read(char *buffer, size_t bufsize)
 			kdb_printf("%s \r", cp);
 			tmp = *cp;
 			*cp = '\0';
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			kdb_printf(kdb_prompt_str);
+#pragma GCC diagnostic pop
 			kdb_printf("%s", buffer);
 			*cp = tmp;
 		}
@@ -280,7 +286,10 @@ static char *kdb_read(char *buffer, size_t bufsize)
 	case 1: /* Home */
 		if (cp > buffer) {
 			kdb_printf("\r");
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			kdb_printf(kdb_prompt_str);
+#pragma GCC diagnostic pop
 			cp = buffer;
 		}
 		break;
@@ -358,7 +367,10 @@ static char *kdb_read(char *buffer, size_t bufsize)
 			if (i >= dtab_count)
 				kdb_printf("...");
 			kdb_printf("\n");
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			kdb_printf(kdb_prompt_str);
+#pragma GCC diagnostic pop
 			kdb_printf("%s", buffer);
 		} else if (tab != 2 && count > 0) {
 			len_tmp = strlen(p_tmp);
@@ -383,7 +395,10 @@ static char *kdb_read(char *buffer, size_t bufsize)
 				++cp;
 				tmp = *cp;
 				*cp = '\0';
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 				kdb_printf(kdb_prompt_str);
+#pragma GCC diagnostic pop
 				kdb_printf("%s", buffer);
 				*cp = tmp;
 			} else {
@@ -444,7 +459,10 @@ char *kdb_getstr(char *buffer, size_t bufsize, const char *prompt)
 {
 	if (prompt && kdb_prompt_str != prompt)
 		strncpy(kdb_prompt_str, prompt, CMD_BUFLEN);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	kdb_printf(kdb_prompt_str);
+#pragma GCC diagnostic pop
 	kdb_nextline = 1;	/* Prompt and input resets line number */
 	return kdb_read(buffer, bufsize);
 }
diff --git a/kernel/debug/kdb/kdb_main.c b/kernel/debug/kdb/kdb_main.c
index c8146d53ca67..15eeac836cd7 100644
--- a/kernel/debug/kdb/kdb_main.c
+++ b/kernel/debug/kdb/kdb_main.c
@@ -1289,12 +1289,16 @@ static int kdb_local(kdb_reason_t reason, int error, struct pt_regs *regs,
 		*(cmd_hist[cmd_head]) = '\0';
 
 do_full_getstr:
+/* Bindly trust kdbgetenv("PROMPT") */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 #if defined(CONFIG_SMP)
 		snprintf(kdb_prompt_str, CMD_BUFLEN, kdbgetenv("PROMPT"),
 			 raw_smp_processor_id());
 #else
 		snprintf(kdb_prompt_str, CMD_BUFLEN, kdbgetenv("PROMPT"));
 #endif
+#pragma GCC diagnostic pop
 		if (defcmd_in_progress)
 			strncat(kdb_prompt_str, "[defcmd]", CMD_BUFLEN);
 
@@ -1496,7 +1500,10 @@ static void kdb_md_line(const char *fmtstr, unsigned long addr,
 				break;
 		} else if (kdb_getword(&word, addr, bytesperword))
 			break;
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		kdb_printf(fmtstr, word);
+#pragma GCC diagnostic pop
 		if (symbolic)
 			kdbnearsym(word, &symtab);
 		else
diff --git a/kernel/irq/irqdomain.c b/kernel/irq/irqdomain.c
index 31805f237396..97f0563e8dca 100644
--- a/kernel/irq/irqdomain.c
+++ b/kernel/irq/irqdomain.c
@@ -796,7 +796,11 @@ static int virq_debug_show(struct seq_file *m, void *private)
 			seq_printf(m, "%-15s  ", (chip && chip->name) ? chip->name : "none");
 
 			data = irq_desc_get_chip_data(desc);
+/* gcc is not smart enough and reports "Call with a non-constant string" */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			seq_printf(m, data ? "0x%p  " : "  %p  ", data);
+#pragma GCC diagnostic pop
 
 			seq_printf(m, "   %c    ", (desc->action && desc->action->handler) ? '*' : ' ');
 			direct = (i == hwirq) && (i < domain->revmap_direct_max_irq);
diff --git a/kernel/kallsyms.c b/kernel/kallsyms.c
index 6a3b249a2ae1..ebef3533a709 100644
--- a/kernel/kallsyms.c
+++ b/kernel/kallsyms.c
@@ -472,7 +472,10 @@ void __print_symbol(const char *fmt, unsigned long address)
 
 	sprint_symbol(buffer, address);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(fmt, buffer);
+#pragma GCC diagnostic pop
 }
 EXPORT_SYMBOL(__print_symbol);
 
diff --git a/kernel/kthread.c b/kernel/kthread.c
index 2f26adea0f84..42c4f9809c2d 100644
--- a/kernel/kthread.c
+++ b/kernel/kthread.c
@@ -418,8 +418,12 @@ struct task_struct *kthread_create_on_cpu(int (*threadfn)(void *data),
 {
 	struct task_struct *p;
 
+/* namefmt is either constant or uses %u */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	p = kthread_create_on_node(threadfn, data, cpu_to_node(cpu), namefmt,
 				   cpu);
+#pragma GCC diagnostic pop
 	if (IS_ERR(p))
 		return p;
 	kthread_bind(p, cpu);
diff --git a/kernel/trace/bpf_trace.c b/kernel/trace/bpf_trace.c
index cee9802cf3e0..fb516ee7a147 100644
--- a/kernel/trace/bpf_trace.c
+++ b/kernel/trace/bpf_trace.c
@@ -203,10 +203,13 @@ BPF_CALL_5(bpf_trace_printk, char *, fmt, u32, fmt_size, u64, arg1,
 		fmt_cnt++;
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	return __trace_printk(1/* fake ip will not be printed */, fmt,
 			      mod[0] == 2 ? arg1 : mod[0] == 1 ? (long) arg1 : (u32) arg1,
 			      mod[1] == 2 ? arg2 : mod[1] == 1 ? (long) arg2 : (u32) arg2,
 			      mod[2] == 2 ? arg3 : mod[2] == 1 ? (long) arg3 : (u32) arg3);
+#pragma GCC diagnostic pop
 }
 
 static const struct bpf_func_proto bpf_trace_printk_proto = {
diff --git a/lib/globtest.c b/lib/globtest.c
index d8e97d43b905..67385a661778 100644
--- a/lib/globtest.c
+++ b/lib/globtest.c
@@ -36,7 +36,11 @@ static bool __pure __init test(char const *pat, char const *str, bool expected)
 	else
 		return success;
 
+/* TODO extend the plugin to catch such cases */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(message, pat, str, mismatch + 3*match);
+#pragma GCC diagnostic pop
 	return success;
 }
 
diff --git a/lib/test_printf.c b/lib/test_printf.c
index fe7087bdeb54..6d87504c6acc 100644
--- a/lib/test_printf.c
+++ b/lib/test_printf.c
@@ -152,7 +152,10 @@ test_basic(void)
 	/* Work around annoying "warning: zero-length gnu_printf format string". */
 	const char nul = '\0';
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	test("", &nul);
+#pragma GCC diagnostic pop
 	test("100%", "100%%");
 	test("xxx%yyy", "xxx%cyyy", '%');
 	__test("xxx\0yyy", 7, "xxx%cyyy", '\0');
diff --git a/mm/kasan/report.c b/mm/kasan/report.c
index f479365530b6..5ecb3795f8fb 100644
--- a/mm/kasan/report.c
+++ b/mm/kasan/report.c
@@ -241,8 +241,11 @@ static void print_shadow_for_address(const void *addr)
 		char buffer[4 + (BITS_PER_LONG/8)*2];
 		char shadow_buf[SHADOW_BYTES_PER_ROW];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		snprintf(buffer, sizeof(buffer),
 			(i == 0) ? ">%p: " : " %p: ", kaddr);
+#pragma GCC diagnostic pop
 		/*
 		 * We should not pass a shadow pointer to generic
 		 * function, because generic functions may try to
diff --git a/mm/shmem.c b/mm/shmem.c
index e67d6ba4e98e..40c1e74424d6 100644
--- a/mm/shmem.c
+++ b/mm/shmem.c
@@ -3989,9 +3989,12 @@ static ssize_t shmem_enabled_show(struct kobject *kobj,
 	for (i = 0, count = 0; i < ARRAY_SIZE(values); i++) {
 		const char *fmt = shmem_huge == values[i] ? "[%s] " : "%s ";
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		count += sprintf(buf + count, fmt,
 				shmem_format_huge(values[i]));
 	}
+#pragma GCC diagnostic pop
 	buf[count - 1] = '\n';
 	return count;
 }
diff --git a/mm/slub.c b/mm/slub.c
index 7aebffd145aa..b6d23090a916 100644
--- a/mm/slub.c
+++ b/mm/slub.c
@@ -3631,7 +3631,11 @@ static void list_slab_objects(struct kmem_cache *s, struct page *page,
 				     sizeof(long), GFP_ATOMIC);
 	if (!map)
 		return;
+/* text has a %s */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	slab_err(s, page, text, s->name);
+#pragma GCC diagnostic pop
 	slab_lock(page);
 
 	get_map(s, page, map);
diff --git a/net/8021q/vlanproc.c b/net/8021q/vlanproc.c
index 7e3a70742aa7..b58269d7ea78 100644
--- a/net/8021q/vlanproc.c
+++ b/net/8021q/vlanproc.c
@@ -290,12 +290,15 @@ static int vlandev_seq_show(struct seq_file *seq, void *offset)
 		   vlandev->name, vlan->vlan_id,
 		   (int)(vlan->flags & 1), vlandev->priv_flags);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	seq_printf(seq, fmt64, "total frames received", stats->rx_packets);
 	seq_printf(seq, fmt64, "total bytes received", stats->rx_bytes);
 	seq_printf(seq, fmt64, "Broadcast/Multicast Rcvd", stats->multicast);
 	seq_puts(seq, "\n");
 	seq_printf(seq, fmt64, "total frames transmitted", stats->tx_packets);
 	seq_printf(seq, fmt64, "total bytes transmitted", stats->tx_bytes);
+#pragma GCC diagnostic pop
 	seq_printf(seq, "Device: %s", vlan->real_dev->name);
 	/* now show all PRIORITY mappings relating to this VLAN */
 	seq_printf(seq, "\nINGRESS priority mappings: "
diff --git a/net/can/proc.c b/net/can/proc.c
index 85ef7bb0f176..da301eda619c 100644
--- a/net/can/proc.c
+++ b/net/can/proc.c
@@ -200,8 +200,11 @@ static void can_print_rcvlist(struct seq_file *m, struct hlist_head *rx_list,
 			"   %-5s  %08x  %08x  %pK  %pK  %8ld  %s\n" :
 			"   %-5s     %03x    %08x  %pK  %pK  %8ld  %s\n";
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		seq_printf(m, fmt, DNAME(dev), r->can_id, r->mask,
 				r->func, r->data, r->matches, r->ident);
+#pragma GCC diagnostic pop
 	}
 }
 
diff --git a/net/core/dev.c b/net/core/dev.c
index 8637b2b71f3d..bc15821f8964 100644
--- a/net/core/dev.c
+++ b/net/core/dev.c
@@ -1053,7 +1053,10 @@ static int __dev_alloc_name(struct net *net, const char *name, char *buf)
 				continue;
 
 			/*  avoid cases where sscanf is not exact inverse of printf */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 			snprintf(buf, IFNAMSIZ, name, i);
+#pragma GCC diagnostic pop
 			if (!strncmp(buf, d->name, IFNAMSIZ))
 				set_bit(i, inuse);
 		}
@@ -1062,8 +1065,11 @@ static int __dev_alloc_name(struct net *net, const char *name, char *buf)
 		free_page((unsigned long) inuse);
 	}
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (buf != name)
 		snprintf(buf, IFNAMSIZ, name, i);
+#pragma GCC diagnostic pop
 	if (!__dev_get_by_name(net, buf))
 		return i;
 
@@ -5771,8 +5777,11 @@ static int netdev_adjacent_sysfs_add(struct net_device *dev,
 {
 	char linkname[IFNAMSIZ+7];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	sprintf(linkname, dev_list == &dev->adj_list.upper ?
 		"upper_%s" : "lower_%s", adj_dev->name);
+#pragma GCC diagnostic pop
 	return sysfs_create_link(&(dev->dev.kobj), &(adj_dev->dev.kobj),
 				 linkname);
 }
@@ -5782,8 +5791,11 @@ static void netdev_adjacent_sysfs_del(struct net_device *dev,
 {
 	char linkname[IFNAMSIZ+7];
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	sprintf(linkname, dev_list == &dev->adj_list.upper ?
 		"upper_%s" : "lower_%s", name);
+#pragma GCC diagnostic pop
 	sysfs_remove_link(&(dev->dev.kobj), linkname);
 }
 
diff --git a/net/netfilter/ipvs/ip_vs_sync.c b/net/netfilter/ipvs/ip_vs_sync.c
index b03c28084f81..32b9dc336730 100644
--- a/net/netfilter/ipvs/ip_vs_sync.c
+++ b/net/netfilter/ipvs/ip_vs_sync.c
@@ -1893,7 +1893,11 @@ int start_sync_thread(struct netns_ipvs *ipvs, struct ipvs_sync_daemon_cfg *c,
 		}
 		tinfo->id = id;
 
+/* name is always initialized */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		task = kthread_run(threadfn, tinfo, name, ipvs->gen, id);
+#pragma GCC diagnostic pop
 		if (IS_ERR(task)) {
 			result = PTR_ERR(task);
 			goto outtinfo;
diff --git a/net/netfilter/nf_tables_api.c b/net/netfilter/nf_tables_api.c
index 5e0ccfd5bb37..3111d0e88a6a 100644
--- a/net/netfilter/nf_tables_api.c
+++ b/net/netfilter/nf_tables_api.c
@@ -2598,7 +2598,11 @@ static int nf_tables_set_alloc_name(struct nft_ctx *ctx, struct nft_set *set,
 		free_page((unsigned long)inuse);
 	}
 
+/* TODO/maybe BUG: how/where is name computed? */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(set->name, sizeof(set->name), name, min + n);
+#pragma GCC diagnostic pop
 	list_for_each_entry(i, &ctx->table->sets, list) {
 		if (!nft_is_active_next(ctx->net, i))
 			continue;
diff --git a/net/netfilter/nft_compat.c b/net/netfilter/nft_compat.c
index c21e7eb8dce0..398edb7f5ea7 100644
--- a/net/netfilter/nft_compat.c
+++ b/net/netfilter/nft_compat.c
@@ -576,9 +576,13 @@ static int nfnl_compat_get(struct net *net, struct sock *nfnl,
 		return -EINVAL;
 	}
 
+/* fmt is always initialized */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	try_then_request_module(xt_find_revision(nfmsg->nfgen_family, name,
 						 rev, target, &ret),
 						 fmt, name);
+#pragma GCC diagnostic pop
 
 	if (ret < 0)
 		return ret;
diff --git a/net/tipc/netlink_compat.c b/net/tipc/netlink_compat.c
index 30f028c811fe..7a0531ef93ff 100644
--- a/net/tipc/netlink_compat.c
+++ b/net/tipc/netlink_compat.c
@@ -773,7 +773,10 @@ static int tipc_nl_compat_name_table_dump_header(struct tipc_nl_compat_msg *msg)
 	if (depth > 4)
 		depth = 4;
 	for (i = 0; i < depth; i++)
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		tipc_tlv_sprintf(msg->rep, header[i]);
+#pragma GCC diagnostic pop
 	tipc_tlv_sprintf(msg->rep, "\n");
 
 	return 0;
diff --git a/security/integrity/ima/ima_policy.c b/security/integrity/ima/ima_policy.c
index aed47b777a57..33848383d651 100644
--- a/security/integrity/ima/ima_policy.c
+++ b/security/integrity/ima/ima_policy.c
@@ -958,6 +958,8 @@ static void policy_func_show(struct seq_file *m, enum ima_hooks func)
 {
 	char tbuf[64] = {0,};
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	switch (func) {
 	case FILE_CHECK:
 		seq_printf(m, pt(Opt_func), ft(func_file));
@@ -991,6 +993,7 @@ static void policy_func_show(struct seq_file *m, enum ima_hooks func)
 		seq_printf(m, pt(Opt_func), tbuf);
 		break;
 	}
+#pragma GCC diagnostic pop
 	seq_puts(m, " ");
 }
 
@@ -1018,6 +1021,8 @@ int ima_policy_show(struct seq_file *m, void *v)
 	if (entry->flags & IMA_FUNC)
 		policy_func_show(m, entry->func);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	if (entry->flags & IMA_MASK) {
 		if (entry->mask & MAY_EXEC)
 			seq_printf(m, pt(Opt_mask), mt(mask_exec));
@@ -1095,6 +1100,7 @@ int ima_policy_show(struct seq_file *m, void *v)
 			}
 		}
 	}
+#pragma GCC diagnostic pop
 	if (entry->flags & IMA_DIGSIG_REQUIRED)
 		seq_puts(m, "appraise_type=imasig ");
 	if (entry->flags & IMA_PERMIT_DIRECTIO)
diff --git a/sound/core/ctljack.c b/sound/core/ctljack.c
index 84a3cd683068..d83462b5e140 100644
--- a/sound/core/ctljack.c
+++ b/sound/core/ctljack.c
@@ -59,7 +59,10 @@ static void jack_kctl_name_gen(char *name, const char *src_name, int size)
 	if (count >= 5)
 		need_cat = strncmp(&src_name[count - 5], " Jack", 5) ? true : false;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(name, size, need_cat ? "%s Jack" : "%s", src_name);
+#pragma GCC diagnostic pop
 
 }
 
diff --git a/sound/core/misc.c b/sound/core/misc.c
index 21b228046e88..fea8fa1781b6 100644
--- a/sound/core/misc.c
+++ b/sound/core/misc.c
@@ -99,7 +99,10 @@ void __snd_printk(unsigned int level, const char *path, int line,
 	if (!level_found && level)
 		memcpy(verbose_fmt, KERN_DEBUG, sizeof(KERN_DEBUG) - 1);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	printk(verbose_fmt, sanity_file_name(path), line, &vaf);
+#pragma GCC diagnostic pop
 #else
 	vprintk(format, args);
 #endif
diff --git a/sound/core/seq/seq_clientmgr.c b/sound/core/seq/seq_clientmgr.c
index 4c935202ce23..fe6dffa9a9a6 100644
--- a/sound/core/seq/seq_clientmgr.c
+++ b/sound/core/seq/seq_clientmgr.c
@@ -2393,7 +2393,10 @@ static void snd_seq_info_dump_subscribers(struct snd_info_buffer *buffer,
 		up_read(&group->list_mutex);
 		return;
 	}
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snd_iprintf(buffer, msg);
+#pragma GCC diagnostic pop
 	list_for_each(p, &group->list_head) {
 		if (is_src)
 			s = list_entry(p, struct snd_seq_subscribers, src_list);
diff --git a/sound/drivers/dummy.c b/sound/drivers/dummy.c
index 172dacd925f5..4218c08ed239 100644
--- a/sound/drivers/dummy.c
+++ b/sound/drivers/dummy.c
@@ -988,12 +988,15 @@ static void dummy_proc_read(struct snd_info_entry *entry,
 
 	for (i = 0; i < ARRAY_SIZE(fields); i++) {
 		snd_iprintf(buffer, "%s ", fields[i].name);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 		if (fields[i].size == sizeof(int))
 			snd_iprintf(buffer, fields[i].format,
 				*get_dummy_int_ptr(dummy, fields[i].offset));
 		else
 			snd_iprintf(buffer, fields[i].format,
 				*get_dummy_ll_ptr(dummy, fields[i].offset));
+#pragma GCC diagnostic pop
 		if (!strcmp(fields[i].name, "formats"))
 			print_formats(dummy, buffer);
 		else if (!strcmp(fields[i].name, "rates"))
diff --git a/sound/drivers/opl3/opl3_seq.c b/sound/drivers/opl3/opl3_seq.c
index fdae5d7f421f..cb8a46fab811 100644
--- a/sound/drivers/opl3/opl3_seq.c
+++ b/sound/drivers/opl3/opl3_seq.c
@@ -235,9 +235,12 @@ static int snd_opl3_seq_probe(struct device *_dev)
 	/* allocate new client */
 	opl_ver = (opl3->hardware & OPL3_HW_MASK) >> 8;
 	sprintf(name, "OPL%i FM synth", opl_ver);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	client = opl3->seq_client =
 		snd_seq_create_kernel_client(opl3->card, opl3->seq_dev_num,
 					     name);
+#pragma GCC diagnostic pop
 	if (client < 0)
 		return client;
 
diff --git a/sound/pci/korg1212/korg1212.c b/sound/pci/korg1212/korg1212.c
index 1e25095fd144..eeef19278be4 100644
--- a/sound/pci/korg1212/korg1212.c
+++ b/sound/pci/korg1212/korg1212.c
@@ -2048,7 +2048,10 @@ static void snd_korg1212_proc_read(struct snd_info_entry *entry,
 	int n;
 	struct snd_korg1212 *korg1212 = entry->private_data;
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snd_iprintf(buffer, korg1212->card->longname);
+#pragma GCC diagnostic pop
 	snd_iprintf(buffer, " (index #%d)\n", korg1212->card->number + 1);
 	snd_iprintf(buffer, "\nGeneral settings\n");
 	snd_iprintf(buffer, "    period size: %zd bytes\n", K1212_PERIOD_BYTES);
diff --git a/sound/pci/rme32.c b/sound/pci/rme32.c
index 96d15db65dfd..d7c2f80b7804 100644
--- a/sound/pci/rme32.c
+++ b/sound/pci/rme32.c
@@ -1467,7 +1467,10 @@ snd_rme32_proc_read(struct snd_info_entry * entry, struct snd_info_buffer *buffe
 
 	rme32->rcreg = readl(rme32->iobase + RME32_IO_CONTROL_REGISTER);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snd_iprintf(buffer, rme32->card->longname);
+#pragma GCC diagnostic pop
 	snd_iprintf(buffer, " (index #%d)\n", rme32->card->number + 1);
 
 	snd_iprintf(buffer, "\nGeneral settings\n");
diff --git a/sound/pci/rme96.c b/sound/pci/rme96.c
index 05b9da30990d..bdb7382965f8 100644
--- a/sound/pci/rme96.c
+++ b/sound/pci/rme96.c
@@ -1727,7 +1727,10 @@ snd_rme96_proc_read(struct snd_info_entry *entry, struct snd_info_buffer *buffer
 	
 	rme96->rcreg = readl(rme96->iobase + RME96_IO_CONTROL_REGISTER);
 
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snd_iprintf(buffer, rme96->card->longname);
+#pragma GCC diagnostic pop
 	snd_iprintf(buffer, " (index #%d)\n", rme96->card->number + 1);
 
 	snd_iprintf(buffer, "\nGeneral settings\n");
diff --git a/sound/soc/omap/mcbsp.c b/sound/soc/omap/mcbsp.c
index 06fec5699cc8..0b5be3f8d287 100644
--- a/sound/soc/omap/mcbsp.c
+++ b/sound/soc/omap/mcbsp.c
@@ -880,9 +880,12 @@ static ssize_t st_taps_show(struct device *dev,
 	int i;
 
 	spin_lock_irq(&mcbsp->lock);
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	for (i = 0; i < st_data->nr_taps; i++)
 		status += sprintf(&buf[status], (i ? ", %d" : "%d"),
 				  st_data->taps[i]);
+#pragma GCC diagnostic pop
 	if (i)
 		status += sprintf(&buf[status], "\n");
 	spin_unlock_irq(&mcbsp->lock);
diff --git a/sound/usb/midi.c b/sound/usb/midi.c
index 6e763bc8d7db..60cae8b727c8 100644
--- a/sound/usb/midi.c
+++ b/sound/usb/midi.c
@@ -1751,8 +1751,11 @@ static void snd_usbmidi_init_substream(struct snd_usb_midi *umidi,
 	/* TODO: read port name from jack descriptor */
 	port_info = find_port_info(umidi, number);
 	name_format = port_info ? port_info->name : "%s MIDI %d";
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(substream->name, sizeof(substream->name),
 		 name_format, umidi->card->shortname, number + 1);
+#pragma GCC diagnostic pop
 
 	*rsubstream = substream;
 }
diff --git a/sound/usb/mixer_quirks.c b/sound/usb/mixer_quirks.c
index 4fa0053a40af..c0df64faa954 100644
--- a/sound/usb/mixer_quirks.c
+++ b/sound/usb/mixer_quirks.c
@@ -101,7 +101,10 @@ static int snd_create_std_mono_ctl_offset(struct usb_mixer_interface *mixer,
 	}
 
 	/* Set name */
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-security"
 	snprintf(kctl->id.name, sizeof(kctl->id.name), name);
+#pragma GCC diagnostic pop
 	kctl->private_free = snd_usb_mixer_elem_free;
 
 	/* set TLV */
-- 
