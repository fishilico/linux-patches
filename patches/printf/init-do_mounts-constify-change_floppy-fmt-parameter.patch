From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Nicolas Iooss <nicolas.iooss_linux@m4x.org>
Date: Mon, 2 Mar 2015 15:22:39 +0800
Subject: [PATCH] {PRINTF} init/do_mounts: constify change_floppy fmt parameter
 and add __printf attribute

---
 init/do_mounts.c | 2 +-
 init/do_mounts.h | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/init/do_mounts.c b/init/do_mounts.c
index af9cda887a23..9b9ea85d94c7 100644
--- a/init/do_mounts.c
+++ b/init/do_mounts.c
@@ -542,7 +542,7 @@ static int __init mount_cifs_root(void)
 #endif
 
 #if defined(CONFIG_BLK_DEV_RAM) || defined(CONFIG_BLK_DEV_FD)
-void __init change_floppy(char *fmt, ...)
+void __init change_floppy(const char *fmt, ...)
 {
 	struct termios termios;
 	char buf[80];
diff --git a/init/do_mounts.h b/init/do_mounts.h
index 0bb0806de4ce..8276acf9d20d 100644
--- a/init/do_mounts.h
+++ b/init/do_mounts.h
@@ -9,7 +9,8 @@
 #include <linux/major.h>
 #include <linux/root_dev.h>
 
-void  change_floppy(char *fmt, ...);
+__printf(1, 2)
+void  change_floppy(const char *fmt, ...);
 void  mount_block_root(char *name, int flags);
 void  mount_root(void);
 extern int root_mountflags;
-- 
